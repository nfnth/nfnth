<!DOCTYPE html><html lang="en"><!-- add date time stamp, purchase button, timer with BTC address -->
	
<head><title>• • •</title>
<meta http-equiv="Content-Language" content="en-US"><meta charset="UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="deed domains for sale, from deed to domain, collectible domains" /><meta name="keywords" content="domain, deed, urland, iocur, ocur, ocurio, dBay, nfnth, dralun" />
<meta name="author" content="ocur" />

<!-- resources -->
<script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mapbox-gl/2.11.0/mapbox-gl.js" integrity="sha512-kH0Kk+oPmZ+F7HbpYS4nQvazGc7ykQJ1+0M2+DfE0mGv0/cLI3QR1IpGCYOVPGc9OlIDm2PWLbjOJBBxoj4L5A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script defer src="res/app/all.js"></script><link rel="stylesheet" href="res/app/all.css"></script><script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-compare/v0.4.0/mapbox-gl-compare.js"></script><link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-compare/v0.4.0/mapbox-gl-compare.css" type="text/css"><script type="module" src="https://cdn.jsdelivr.net/npm/emoji-picker-element@^1/index.js"></script><script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.0/mapbox-gl-geocoder.min.js"></script><link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.0/mapbox-gl-geocoder.css" type="text/css"></head>

<body id="mainer" style="overflow:overlay; background-color:whitesmoke;transition: opacity 1s linear; opacity:0;" >

<!-- menu -->
<nav id="main-menu" style="position: fixed;top:0; z-index:2;" class="z-depth-1">
	<div id="panel-menu" class="nav-wrapper header z-depth-1 grey lighten-5" style="padding-top:0px!important; padding-bottom:0px!important; display:flex; justify-content: space-between; color:black;">
    		<div style="height:103%;border-bottom:solid 2px darkred;" class="z-depth-1"><a id="menu-deed" style="cursor:pointer; color:darkslategrey; opacity:0.7; background-color:ghostwhite; display: flex; align-items: center; height: 100%; padding-right: 10px;font-weight: bold;font-size: 20px; -webkit-transition: background-color 300ms linear, color 300ms linear;-moz-transition: background-color 300ms linear, color 300ms linear;-o-transition: background-color 300ms linear, color 300ms linear;-ms-transition: background-color 300ms linear, color 300ms linear;transition: background-color 300ms linear, color 300ms linear;"><i id="bars" class="material-icons" style="padding-left:16px;" onclick="$('#deed-pane').sidenav('open');">menu</i><div id="waiter" style="height:48px; width:48px; cursor: pointer; margin-left: 12px;" onclick="$('#deed-pane').sidenav('open');"><img id="list-wait" class="image" src="res/img/seal3.png" width="48" /></div></a></div>

    		<!-- profile -->
    		<div id="egger" class="containerx yellowx golden" style="background-color: beige;display:none;"><span id="connor" class="button setter">🪨</span>
    		
			  <div class="contentx">
				<div id="walleter" class="head" style="display: flex;align-items: center;justify-content: space-evenly;">
					<a id="mapper" style="border-radius:8px; width:160px; display: flex;justify-content: space-between;" class="waves-effect waves-light deep-orange accent-2 btn" onclick="closeTop(); showView('charter');"><span class="mobile-hide">MAP</span><span>🗺️</span></a>
					<a id="mapper" style="border-radius:8px; width:160px; display: flex;justify-content: space-between;" class="waves-effect waves-light amber lighten-2 btn" onclick="closeTop(); $('#task-pane').sidenav('open'); setup();"><span class="mobile-hide">EDITOR</span><span>🧭</span></a></div>
				<div class="body" style="text-align:center;">
					<ul style="display: flex;flex-direction: column;">
						<li class="edger"><a id="locurScan" onclick="closeTop(); showDoc('manifest');" class="edger waves-effect"><span  class="lighten-2" style="color:black!important;">📙&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="myDomain" style="color:black!important;">Read Guide</span></a></li>
						
						<li class="edger"><a onclick="closeTop(); showView('emojier');" class="edger waves-effect"><span  style="color:black!important;">🔎&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:black!important;">Search Deed</span></a></li>
						<li class="edger"><a class="edger waves-effect" onclick="closeTop(); showView('slider');" ><span  style="color:black!important;">🖼️&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="myAdd" style="color:black!important;">Show Gallery</span></a></li>
						<li class="edger"><a onclick="closeTop(); showView('corp');" class="edger waves-effect"><span  style="color:black!important;">⚔️&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:black!important;">Play Dralun</span></a></li>
						<li><div style="margin-top:0;" class="divider"></div></li>
						<li id="deeder" class="mobile-stat" style="display: flex; align-items: center; margin:12px;justify-content:center;">No stats available.</li></ul></div></div></div>
						
		<div style="width:64px;margin-left:16px;"><a id="dropdown-user" href="#" data-target="dropdown-use" class="dropdown-trigger" style="position:absolute;right:0;"><div style="width:64px;"><img class="image image-rotate gear-image" id="gear-pic" style="opacity:0.6; height: 48px;position:absolute; margin: 4px; cursor:pointer;right:12px;top:4px;" /><img id="gear-pic2" class="image image-rotate gear-image" style="opacity:0.6; height: 48px;position:absolute;cursor:pointer;margin:4px;right:12px;top:4px;" /></div></a></div></div></nav>

<!-- menu (domain) -->
<nav id="domainer" class="content loader pane blue-grey lighten-5" style="position:absolute;top:48px;display: flex; justify-content: center;align-items: center;z-index: 1;padding-top:6px;height:84px;">
    <div class="nav-wrapper" style="display:flex; align-items:center; justify-content:center;"><div style="display:flex;align-items:center;justify-content:center;padding-top:12px;"><select id="domain-template" class="sider disabled" onchange="domainSelect();"><option selected="selected" value="void">No profile connected.</option><option value="tactician.us">tactician.us (demo)</option></select></div></div></nav>

<!-- menu (search) -->
<nav id="searcher" class="content loader pane" style="position:absolute;top:66px;background-color:burlywood;">
    <div class="nav-wrapper"><form><div class="input-field"><input id="search" type="search" required><label class="label-icon" for="search"><i class="material-icons">search</i></label><i onclick="clearSearch();" class="material-icons">close</i></div></form></div></nav>

<!-- panel -->
<ul id="deed-pane" class="sidenav loader" style="overflow:hidden;">
	<li><div class="user-view z-depth-1 blue-grey lighten-5" style="display: flex;margin: auto; padding: 0;align-items: center; justify-content: space-evenly; height:72px;"><div class="containerx redx"  style="z-index:2;" ><span id="booker" class="button setter">📚</span>
			  <div class="contentx">
				<div class="head" style="display: flex;align-items: center;justify-content: center;padding-top:0;"></div>
				<div class="body"><p>
					<ul style="display: flex;flex-direction: column;">
						<li class="booker"><a onclick="closeLeft(); openInNewTab('https://discord.com/channels/938133518154887168/938133518154887171');"  class="waves-effect" style="display:flex;align-items:center;padding-top:12px;padding-bottom:12px;"><div style="display:flex;"><img class="hover-link" src="res/img/icon/discord.png" style="width:24px; height:24px;" /></div>&nbsp;&nbsp;&nbsp;&nbsp;Follow Discord</a></li>
						<li class="booker"  style="margin-bottom:12px;"><a onclick="closeLeft(); openInNewTab('https://opensea.io/urland');" class="waves-effect" style="display:flex;align-items:center;padding-top:12px;padding-bottom:12px;"><div style="display:flex;"><img class="hover-link" src="res/img/icon/opensea.png" style="width:24px; height:24px;" /></div>&nbsp;&nbsp;&nbsp;&nbsp;Shop OpenSea</a></li>
						
						<li><a class="subheader">Guide</a></li>
						<li class="booker"><a onclick="closeLeft(); showView('charter'); clearTutorial(); setTimeout(function() { showTutorial(); }, 1000);" class="waves-effect" style="display:flex;align-items:center;"><div>🕯️</div>&nbsp;&nbsp;&nbsp;&nbsp;Learn To Explore</a></li>
						<li class="booker"><a onclick="closeLeft(); showView('charter'); clearTutorial(); setTimeout(function() { showOutpost(); }, 1000);" class="waves-effect" style="display:flex;align-items:center;"><div>🪵</div>&nbsp;&nbsp;&nbsp;&nbsp;Build Outpost</a></li>
						
						<li class="booker"><a onclick="closeLeft(); showView('charter'); clearTutorial(); setTimeout(function() { showHouse(); }, 1000);" class="waves-effect" style="display:flex;align-items:center;"><div>🏝️</div>&nbsp;&nbsp;&nbsp;&nbsp;About UR.Land</a></li>
						<li><div style="margin-top:0;" class="divider"></div></li>
						<li><a class="subheader">Manual</a></li>
						<li class="booker"><a onclick="showDoc('deed');" class="waves-effect" style="display:flex;align-items:center;"><div>📕</div>&nbsp;&nbsp;&nbsp;&nbsp;On Deed Domain</a></li>
						<li class="booker"><a onclick="showDoc('README'); setTimeout(function() { $('#image-template').formSelect(); }, 1000);" class="waves-effect" style="display:flex;align-items:center;padding-right:0px;"><div>📗</div>&nbsp;&nbsp;&nbsp;&nbsp;Run urOS&nbsp;&nbsp;&nbsp;&nbsp;<span style="margin:0; width:80px; color: whitesmoke!important;" class="badge green darken-2">v3.14-1</span></a></li>
						<li class="booker"><a onclick="showDoc('ocur');" class="waves-effect" style="display:flex;align-items:center;"><div>📘</div>&nbsp;&nbsp;&nbsp;&nbsp;Trade OCUR</a></li></ul></p></div></div></div></div></li>
				
	<!-- tabs (doc) -->
	<li style="height:100%;"><ul id="token-tabs" class="tabs tabs-fixed-width z-depth-1 deed">
			<li class="tab blue-grey lighten-5" onclick="showList('open');"><a class="active" href="#test1">Class</a></li>
			<li class="tab blue-grey lighten-5" onclick="showList('domain');"><a href="#test2">&nbsp;&nbsp;Deed&nbsp;&nbsp;</a></li></ul><div class="card-content z-depth-1" style="height:100%;background-color:ghostwhite;">
			
		<!-- list (collect) -->
		<div id="test1"><ul>
			<li style="padding-top:16px;margin-bottom:12px;display: flex;justify-content: space-evenly;"><div style="display:flex;justify-content:space-evenly;width:100%;"><a class='btn-flat waves-effect waves-light' onclick="selOpen();"><i id="open-sel-icon" class="material-icons">select_all</i></a><a id="dropdown-opener" class='dropdown-trigger btn-flat' href='#' data-target='dropdown-open'><i class="material-icons">sort</i></a><a class="waves-effect waves-light btn red lighten-4" style="display:inline-flex;align-items:center;" onclick="switchOpen(); labelOpen();"><span id="open-icon">🗂️</span></a></div></li>
			<li><div id="registry-open" class="collection" style="overflow:scroll;"><a class='collection-item'>No class found.</a></div></li></ul></div>
			
		<!-- list (item) -->
		<div id="test2"><ul>
			<li style="padding-top:16px;margin-bottom:12px;display: flex;justify-content: space-evenly;"><div style="display:flex;justify-content:space-evenly;width:100%;"><a id='selLink' class='btn-flat disabled' onclick="selDomain();"><i id="domain-sel-icon" class="material-icons">select_all</i></a><a id="dropdown-domainer" class='dropdown-trigger btn-flat disabled' ref='#' data-target='dropdown-domain'><i class="material-icons">sort</i></a><a id='switchLink' class="waves-effect waves-light btn amber lighten-4 disabled" style="display:inline-flex;align-items:center;" onclick="switchDomain(); labelDomain();"><span id="domain-icon">📑</span></a></div></li>
			<li><div id="registry-domain" class="collection" style="overflow:scroll;"><a onclick='$(#token-tabs).select("test1");' class='collection-item'>No deed found.</a></div></li></ul></div></div></div></li></ul>

<!-- panel (wallet) -->
<ul id="task-pane" class="sidenav loader" style="overflow:hidden;">
	<li><div class="user-view z-depth-1 blue-grey lighten-5" style="z-index:9;display: flex;margin: auto; padding: 0;align-items: center; justify-content: space-evenly; height:72px;">
		<div id="setter" class="containerx whitex " ><span id="booker2" class="button setter">🧰</span>
			  <div class="contentx">
				<div class="head" style="display: flex;align-items: center;justify-content: center;padding-top:0;"></div>
				<div class="body"><p>
					<ul style="display: flex;flex-direction: column;">
						
						<li><a class="subheader">Settings</a></li>
						<li class="helper"><a onclick="showTool();" class="waves-effect" style="display:flex;justify-items:center;"><div id="set-1" class="quick hoverable z-depth-1">🔧</div><span id="span-tool">Enable Tools</span></a></li>
						<li class="helper"><a onclick="showShop();" class="waves-effect" style="display:flex;justify-items:center;"><div id="set-2" class="quicky hoverable z-depth-1">🗡️</div><span id="span-shop">Shop Dralun Off</span></a></li>
						<li class="helper"><a onclick="showHist();" class="waves-effect" style="display:flex;justify-items:center;"><div id="set-3" class="quickg hoverable z-depth-1">🏛️</div><span id="span-hist">Show History</span></a></li>
						<li class="helper"><a onclick="showSat(); " class="waves-effect" style="display:flex;justify-items:center;"> <div id="set-4" class="quickb hoverable z-depth-1">🌎</div><span id="span-sat">Switch Street</span></a></li>
						<li style="text-align:center;margin-top:16px;cursor:pointer;" ><a onclick="$('#modal-qr').modal('open'); document.getElementById('booker2').click(); $('#task-pane').sidenav('close');" class="waves-effect" style="display:flex;align-items:center;padding-top:12px;padding-bottom:12px;justify-content:center;"><div>🎫</div>&nbsp;&nbsp;&nbsp;&nbsp;Submit Ticket</a></li></ul></p></div></div></div></div></li>
				
	<!-- tabs (note) -->
	<li style="height:100%;"><div class="card-content z-depth-1" style="height:100%;background-color:ghostwhite;">
		<!-- list (task) -->
		<div id="test3"><ul>
			<li class="z-depth-1" style="display: flex;align-items: center;justify-content: space-evenly;background-color:ghostwhite;padding-top:12px;padding-bottom:12px;flex-direction:column;">
				<div style="display:flex; flex-direction:row;"><a id="signer" class="waves-effect waves-light blue lighten-2 btn" style="width:130px; display:flex;justify-content:space-between;border-radius:8px 8px 8px 8px; align-items:center;" onclick="setup();"><img src="res/img/icon/meta.png" style="width:24px;height:24px;" /><span id="sign-text">CONNECT</span></a>&nbsp;&nbsp;&nbsp;&nbsp;<a id="tasker" onclick="$('#modal-editor').modal('open'); $('#task-pane').sidenav('close');" class="waves-effect waves-light blue lighten-4 btn disabled" style="width:130px; display:flex;justify-content:space-between;border-radius:8px 8px 8px 8px;">📦&nbsp;&nbsp;&nbsp;&nbsp;<span>SEND</span></a></div></li>
			<li style="padding-top:16px;margin-bottom:12px;display: flex;justify-content: space-evenly;"><div style="display:flex;justify-content:space-evenly;width:100%;"><a id='selLink' class='btn-flat disabled' onclick="selDomain();"><i id="domain-sel-icon" class="material-icons">select_all</i></a><a id="dropdown-domainer" class='dropdown-trigger btn-flat disabled' ref='#' data-target='dropdown-domain'><i class="material-icons">sort</i></a><a id='switchLink' class="waves-effect waves-light btn amber lighten-4 disabled" style="display:inline-flex;align-items:center;" onclick="switchDomain();"><span id="domain-icon">🗄️</span></a></div></li>
			<li><div id="registry-domain" class="collection" style="overflow:auto;"><a onclick='$(#token-tabs).select("test1");' class='collection-item'>No messages found.</a></div></li></ul></div></div></div></li></ul>	
			
<!-- view -->
<div id="home" style="height:106%; text-align:center; width:100%; background-color:gainsboro;margin-top:36px;" class="print-help">

	<!-- load -->
	<div id="loader" class="content loader pane" style="margin-top:35%;"><div style="width:100%;height:100%;text-align:center;display:flex;justify-content:center;align-items:center;position:relative;">
			<div class="z-depth-1" style="width:240px;  background-color:whitesmoke;display:flex;justify-content:center;align-items:center;position:relative;border-radius:12px;"><div style="position:absolute;color:indianred;margin-top:-100px;">LOADING OCUR ...</div>
			<div style="position:absolute;background-color:indianred;border-radius:50%;width:58px;height:58px;"><img class="image-rotate gear-image" id="leaf-pic" style="height:54px;width:54px;object-fit:cover;padding:8px;" /></div>
		<div style="position:absolute;opacity:0.5;z-index:999;" class="preloader-wrapper big active"><div class="spinner-layer spinner-red-only lighten-3"><div class="circle-clipper left">
			<div class="circle"></div></div><div class="gap-patch"><div class="circle"></div></div><div class="circle-clipper right"><div class="circle"></div></div></div></div>
		<div class="progress red lighten-3" style="width:40%;margin-top:120px;"><div id="bar" class="determinate red lighten-2" style="width: 1%"></div></div></div></div></div>

	<!-- map -->
	<div id="charter" class="content loader pane scale-transition scale-out" style="overflow-y: auto; height: 115%;width:100%;margin-top:80px;"><div id="comparison-container" style="width:100%;height:100%;"><div id="before" class="map"></div><div id="after" class="map"></div></div></div>
<!--<div class="hiddenfile"><div style="visibility:hidden;width:0;position:absolute;top:0;"><input name="upload" type="file" id="preview" onchange="setPreview(); $('#modal-map').modal('open'); " multiple="multiple"/></div></div>-->

	<!-- search -->
	<div id="emojier" class="content loader pane scale-transition scale-out" style="overflow-y: auto; width:100%;height:100%;margin-top:90px;">
			<div class="z-depth-2" style="width:100%;display:flex;align-items:center;justify-content:space-evenly;padding:24px; background-color:ghostwhite; flex-direction:column;">
				<div><emoji-picker style="border-radius:8px;"></emoji-picker></div></div>
				<div id="resulter" style="margin-top:48px;">No search results.</div></div>

	<!-- gallery -->
	<div id="slider" class="slider content loader pane scale-transition scale-out" >
		<div class="items-group">
			<div id="item0" class="item" >
				<div id="flip0" class="block flip-card flip-card-inner" style="display:flex;align-items:center;cursor:pointer;">
					<div class="flip-card-fronty backer card-wrap" style="height:120px;width:100%;background-color:whitesmoke;color:black;opacity:0.75;transition:all 0.5s!important;"><span class="circleLight"></span><div  class="text" style="display:flex; flex-direction:column;align-items:center;">
					<div style="display:flex;align-items:center;"><img src="res/img/seal3.png" style="width:48px; height:48px;" /><span style="margin-top:12px;margin-left:12px;color:indianred;font-weight:bold;font-size:16px;">OCUR </span><span style="margin-top:12px;margin-left:12px;font-weight:bold;">dee.d/omain</span></div><p  id="card-name0" style="display:flex; align-items:center;">I`m cool card</p></div></div></div></div>
			<div id="item1" class="item">
				<div id="flip1" class="block flip-card flip-card-inner" style="display:flex;align-items:center;cursor:pointer;" >
					<div class="flip-card-fronty backer card-wrap" style="height:120px;width:100%;background-color:whitesmoke;color:black;opacity:0.75;transition:all 0.5s!important;"><span class="circleLight"></span><div  class="text" style="display:flex; flex-direction:column;align-items:center;">
					<div style="display:flex;align-items:center;"><img src="res/img/seal3.png" style="width:48px; height:48px;" /><span style="margin-top:12px;margin-left:12px;color:indianred;font-weight:bold;font-size:16px;">OCUR </span><span style="margin-top:12px;margin-left:12px;font-weight:bold;">dee.d*/omain</span></div><p  id="card-name1" style="display:flex; align-items:center;">I`m cool card</p></div></div></div></div>
			  
		<div class="navigations"><ul class="dots"><li id="clicker" onclick="changeCard();"><a class="btn-flat grey lighten-4"><i class="material-icons grey-text text-darken-1" >restart_alt</i></a></li></ul></div></div></div>
		
	<!-- corp -->
	<div id="corp" class="slider content loader pane scale-transition scale-out" style="margin-top:64px;">
	<div id="wrapper">
  <div class="viewport">
    <div class="cube"><!-- road, battle, field, night -->
      <div class="side"><div class="cube-image" style="background-image: url('res/img/seal3.png');  background-size: cover;">1</div></div>
      <div class="side"><div class="cube-image" style="background-image: url('res/img/dralun/gif/mountain.gif'); background-size: cover;">2</div></div>
      <div class="side"><div class="cube-image" style="background-image: url('res/img/dralun/gif/swamp.gif');  background-size: cover;">3</div></div>
      <div class="side"><div class="cube-image" style="background-image: url('res/img/dralun/gif/city.gif');  background-size: cover;">4</div></div>
      <div class="side"><div class="cube-image" style="background-image: url('res/img/dralun/gif/waterfall.gif');  background-size: cover;">5</div></div>
      <div class="side"><div class="cube-image active" style="background-image: url('res/img/seal3.png'); background-size: cover;">6</div></div></div></div></div></div>
        
	<!-- game -->
	<div id="story" class="content loader pane scale-transition scale-out container" style="overflow-y: auto; width:100%;height:100%; max-width:3000px;">
		<div class="sliding-background">
			<!-- jungle -->
			<img src="res/img/dralun/anim/char/poor/ax/dead/270.gif" id="ax-dead-shot" style="position:absolute; top:40%; left:234px; height:160px;" class="pane"/>
			<img src="res/img/dralun/anim/char/poor/ax/dead/000.gif" id="ax-dead-hit" style="position:absolute; top:40%; left:234px; height:160px;" class="pane"/>
			<img onclick="ax('shot');" src="res/img/dralun/anim/char/poor/ax/stand_hit/000.gif" id="ax-hit" style="position:absolute; top:40%; left:240px; height:160px;" class="pane"/>
			<img onclick="ax('shot');" src="res/img/dralun/anim/char/poor/ax/shoot/270.gif" id="ax-shoot" style="position:absolute; top:40%; left:240px; height:160px;" class="pane"/>
			<img onclick="ax('shoot');" src="res/img/dralun/anim/char/poor/ax/stand/270.gif" id="ax-look" style="position:absolute; top:40%; left:240px; height:160px;" class="pane"/>
			<img onclick="ax('look');" src="res/img/dralun/anim/char/poor/ax/stand/000.gif" id="ax-stand" style="position:absolute; top:40%; left:240px; height:160px;" />
			
			<img src="res/img/dralun/anim/char/poor/ax/dead/270.gif" id="ax-dead-shot2" style="position:absolute; top:40%; left:264px; height:160px;" class="pane"/>
			<img src="res/img/dralun/anim/char/poor/ax/dead/180.gif" id="ax-dead-hit2" style="position:absolute; top:40%; left:264px; height:160px;" class="pane"/>
			<img onclick="ax('shot');" src="res/img/dralun/anim/char/poor/ax/stand_hit/180.gif" id="ax-hit2" style="position:absolute; top:40%; left:260px; height:160px;" class="pane"/>
			<img onclick="ax('shot');" src="res/img/dralun/anim/char/poor/ax/shoot/270.gif" id="ax-shoot2" style="position:absolute; top:40%; left:260px; height:160px;" class="pane"/>
			<img onclick="ax('shoot');" src="res/img/dralun/anim/char/poor/ax/stand/270.gif" id="ax-look2" style="position:absolute; top:40%; left:260px; height:160px;" class="pane"/>
			<img onclick="ax('look');" src="res/img/dralun/anim/char/poor/ax/stand/180.gif" id="ax-stand2" style="position:absolute; top:40%; left:260px; height:160px;" />
			
			<img src="res/img/dralun/anim/char/poor/hammer/stand/270.gif" id="badderb" style="position:absolute; top:40%; left:240px; height:160px;" class="pane"/>
			
			<img onclick="deader3();" src="res/img/dralun/anim/char/poor/sickle/stand/270.gif" id="baddera" style="position:absolute; top:40%; left:240px; height:160px;" class="pane" />
			<img onclick="deader(event);" src="res/img/dralun/anim/char/poor/ax/walk/000.gif" id="badder" style="position:absolute; top:60%; left:0; height:240px;" />
			<!-- forest --></div>
		<a class="btn-floating btn-large waves-effect waves-light amber lighten-2" style="font-size:24px; position:fixed; right: 12px; bottom: 12px;" onclick="showDoc('status');">⛺</a></div></div>

<!-- template -->
<ul id='dropdown-use' class='dropdown-content' style="max-height:none;">
    	<li><a href="#!" onclick="setup();" class="action-menu"><span>🍲</span><span>Connect Wallet</span></a></li>
    	<li><a href="#!" onclick="$('#preview').trigger('click');" class="action-menu"><span>🪧</span><span>Manual Scan ...</span></a></li>
    	<li style="margin-top:0;"class="divider" tabindex="-1"></li>
    	<li><a href="#!" onclick="$('#preview').trigger('click');" class="action-menu"><span>🪧</span><span>Track Postcard</span></a></li>
    	<li><a href="#!" onclick="$('#preview').trigger('click');" class="action-menu"><span>🪧</span><span>For Sale</span></a></li></ul>
    	
<ul id='dropdown-disuse' class='dropdown-content' style="max-height:none;">
    	<li><a href="#!" onclick="$('#modal-editor').modal('open')" class="action-menu"><span>🍲</span><span>Disconnect Wallet</span></a></li>
    	<li><a href="#!" onclick="$('#preview').trigger('click');" class="action-menu"><span>🪧</span><span>Manual Sign In ...</span></a></li>
    	<li style="margin-top:0;"class="divider" tabindex="-1"></li>
    	<li><a href="#!" onclick="$('#preview').trigger('click');" class="action-menu"><span>🪧</span><span>Send Postcard</span></a></li>
    	<li><a href="#!" onclick="$('#preview').trigger('click');" class="action-menu"><span>🪧</span><span>Track Postcard</span></a></li>
    	<li style="margin-top:0;"class="divider" tabindex="-1"></li>
    	<li><a href="#!" onclick="$('#preview').trigger('click');" class="action-menu"><span>🪧</span><span>Edit Profile</span></a></li>
    	<li><a href="#!" onclick="$('#preview').trigger('click');" class="action-menu"><span>🪧</span><span>Custom OCUR ...</span></a></li></ul>

<ul id='dropdown-open' class='dropdown-content' style="max-height:none;">
    	<li><a href="#!" onclick="opens.sort(openAZ); showOpen();">Name&nbsp;&nbsp; &#8595;</a></li><li><a href="#!" onclick="opens.sort(openZA); showOpen();">Name&nbsp;&nbsp; &#8593;</a></li>
    	<li style="margin-top:0;"class="divider" tabindex="-1"></li>
    	<li><a href="#!" onclick="opens.sort(open90); showOpen());">Count&nbsp;&nbsp; &#8595;</a></li><li><a href="#!" onclick="opens.sort(open09); showOpen();">Count&nbsp;&nbsp; &#8593;</a></li>
		<li style="margin-top:0;" class="divider" tabindex="-1"></li>
		<li><a href="#!" onclick="opens.sort(openaz); showOpen();">Color&nbsp;&nbsp; &#8595;</a></li><li><a href="#!" onclick="opens.sort(openza); showOpen();">Color&nbsp;&nbsp; &#8593;</a></li></ul>
<ul id='dropdown-domain' class='dropdown-content' style="max-height:none;">
    	<li><a href="#!" onclick="domains.sort(domainAZ); showList('domain');">Name &#8595;</a></li><li><a href="#!" onclick="domains.sort(domainZA); showList('domain');">Name &#8593;</a></li>
    	<li style="margin-top:0;"class="divider" tabindex="-1"></li>
    	<li><a href="#!" onclick="domains.sort(domainaz); showList('domain');">Count &#8595;</a></li><li><a href="#!" onclick="domains.sort(domainza); showList('domain');">Count &#8593;</a></li>
		<li style="margin-top:0;" class="divider" tabindex="-1"></li>
		<li><a href="#!" onclick="domains.sort(domain09); showList('domain');">Price &#8595;</a></li><li><a href="#!" onclick="domains.sort(domain90); showList('domain');">Price &#8593;</a></li></ul>

<ul id='dropdown-note' class='dropdown-content' style="max-height:none;">
    	<li><a href="#!" onclick="$('#modal-editor').modal('open')" class="action-menu"><span>Text</span><span>📝</span></a></li><li><a href="#!" onclick="$('#preview').trigger('click');" class="action-menu"><span>Image</span><span>📷</span></a></li></ul>
<ul id='dropdown-mark' class='dropdown-content' style="max-height:none;">
    	<li><a href="#!" onclick="mapAdd();" class="action-menu"><span>📌</span><span>Pin</span></a></li><li style="margin-top:0;"class="divider" tabindex="-1"></li>
    	<li><a href="#!" onclick="$('#modal-address').modal('open'); searcher();" class="action-menu"><span>🏠</span><span>Address</span></a></li>
    	<!--<li><a href="#!" onclick="$('#modal-address').modal('open'); searcher();" class="action-menu"><span>🚐</span><span>Route</span></a></li>-->
    	<li style="margin-top:0;"class="divider" tabindex="-1"></li><li><a href="#!" onclick="$('#modal-track').modal('open'); " class="action-menu"><span>🛰️</span><span>Track</span></a></li></ul>
    	
<ul id='dropdown-map' class='dropdown-content' style="max-height:none;">
		<li><a href="#!" onclick="$('#modal-track').modal('open'); ;" class="action-menu"><span>Track</span><span>🛰️</span></a></li><li style="margin-top:0;"class="divider" tabindex="-1"></li>
    	<li><a href="#!" onclick="mapAdd();" class="action-menu"><span>Point</span><span>📌</span></a></li><li><a href="#!" onclick="$('#modal-address').modal('open'); searcher();" class="action-menu"><span>Address</span><span>🏠</span></a></li></ul>
<ul id='dropdown-file' class='dropdown-content' style="max-height:none;">
    	<li><a href="#!" onclick="$('#modal-editor').modal('open')" class="action-menu"><span>📎</span><span>Attach ...</span></a></li><li><a href="#!" onclick="$('#preview').trigger('click');" class="action-menu"><span>🗑️</span><span>Remove</span></a></li></ul>
<ul id='dropdown-temp' class='dropdown-content' style="max-height:none;">
    	<li><a href="#!" onclick="$('#modal-editor').modal('open')" class="action-menu"><span>🍲</span><span>Recipe</span></a></li><li><a href="#!" onclick="$('#preview').trigger('click');" class="action-menu"><span>🪧</span><span>For Sale</span></a></li></ul>

<!--modal -->
<div id="modal1" class="modal bottom-sheet content loader"><div id="domain-info" class="modal-content grey lighten-4" style="box-shadow: 1px 18px 24px 1px inset cornsilk" ></div></div>

<div id="modal-post" class="modal bottom-sheet content loader"><div class="modal-content grey lighten-4" style="box-shadow: 1px 18px 24px 1px inset cornsilk" >
	<div><span id="stamper" style="margin:12px;">OCUR #1910 | 2023.03.02@11:39:28</span><br/><img id="thumb" onclick="$('#preview').trigger('click');" class="z-depth-1" style="width:25%; max-width:240px; max-height:240px; object-fit:cover; border-radius:12px; margin-top:12px;" /></div>
	<div id="show-progress" class="progress" ><div class="indeterminate"></div></div><p id="post-status">Posting item now...</p>
	<div style="width:100%; height:48px;display:flex;justify-content:center;margin-top:12px;"><a class=" z-depth-1 waves-effect waves-light btn-flat" onclick="outlineStart(this);" style="margin-right:12px; border-radius:8px;">🛰️</a><a class=" z-depth-1 waves-effect waves-light btn red lighten-4" onclick="$('#modal-map').modal('close'); mapAdd();" style="border-radius:8px 0px 0px 8px; width:70px;display:flex;justify-content:space-between;"><span>📍</span><span>Pin</span></a><a class=" z-depth-1 waves-effect waves-light btn amber lighten-4"style="width:140px; border-radius:0px 8px 8px 0px; display:flex; justify-content:space-between;" onclick="$('#modal-address').modal('open'); searcher();"><span>Search</span><span>🏠</span></a></div></div></div>

<div id="modal-track" class="modal">
    <div class="modal-content">
		<div style="display:flex;width:100%;justify-content:center;margin-bottom:16px;"><a onclick="$('#modal-address').modal('close'); $('#modal-map').modal('close'); setMap('satellite', 'dark'); setTimeout(function() { markEdit(); }, 1000);" style="border-radius:8px; display: flex;justify-content: space-between;width:140px;" class="waves-effect waves-light blue lighten-4 btn" ><span>Locate</span>&nbsp;&nbsp;&nbsp;&nbsp;🛰️</a></div>
		<div style="display: flex;justify-content: center;align-items: center; display: flex;margin-top:10px;flex-direction:column;">
		<div class="row" style="margin:0;"><div class="input-field col s6"><input id="lat" type="number" min="-90" max="90" step="0.0001" value="45"><label for="lat">Latitude</label></div>
		<div class="input-field col s6"><input id="long" type="number" min="-180" max="180" step="0.0001" value="105"><label for="long">Longitude</label></div></div></div></div>
	<div class="modal-footer" style="margin-bottom:12px;display:flex;justify-content:space-evenly;">
		<a onclick="$('#modal-address').modal('close'); $('#modal-map').modal('close'); setMap('satellite', 'dark'); setTimeout(function() { markEdit(); }, 1000);" style="border-radius:8px; display: flex;justify-content: space-between;width:140px;" class="waves-effect waves-light green lighten-4 btn" ><span>✔️</span><span>Confirm</span></a></div></div>
		
<div id="modal-address" class="modal">
    <div class="modal-content">
		<div style="display: flex;justify-content: center;align-items: center; display: flex;margin-top:10px;flex-direction:column;">
			<div class="row" style="margin:0;"><div id="geocoder" class="geocoder"></div></div>
			<div class="row" style="margin:0;"><form class="col s12">
				<div class="row"><div class="input-field col s12" style="margin-bottom:0px;"><mapbox-address-autofill>
					<input id="auto-ad" class="input mb12" name="address" autocomplete="shipping address-line1" placeholder="Search ..."></mapbox-address-autofill></div></div></form></div>
		<div class="row" ><div class="input-field col s12" style="margin:0px;"><textarea id="textarea1" class="materialize-textarea" rows="2"></textarea><label for="textarea1">Address</label></div></div></div></div>
	<div class="modal-footer" style="margin-bottom:12px;display:flex;justify-content:space-evenly;">
		<a onclick="$('#modal-address').modal('close'); $('#modal-map').modal('close'); setMap('satellite', 'dark'); setTimeout(function() { markEdit(); }, 1000);" style="border-radius:8px; display: flex;justify-content: space-between;width:140px;" class="waves-effect waves-light green lighten-4 btn" ><span>✔️</span><span>Confirm</span></a></div></div>
	
<div id="modal-editor" class="modal">
	<div class="modal-content">
			<div class="row" style="display:flex; justify-content:center;">
				<a id="dropdown-temper" href='#' data-target='dropdown-temp' class="btn blue-grey blue-grey-text text-darken-2 lighten-2 z-depth-1 waves-effect waves-light dropdown-trigger"  style="font-size:16px; width: 120px; border-radius:8px 0px 0px 8px; display:flex; justify-content:space-between;"><span>💼</span><span>Case</span></a>
				<a id="dropdown-filer" href='#' data-target='dropdown-file' class="btn blue-grey blue-grey-text lighten-3 z-depth-1 waves-effect waves-light dropdown-trigger text-darken-2"  style="font-size:16px; border-radius: 0px 8px 8px 0px; width: 120px; justify-content:space-between; display:flex;" ><span>File</span><span>📁</span></a></div>
		
        	<div id="pad" class="z-depth-1" contentEditable="true" style="text-align:left; overflow-y: auto; width:90%; border:1px solid darkgrey; opacity:0.75; border-radius: 8px;padding: 12px;margin:auto;font-size:20px;height:240px; background-color:whitesmoke;white-space: pre;"></div>
        	
        	<div class="row" style="display:flex; justify-content:center;">
				<a onclick="showPreview();" class="waves-effect waves-light btn blue lighten-2" style="width:120px;"><span class='edit-device'>📃</span><span>Preview</span></a>
				<a onclick=" clearPad();" class="waves-effect waves-grey btn-flat"  >🗑️</a></div></div>
			
		<div class="modal-footer" style="margin-bottom:12px;display:flex;justify-content:center;">
			<div style="display:flex;align-items:center;justify-content:space-evenly;">
				<a id="dropdown-mapper" href='#' data-target='dropdown-map'  style="width:120px;display:flex;justify-content:space-between;border-radius:4px;"  class="waves-effect waves-green green lighten-2 btn dropdown-trigger"><span>💾</span><span>Submit</span></a></div></div></div></div>

<div id="modal-emoji" class="modal" style="width:90%; max-width:600px;">
    <div class="modal-content" style="padding:0px; margin:0px; margin-top:12px;display:flex;justify-content:center;width:100%;"><emoji-picker style="border-radius:8px;"></emoji-picker></div>
	<div class="modal-footer" style="margin-bottom:12px;padding-right:24px;display:flex;justify-content:center;"></div></div>

<div id="modal-trade" class="modal"><!--<i class="material-icons left">calculate</i>-->
    <div class="modal-content">
		<div style="width:100%; display:flex; justify-content:center;">
			<div  id="stats" class="z-depth-2" style="position:fixed; bottom:20%; background-color: floralwhite;padding: 12px;border-radius: 12px; font-size: 24px;  color: goldenrod;border:solid 2px darkgoldenrod; justify-content:center; display:flex; flex-direction:column; align-items:center;">No wallet connected.</div></div>

		<div id="fancy" style="left: 20%;/* bring your own prefixes */transform: translate(-50%, -50%);position:relative;width:fit-content;"><div class="clock-container"  style="position:initial;"><div class="clock-digital"><div class="date"></div><div class="time"></div><div class="day"></div></div><div class="clock-analog"><div class="spear"></div><div class="hour"></div><div class="minute"></div><div class="second"></div><div class="dail"></div></div></div></div>
		<div style="margin-top:48px;text-align:center;">
			<p>My LOCUR Balance = <span id="locur"></span> OCUR</p>
			<p>Current Status = <span id="access"></span></p></div></div>
	<div class="modal-footer" style="margin-bottom:12px;padding-right:24px;display:flex;justify-content:center;">
		<a onclick="trade(1000);" style="border-radius:8px; display: flex;justify-content: space-between;" class="waves-effect waves-light green lighten-3 btn modal-close" ><span>Deposit LOCUR</span>&nbsp;&nbsp;&nbsp;&nbsp;💵</a></div></div>

<div id="modal-help" class="modal"><!-- datetime, IP, rando to QR sign-in with camera video posts? -->
    <div class="modal-content"></div>
	<div class="modal-footer" style="margin-bottom:12px;padding-right:24px;display:flex;justify-content:center;"></div></div>

<!-- dialog -->
<div id="somedialog2" class="dialog print-help hide-scrollbar" style="z-index:99;"><div id="someoverlay" class="dialog__overlay hide-scrollbar"></div><div class="dialog__content print-help hide-scrollbar" style="width: 90%; height:80%; text-align:left;overflow:auto; padding:24px;"><div class="morph-shape" data-morph-open="M0,0h80c0,0,0,9.977,0,29.834c0,19.945,0,30.249,0,30.249H0c0,0,0-10.055,0-30.332C0,8.219,0,0,0,0z" data-morph-close="M0,29.75h80c0,0-3.083,0.014-3.083,0.041c0,0.028,3.083,0.042,3.083,0.042H0c0,0,3.084-0.014,3.084-0.042
											C3.084,29.762,0,29.75,0,29.75z"><svg id='test-svg' xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 80 60" preserveAspectRatio="none"><path d="M0,29.75h80c0,0-3.083,0.014-3.083,0.041c0,0.028,3.083,0.042,3.083,0.042H0c0,0,3.084-0.014,3.084-0.042
											C3.084,29.762,0,29.75,0,29.75z"></path></svg></div><div id="dialog-inner2" class="dialog-inner print-help hide-scrollbar" style="overflow:auto;"></div></div></div>

<script>
var opens = [], domains = []; const options = {method: 'GET'};

class Ocur { icon = ""; front = ""; back = ""; coord = ""; } class Wallet { address = ""; name = ""; ocur = new Ocur(); image = ""; key = ""; }  class Sea { id=""; image = ""; thumb = ""; name = ""; href = ""; content = ""; ocur = new Ocur(); owner = new Wallet(); }
class Open { core = "api_object"; count = 0; checked = false; } //asset.name; image_url; banner_image_url; slug;
class Domain { core = "api_object"; name = "civi"; coord = "key.png"; img = "scene.png"; ref = "wiki.htm"; res = ""; desc = ""; owner = new Wallet(); hide = false; checked = false; item = false; rock = false; trade = false; seas = []; } 
	// asset.token_id; image_url; image_thumbnail_url; image_preview_url; name; description; external_link; permalink; creator.address; name; parseFloat(asset.sell_orders[0].base_price)/1000000000000000000;

class User { wallet = new Wallet(); deed = []; message = []; salt = ""; key = ""; }  var user = new User(); 
//class Deed { name = ""; id = ""; index = ""; box = []; } 

function waitFor(conditionFunction, resultFunction) { const poll = resolve => { if(conditionFunction()) resultFunction(); else setTimeout(_ => poll(resolve), 400); }; return new Promise(poll); }  
waitFor(_ => domains.length == 58, _ => startUp()).then(_ => { console.log('the wait is over!');  } ); 
function startUp() { setCards(); showView('slider'); showOpen(); $.get('stat', function(data) { var fields = data.split('|'); $("#deeder").html(badge('eth', fields[0])); }); }

function pullOpens() {
    fetch('https://api.opensea.io/api/v1/collections?asset_owner=0x8a83fbbacb82030ea17179c0403b04e7bce7ba10&offset=0&limit=300', options)
      .then(response => response.json()).then(response => {
        for (let i = 0; i < response.length; i++) { var asset = response[i];
            if (asset.name == "Rarible" || asset.name == "Uniswap V3 Positions") { continue; }
            var tmp = new Open(); tmp.core = asset; opens.push(tmp); } } ).then(response => { for (let i=0;i<opens.length;i++) { opens[i].count = pullOpen(opens[i].core.slug); if (opens[i].core.slug == "OCUR") { opens[i].core.name = "NfNth"; } }  }).catch(err => console.error(err)); }
function pullOpen(name) { 
    fetch('https://api.opensea.io/api/v1/assets?limit=50&collection='+name, options).then(response => response.json()) .then(response => { for (let i = 0; i < response.assets.length; i++) {
            var tmp = new Domain(); var asset = response.assets[i]; var traits = asset.traits; if (asset.name == "absaroka.us" || asset.name == "monocacy.us" || asset.name == "tactician.us") { continue; } tmp.core = asset;
            for (let a = 0; a < traits.length; a++) {
                switch(traits[a].trait_type.toLowerCase()) {
                    case 'name': tmp.name = traits[a].value.toString(); break;
                    case 'pos': tmp.coord = traits[a].value.toString(); break;
                    case 'icon': tmp.img = traits[a].value.toString(); break;
                    case 'ref': tmp.ref = traits[a].value.toString(); break;
					case 'res': tmp.res = traits[a].value.toString(); break;
					case 'key': tmp.desc = traits[a].value.toString(); break;
					case 'color': tmp.color = traits[a].value.toString(); break;
                    default: break; } } tmp.owner = new Wallet(); domains.push(tmp);  }  updateCount(name, response.assets.length); $("#bar").css("width",((domains.length*100)/57).toString() + "%"); } ).then(response => {  }).catch(err => console.error(err)); }
function pullAsset(link) { 
	fetch('https://api.opensea.io/api/v1/asset/'+link.replace('https://opensea.io/assets/',''), options).then(response => response.json()).then(response => {  tempArtifact = response; updatePreview(); }).catch(err => console.error(err)); }
function pullAssets(owner, slug, console) { 
    fetch('https://api.opensea.io/api/v1/assets?limit=50&owner='+owner.address+'&collection_slug='+slug, options).then(response => response.json()).then(response => {
        for (let i = 0; i < response.assets.length; i++) { var tmp = new Deed(); tmp.id = response.assets[i].token_id; owner.deed.push(tmp); 
		 } } ).then(response => { if (console) { listDeeds(); } else { listLookup(owner); } }).catch(err => console.error(err)); }

var myItem;
function pullOwner(id) { //id = domains[i].core.token_id; 
	fetch('https://api.opensea.io/api/v1/asset/0x495f947276749ce646f68ac8c248420045cb7b5e/'+id, options).then(response => response.json()) .then(response => {  myItem = response; domains[i].owner.wallet = response.top_ownerships[0].owner.address;  //pullHolder(i); 
				}).catch(err => console.error(err)); }
function pullPrice(i) { id = domains[i].core.token_id;
	fetch('https://api.opensea.io/api/v1/asset/0x495f947276749ce646f68ac8c248420045cb7b5e/'+id+'/listings', options).then(response => response.json()) .then(response => { if (typeof response.listings[0] !== 'undefined') { 
			domains[i].price = parseFloat(response.listings[0].current_price)/1000000000000000000; } else {domains[i].price = "Unlisted" } updateInfo(i);  }).catch(err => console.error(err)); }

function pullData(area, ref, id) { var tmp = new Profile(); 
	$.get('public' + '/' + area + '/' + ref + '/' + id + '/doc').done(function(data) { var fields = data.split('|');  obj.name = fields[0]; obj.icon = fields[1]; obj.front = fields[2]; obj.back = fields[3]; obj.coord = fields[4]; obj.content = fields[5]; obj.shape = fields[6];  return tmp;  }).fail(function(jqXHR, textStatus, errorThrown) { setOwnerDefault(personal);  return tmp; });  }
	
function pullCount(i) { return "21"; }
	
function pullLock() { //lock with posts... ref, key, item(doc, pic)
	
	}
				
function pullKey() { $.get('key').done(function(data) { user.key = data; }).fail(function(jqXHR, textStatus, errorThrown) { alert('bad key'); });  }
function pullKeyWallet() { $.get('key').done(function(data) { user.key = data; }).fail(function(jqXHR, textStatus, errorThrown) { alert('bad key'); });  }
		
function pullAPI(address) { var formdata = new FormData(); formdata.append('wallet',wallet); $.ajax({ url: "api", type: "POST", data: formdata, processData: false, contentType: false, success: function(data) { alert(data); server = data; } }); }

function updateCount(name, count) { for (let i=0;i<opens.length;i++) { if (opens[i].core.slug == name) { opens[i].count = count; break;} } }

var gasPrice = ""; //var itemPrice; 
var ocur = 0; var ether = 0; var locur = [];
var setup = async function () { if (window.ethereum) { const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' }); user.address = accounts[0];  
        var formdata = new FormData(); formdata.append('wallet', user.address); $.ajax({ url: "balance", type: "POST", data: formdata, processData: false, contentType: false, success: async function(data) { 
			var fields = data.split('|'); ether = JSON.parse(fields[0]).result; ocur = fields[1]; var local = JSON.parse(fields[2]); locur = [];
				for (let i = 0; i <local.length; i++) { if (local[i].to == "0x8a83fbbacb82030ea17179c0403b04e7bce7ba10") { locur.push(local[i]); } } 
				ocur = parseInt(ocur / 1000000000000000000000000); locur = locur / 1000000000000000000000000; ether = parseInt(ether) / 1000000000000000000; 
				$("#stats").html(badge('wallet', user.address) +"<br/>" + badge('eth',ether) +"<br/>" + badge('ocur',ocur) +"<br/>" + badge('locur',locur.length));
		$("#tasker").removeClass("disabled"); $("#sign-text").html("Close"); $("#signer").removeClass("green"); $("#signer").addClass("red"); $("#signer").removeClass("lighten-2"); $("#signer").addClass("lighten-1");   document.getElementById("signer").onclick = desetup;
		user.deed = []; for (let i=0;i<opens.length;i++) { pullAssets(user, opens[i].core.slug, true); } }, fail: function() { M.toast({html: 'No balances found.'}); } }); 
		user.deed = []; for (let i=0;i<opens.length;i++) { pullAssets(user, opens[i].core.slug, true); }  }
    else { M.toast({html: 'No wallet found.'}); } }

function desetup() { user = ""; user = new Wallet();   $("#tasker").addClass("disabled"); document.getElementById("signer").onclick = setup; $("#stats").html("No wallet connected.");
	$("#sign-text").html("Open"); $("#signer").removeClass("red"); $("#signer").addClass("green"); $("#signer").removeClass("lighten-1"); $("#signer").addClass("lighten-2"); emptyDeeds(); domainSelect(); }

function badge(area,amount) {
	switch(area) { //add long number check with substring and "..."
		case 'domain': return '<span class="badge blue badge-stamp z-depth-1"><span style="font-weight:bold;margin-right:4px;">' + amount + '</span> domain&nbsp;&nbsp;📄</span>';
		case 'ocur': return '<span class="badge blue lighten-2 badge-stamp z-depth-1"><span style="font-weight:bold;margin-right:4px;">' + amount + '</span> OCUR</span>';
		case 'locur': return '<span class="badge blue lighten-3 badge-stamp z-depth-1"><span style="font-weight:bold;margin-right:4px;">' + amount + '</span> LOCUR</span>';
		case 'eth': return '<span class="badge green lighten-2 badge-stamp z-depth-1" ><span style="font-weight:bold;margin-right:4px;">' + amount + '</span> ETH&nbsp;&nbsp;🪙</span>';
		case 'gas': return '<span class="badge red badge-stamp z-depth-1" ><span style="font-weight:bold;margin-right:4px;">' + amount + '</span> GWEI&nbsp;&nbsp;⛽</span>';
		case 'deed': return '<span class="badge red lighten-2 badge-stamp z-depth-1"><span style="font-weight:bold;margin-right:4px;">' + amount + '</span> deed&nbsp;&nbsp;📜</span>';
		case 'wallet': return '<span class="badge amber lighten-2 badge-stamp z-depth-1"><span style="font-weight:bold;margin-right:4px;">' + amount + '</span> wallet&nbsp;&nbsp;💼</span>'; 
		case 'card': return '<span class="badge yellow badge-stamp z-depth-1"><span style="font-weight:bold;margin-right:4px;">' + amount + '</span> card&nbsp;&nbsp;📮</span>';} }

function listDeeds() { $('#domain-template').empty(); $('#domain-template').append('<option value="0">' + user.address.toLowerCase().substring(0,16) + "..." + '</option>');
    	for (let i = 0; i < user.deed.length; i++) { 
	    	for (let j = 0; j < domains.length; j++) {  
				if (domains[j].core.token_id == user.deed[i].id) {  user.deed[i].name = domains[j].core.name; user.deed[i].index = j;
					$('#domain-template').append('<option selected="selected" value="' + domains[j].core.token_id + '">' + user.deed[i].name + '</option>'); j = domains.length; }} }
    	document.getElementById('domain-template').getElementsByTagName('option')[0].selected = 'selected'; $("#domain-template").formSelect(); }

function emptyDeeds() { $('#domain-template').empty(); $('#domain-template').append('<option onclick="document.getElementById(\'connor\').click();" selected="selected">No wallet connected</option>'); $("#domain-template").formSelect(); }
function sortDeeds() { }

var myDeed = 0;
function domainSelect() { 
	var d = document.getElementById("domain-template"); var dt = d.options[d.selectedIndex].text; var dv = d.options[d.selectedIndex].value; dv = 0; myDeed = dv;
	for (let a = 0; a <  user.deed.length; a++) { if (user.deed[a].name == dt) { dv = user.deed[a].id; myDeed = dv; di = user.deed[a].index; } }
    	if (dv == 0) { if (urler < 1) { $("#trader").addClass("disabled");  $("#builder").addClass("disabled");  } }
    	else { $("#trader").removeClass("disabled");  $("#builder").removeClass("disabled"); } }

//var showArtifactOpen = true; var myDomain = 0;
//var fallback; 
//function postDeed() { clearMap();  $('#modal9').modal('open'); content = getOwner(); if (myDeed == 0) { fallback = "wallet/" + user.address; signer(content, "wallet", "x"); } else { fallback = "domain/" + di; signer(content, "domain", myDeed); }}

//var key = Math.random().toString(); var salt = Math.random().toString();
var signer = async function (content, action, ref) { var message = "Key Assignment: ";
    	var messager = '{"domain":{"name":"iOCUR.com"},"message":{"contents":"' + message + '"},"primaryType":"Mail","types":{"EIP712Domain":[{"name":"name","type":"string"}],"Mail":[{"name":"contents","type":"string"}]}}';
    	var from = user.address; var params = [from, messager]; var method = 'eth_signTypedData_v4'; web3.currentProvider.sendAsync( { method, params, from, },
        function (err, result) { if (JSON.stringify(result.result) == undefined) { $("#post-status").html("Action cancelled."); } else { sender(from, messager, result.result);} }); }

var sender = function (wallet, message, signature) { //site ref 
	var formdata = new FormData(); formdata.append('wallet',wallet); formdata.append('message', message); formdata.append('signature', signature);//formdata.append('content', content); formdata.append('profile', $('#preview')[0].files[0]); 
	$.ajax({ url: "data", type: "POST", data: formdata, processData: false, contentType: false, success: function(data) { alert(data); server = data; } }); }

function strtodec(amount,dec){ stringf = ""; for(var i=0;i<dec;i++){ stringf = stringf+"0"; } return amount+stringf; }
function getDataFieldValue(tokenRecipientAddress, tokenAmount) { const web3 = new Web3();
    const TRANSFER_FUNCTION_ABI = {"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"};
    return web3.eth.abi.encodeFunctionCall(TRANSFER_FUNCTION_ABI, [tokenRecipientAddress, tokenAmount ]); }
async function trade(amount) { var totalGas = gasPrice * 10000000000; var newAmount = strtodec(amount,18);
	var transactionParameters = { from: user.address, to: "0xCcaB679860B1017589239BCeEEabe5CD45965aFc", data: getDataFieldValue('0x8a83fbbacb82030ea17179c0403b04e7bce7ba10', newAmount), //gasLimit: "", 
		gasPrice: totalGas.toString(16) }; var txHash = await ethereum.request({ method: 'eth_sendTransaction', params: [transactionParameters], }); }

const tokenAddress = '0xCcaB679860B1017589239BCeEEabe5CD45965aFc'; const tokenSymbol = 'OCUR'; const tokenDecimals = 18; const tokenImage = 'https://ocur.io/res/img/seal3.png';
async function addToken() { try { const wasAdded = await ethereum.request({ method: 'wallet_watchAsset', params: { type: 'ERC20', options: { address: tokenAddress,  symbol: tokenSymbol, decimals: tokenDecimals, image: tokenImage, }, }, });
	if (wasAdded) { M.toast({html: 'Token added.'}); } else { M.toast({html: 'Token declined.'}); }} catch (error) { console.log(error);}}


var width = window.innerWidth; var height = window.innerHeight + 48; var currentView = "slider"; var trackSlider = false;
function showView(view) { if (trackSlider) { slida = charter.currentPosition; trackSlider = false; }
	if (view == "story") {  $("#lead").attr("src","res/img/dralun/anim/char/rich/blue/walk/000.gif"); } else if (view == "emojier") { $(".picker").css("border-radius","12px"); } else if (view == "charter") { trackSlider = true;  } 
	if (view != currentView) { createView(view); } } 
function hideView() { $('.modal').modal('close'); window.scrollTo(0, 0); $('#'+currentView).css("opacity","0"); 
		     $("#slider").removeClass("scale-in"); $("#story").removeClass("scale-in"); $("#charter").removeClass("scale-in"); $("#carder").removeClass("scale-in"); $("#gamer").removeClass("scale-in");  $('.pane').hide();}
function createView(view) { hideView(); currentView = view; $("#"+currentView).addClass("scale-in"); $('#'+currentView).css("opacity","0");  $('#'+view).show(); if (view == "emojier") { $("#searcher").show(); } else if (view == "charter") { $("#domainer").show(); }
	setTimeout(function() {  if (currentView == 'charter') { beforeMap.resize(); afterMap.resize(); charter.setSlider(slida); setTimeout(function() { setMap(); $("#"+currentView).hide().css("opacity","1").fadeIn('slow'); }, 1000); } else {
		$("#"+currentView).hide().css("opacity","1").fadeIn('slow'); }  }, 500);  }

var pageNotFound = true; var namer; var pageSet = false; var cardNotFound = true;
function getParameter() { var path = window.location.href.replace('https://','').replace('!','').replace('#',''); 
	if (path.indexOf("/") > 0) { var keyDomain = path.substring(path.indexOf("/")+1, path.length); 
	if (keyDomain.length > 1) { 
		if (keyDomain == "about") { showView('charter'); clearMap(); setTimeout(function() { showTutorial(); }, 1000); }
		else if (keyDomain.indexOf("0x") > -1) { showOwner(keyDomain); } else {
		for (let j = 0; j < domains.length; j++) { if (domains[j].desc == keyDomain) { pullOwner(j); showView('charter'); document.title = domains[j].core.name; setTimeout(function() { flyDomain(j); }, 2000); break; } } } } } }
function setPage() { if (!(pageSet)) { pageSet = true; var page = window.location.href.replace('https://','').replace('/','').replace('#','').replace('!',''); 
    if (page == 'dev.icour.com') page = 'iocur.com'; else if (page == 'dev.iocur.coma') page = 'ocur.io'; else if (page == 'dev.iocur.comb') page = 'dralun.com'; else if (page == 'dev.iocur.comc') page = 'ur.land'; else if (page == 'dev.iocur.comd') page = 'nfnth.com';
    switch(page){ 
        case 'nfnth.com': document.title = "NfNth Corp."; showView('loader'); showDoc('PLANME'); break;
        case 'iocur.com': document.title = "OCUR • dee*d/omain 🪨";  showView('loader'); break; 
        case 'ocur.io': document.title = "OCUR • token tracker"; showView('feeder');  break;         
        case 'dralun.com': document.title = "Dralun • WAR!";  showView('story'); break;
        case 'ur.land': document.title = "UR.Land • Guide"; showView('charter');  getParameter(); break;
        default:  document.title = "OCUR • dee*d/omain 🪨";  showView('loader'); break; } } }

function showFav() {
    	$('<link>').appendTo('head').attr({ class: 'ico', type: 'image/x-icon', rel: 'icon', href: "res/img/fav/favicon.ico" });
    	$('<link>').appendTo('head').attr({ class: 'ico', type: 'image/x-icon', rel: 'shortcut icon', href: "res/img/fav/favicon.ico" });
    	$('<link>').appendTo('head').attr({ class: 'ico', type: 'image/x-icon', rel: 'icon', sizes: "192x192", href: "res/img/fav/android-chrome-192x192.png" });
    	$('<link>').appendTo('head').attr({ class: 'ico', type: 'image/x-icon', rel: 'apple-touch-icon', sizes: "128x128", href: "res/img/fav/apple-touch-icon.png" }); }
function showPanel() { var subject;
	var gear = Math.floor(Math.random() * (42 - 1 + 1)) + 1; document.getElementById('gear-pic').src = "res/img/icon/gear/gear" + gear.toString() + ".png";
	gear = Math.floor(Math.random() * (42 - 1 + 1)) + 1; document.getElementById('gear-pic2').src = "res/img/icon/gear/gear" + gear.toString() + ".png";  
	
	//walka = Math.floor(Math.random() * (16 - 1 + 1)); $("#walker").css("animation", animation[walka] + "-walk 55s infinite"); 
	gear = Math.floor(Math.random() * (2 - 1 + 1)) + 1; if (gear == 1) { subject = "leaf"; } else { subject = "flower"; }
	gear = Math.floor(Math.random() * (6 - 1 + 1)) + 1; document.getElementById('leaf-pic').src = "res/img/dralun/anim/" + subject + "/" + gear.toString() + ".gif";    }
function closeLeft() { document.getElementById('booker').click(); $('#deed-pane').sidenav('close'); }
function closeRight() { document.getElementById('booker2').click(); $('#task-pane').sidenav('close'); }
function closeTop() {  document.getElementById('connor').click(); }

var complete; var reset = false; var first = true;  

var sat = 1; var shop = false; var hist = false; var tool = false; //$("#set-1").removeClass("quickerr");
function showTool() {  if (tool) { tool = false; $("#set-1").removeClass("quickerr"); $("#span-tool").html("Disable Tools"); } else { tool = true; $("#set-1").addClass("quickerr"); $("#span-tool").html("Enable Tools"); }  toggleTool();  }
function showShop() { if (shop) { shop = false; $("#set-2").removeClass("quickery"); $("#span-shop").html("Shop Dralun Off"); } else { shop = true; $("#set-2").addClass("quickery"); $("#span-shop").html("Shop Dralun On"); } showOpen(); }
function showHist() { if (hist) {hist = false; $("#set-3").removeClass("quickerg");  $("#span-hist").html("Hide History"); } else {hist = true; $("#set-3").addClass("quickerg"); $("#span-hist").html("Show History"); } } 
function showSat() { if (sat < 3) { $("#set-4").addClass("quickerb"); } else { $("#set-4").removeClass("quickerb"); } 
	if (sat == 0) { sat = 1; $("#span-sat").html("Switch Satellite"); leftMap = 'satellite'; } else if (sat == 1) { sat = 2; $("#span-sat").html("Switch Street"); leftMap = 'street'; } else if (sat == 2) { sat = 3; $("#span-sat").html("Switch Terrain"); leftMap = 'outdoor'; } else if (sat == 3) { sat = 4; $("#span-sat").html("Switch Light"); leftMap = 'light'; } else if (sat == 4) { sat = 0; $("#span-sat").html("Switch Dark"); leftMap = 'dark'; } setMap(); }
showHist();

function copyClip(text) { navigator.clipboard.writeText(text); M.toast({html: 'Address copied.'}); }
function openInNewTab(url) { window.open(url, '_blank').focus(); } //window.location.href = url;

function showDoc(doc) { $.get('res/doc/'+doc, function(data) { setDialog(renderMd(data)); }); }
function setDialog(text) { 
	$("#somedialog2").css("z-index",1004); document.getElementById('dialog-inner2').scrollTo(0, 0);
	var element = document.getElementById('dialog-inner2'); $("#dialog-inner2").html(text); var positionInfo = element.getBoundingClientRect(); var height = positionInfo.height; var width = positionInfo.width;
    var myDiv = document.getElementById('dialog-inner2'); myDiv.scrollTop = 0;
    somedialog = document.getElementById( 'somedialog2' ); morphEl = somedialog.querySelector( '.morph-shape' ); s = Snap( morphEl.querySelector( 'svg' ) ); path = s.select( 'path' );
    steps = { open : morphEl.getAttribute( 'data-morph-open' ), close : morphEl.getAttribute( 'data-morph-close' )};
    dlg2 = new DialogFx( somedialog, {
        onOpenDialog : function( instance ) { path.stop().animate( { 'path' : steps.open }, 400, mina.easeinout );}, onCloseDialog : function( instance ) { path.stop().animate( { 'path' : steps.close }, 400, mina.easeinout );	}	} ); dlg2.toggle(dlg2); }

async function initial() { $('body').css("background-color","lightgrey");  $('.tabs').tabs(); showFav(); showPanel(); $("#guide-template").formSelect(); $('.modal').modal(); emptyDeeds(); $("#scene-template").formSelect();
	$('#dropdown-opener').dropdown({ constrainWidth: false }); $('#dropdown-domainer').dropdown({ constrainWidth: false }); $('#dropdown-noter').dropdown({ constrainWidth: false });  $('#dropdown-marker').dropdown({ constrainWidth: false, alignment: 'center'  });  $('#dropdown-mapper').dropdown({ constrainWidth: false }); $('#dropdown-filer').dropdown({ constrainWidth: false }); $('#dropdown-temper').dropdown({ constrainWidth: false }); 
    $('#deed-pane').sidenav({ edge: 'left' }); $('#task-pane').sidenav({ edge: 'right' }); $('#dropdown-user').dropdown({ constrainWidth: false, alignment: 'right' }); //, onCloseEnd: deedMap});
    pullOpens(); $("#mainer").css("opacity", 1); setTimeout(function() { $("#egger").fadeIn(); }, 1000 ); $('img').on('dragstart', function(evt) { return false; });  setPage(); } 

initial(); //document.addEventListener('DOMContentLoaded', function() {  }); 

$('.setter').click(function () { $(this).parent().toggleClass('expand');     $('.extra').toggleClass('removed'); $('.extra').toggleClass('added');  });

if ($(window).width() < 700) { $('.material-icons').removeClass('left'); }

function showList(area) {  $("#registry").html(''); $("#registry").hide(); 
    switch (area) {
        case "domain": $("#registry-domain").html(''); openDomain(); sortSet = [area,domains,0,18,16]; for (let i=0;i<domains.length;i++) { if (domains[i].hide == false) addList(i); }  $("#registry-domain").css("height", (window.innerHeight - 200).toString() + "px"); labelDomain(); break;
        case "filter":  sortSet = [area,domains,0,18,16]; domains = holder; for (let i=0;i<domains.length;i++) { if (domains[i].hide == false) addList(i); } adjustSort(true); break;
        case "open":  break; } $("#registry").show(); $('img').on('dragstart', function(evt) { return false; }); }
function openDomain() { var any = false; $("#registry-open").css("height", (window.innerHeight - 200).toString() + "px"); 
	for (let i=0;i<domains.length;i++) { for (let j=0;j<opens.length;j++) { 
	if (domains[i].core.collection.slug == opens[j].core.slug) { if (opens[j].checked == false) { domains[i].hide = true; } else { domains[i].hide = false; any = true; 
		//if (domains[i].owner.wallet == "") { pullOwner(i); } 
		} }  } } 
		      if (any) { 
			      $("#selLink").removeClass('disabled'); $("#dropdown-domainer").removeClass('disabled'); $("#switchLink").removeClass('disabled'); } else { $("#selLink").addClass('disabled'); $("#dropdown-domainer").addClass('disabled'); $("#switchLink").addClass('disabled'); $("#registry-domain").html(""); $("#registry-domain").append("<a onclick='$(\"#token-tabs\").tabs(\"select\", \"test1\");' class='collection-item'>No deed found.</a>"); } }

var showGridOpen = true; var selectOpen = true; var selectDomain = true; var showListOpen = true;

function showOpen() { $("#registry-open").html(''); sortSet = ['open',opens,0,18,16]; 
	 for (let i=0;i<opens.length;i++) { 
		if (opens[i].core.slug != "ocur" && opens[i].core.slug != "dralun") { addOpen(i); } else { if (opens[i].core.slug == "ocur" && shop == true) { addOpen(i); } else if (opens[i].core.slug == "dralun" && shop == true) { addOpen(i); } else { opens[i].checked = false; } } } labelOpen(); showList('domain'); }

function switchOpen() { showGridOpen = !showGridOpen; }
function labelOpen() { if (showGridOpen) { $('.namer').css('opacity',1); $('.imager').css('opacity',0); $("#open-icon").html("🗂️");  } else { $('.namer').css('opacity',0); $('.imager').css('opacity',1); $("#open-icon").html("🗃️"); } }
function selOpen() { for (let i=0;i<opens.length;i++) { opens[i].checked = selectOpen; } showOpen();
	if (selectOpen) { selectOpen = false; $("#open-sel-icon").html("deselect"); } else { selectOpen = true; $("#open-sel-icon").html("select_all");} }		    
function setOpen(i) { if (opens[i].checked == true) { opens[i].checked = false; } else { opens[i].checked = true; } }
function moveOpen(i) { $("#check"+i).trigger('click'); if (opens[i].checked == true) { $('#token-tabs').tabs('select', 'test2'); } }

function switchDomain() { showListOpen = !showListOpen; }
function labelDomain() { if (showListOpen) { $('.domainer').css('opacity',1); $('.iconer').css('opacity',0); $("#domain-icon").html("📑");  } else { $('.domainer').css('opacity',0); $('.iconer').css('opacity',1); $("#domain-icon").html("📄");  }  }

function buildCollect(slug) { clearMark(); for (let i=0;i<domains.length;i++) { if (domains[i].core.collection.slug == slug) { domains[i].checked = true; showMark(i); } else { domains[i].checked = false; } } }

function adjustSize(img) { if (img.height >= img.width) { adjustment = (img.height - img.width) / 48; shim = 'padding-right'; img.height = "48"; } else {adjustment = (img.width - img.height) / 48; shim = 'padding-top'; img.width = "48";}
    img.style.setProperty(shim,adjustment+'px'); img.style.setProperty('display','block');}
	
function selDomain() { for (let i=0;i<domains.length;i++) { 
	if (domains[i].hide != true && domains[i].checked != selectDomain) { domains[i].checked = selectDomain; if (selectDomain) {onLand(i);showDomain(i);M.toast({html: domains[i].core.name + ' added.'});} else { offLand(i);hideDomain(i);M.toast({html: domains[i].core.name + ' removed.'});} 
	
	}  } showList('domain'); //deedMap();
	if (selectDomain) { selectDomain = false;   $("#domain-sel-icon").html("deselect"); } else { selectDomain = true;  $("#domain-sel-icon").html("select_all");} }

function setList(i) { if (domains[i].checked == true) { domains[i].checked = false; offLand(i); hideDomain(i);M.toast({html: domains[i].core.name + ' removed.'}); } else { domains[i].checked = true; onLand(i); showDomain(i);M.toast({html: domains[i].core.name + ' added.'}); } }
function setListOwner(i) { if (domains[i].rock == true) { domains[i].rock = false; offOwner(i);  } else { domains[i].rock = true; onOwner(i);  } }
function setListTrade(i) { 
	//if (user.address == "") { M.toast({html: 'No wallet connected.' }); return; }
	if (domains[i].trade == true) { domains[i].trade = false; offTrade(i); } else { $('#modal5').modal('open'); $("#from").html(user.address); $("#to").html(domains[i].core.name); domains[i].trade = true; onTrade(i);  } }

function addOpen(i){ var extra = ""; if(opens[i].checked == true) { extra = "checked='checked'"; } 
    	$("#registry-open").append("<a class='collection-item open' style='padding-right:8px;'><div style='display:flex;justify-content:space-between;align-items:center;'><div style='display:flex;align-items:center;curser:pointer;' onclick='addOpenDeed(" + i + ");'><span class='imager'>" + opens[i].core.slug + "</span><span class='fader namer'>" + opens[i].core.name + "</span></div>&nbsp;&nbsp;<div style='display:flex;align-items:center;'><div style='display:flex;cursor:pointer;'><div id='open" + i + "' onclick='moveOpen(" + i + ");' style='cursor:pointer; font-size: 14px;margin-bottom:0px;' class='z-depth-1 chip collected hoverable'><img style='border-radius:8px;align-items:center;display:flex; cursor:pointer;position:relative;'  class='z-depth-1 fader' width='20' height='20' src='res/img/icon/key/" + getCollect(opens[i].core.slug) + "'/><span style='font-weight:bold;font-size:13px;'>" + opens[i].count + "</span></div></div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div><label><input type='checkbox' " + extra + " id='check" + i + "' onclick='setOpen(" + i + ");' /><span>&nbsp;</span></label></div></div></div></a>");
		$("#open"+i).mouseenter(function() { $(this).css("background-color", getFront(opens[i].core.slug)); }).mouseleave(function() { $(this).css("background-color", "ghostwhite"); }); }
function addList(i){ var extra = ""; if(domains[i].checked == true) { extra = "checked='checked'"; } var filler = "grey lighten-5"; var filler2 = "grey lighten-5";
	if (domains[i].rock) { filler = "amber lighten-3"; }  if (domains[i].trade) { filler2 = "amber lighten-3"; } 
		$("#registry-domain").append("<a class='collection-item' style='padding-right:8px;'><div style='display:flex;justify-content:space-between;align-items:center;'><div style='display:flex;justify-content:space-between;align-items:center;' onclick='buildDoc(" + i + ");'><span class='fader domainer' style='position:absolute;'>" + domains[i].name + "</span><span class='fader iconer' style='position:absolute;'>" + domains[i].desc + "</span></div><div style='display:flex; justify-content:space-between;align-items:center;'><div style='display:flex;cursor:pointer;z-index:1;'><div id='own" + i + "' onclick='addListNote(" + i + ");' style='cursor:pointer; font-size: 14px;margin-bottom:0px;' class='z-depth-1 chip collected hoverable'>" + domains[i].img + "<span style='font-weight:bold;font-size:13px;'>&nbsp;•&nbsp;" + pullCount(i) + "</span></div></div>&nbsp;&nbsp;&nbsp;&nbsp;<div style='display:flex; flex-direction:column;'><label style='display:flex;'><input type='checkbox' " + extra + " onclick='setList(" + i + ");' /><span></span></label></div></div></div></a>"); 
		$("#own"+i).mouseenter(function() { $(this).css("background-color", domains[i].color); }).mouseleave(function() { $(this).css("background-color", "ghostwhite"); }); }

function sendOut() { if (user.address == "") { M.toast({html: 'No wallet connected.'}); } else { mapAdd();  $("#deed-pane").sidenav("close"); }}
function buildLand(i) { //if (domains[i].item == false) { onLand(i); } else { offLand(i); } 
	setDialog("Domain info...");}
function onLand(i) { domains[i].item = true; $("#l"+i).css('color','beige'); $("#l"+i).addClass('amber'); $("#l"+i).removeClass('grey');
	 $("#lm"+i).css('color','beige'); $("#lm"+i).addClass('amber'); $("#lm"+i).removeClass('grey'); }
function offLand(i) {  domains[i].item = false; $("#l"+i).css('color','ghostwhite'); $("#l"+i).addClass('grey'); $("#l"+i).removeClass('amber');
	$("#lm"+i).css('color','ghostwhite'); $("#lm"+i).addClass('grey'); $("#lm"+i).removeClass('amber'); }


function buildDoc(i) { addListDeed(i); }
function buildDomain(i) { setDialog(domains[i].owner.content); }
function addListDetail(i) { 
	var card = "";
	for (var a = 0; a < opens.length; a++) { if (opens[a].core.slug == domains[i].core.collection.slug) card = opens[a].core.banner_image_url; }
	
     	$("#domain-info").html('<div style="display:flex;justify-content:space-evenly;align-items:center;width:100%;padding-top:12px;"><div style="display: flex;flex-direction: column;text-align: left;align-items:center;width:100%;margin-top:12px;"><div style="display:flex; justify-content:center; width:80%;"><div style="cursor:pointer;align-items:center;display: flex;justify-content: center;">' + makeCardOwner(domains[i].owner.wallet) + '</div><div id="use' + i + '" style="margin-left:24px; display:flex; flex-direction:column;justify-content:center;"><a id="trigger" class="z-depth-1 waves-effect waves-light btn red lighten-4" style="border-radius:8px 8px 0px 0px;" onclick="setDialog(renderMd(\'' + domains[i].owner.content + '\'));" >PROFILE&nbsp;&nbsp;🗒️</a><a class=" z-depth-1 waves-effect waves-light btn red lighten-3" style="border-radius:0px 0px 8px 8px;" onclick="showOwner(\'' + domains[i].owner.wallet + '\');" >MAP&nbsp;&nbsp;🗺️</a></div></div><div id="name' + i + '" style="margin-top:24px; display:flex;justify-content:center;align-items:center;"><span style="font-weight:bold;display:flex;align-items:center;">' + domains[i].owner.name + '&nbsp;&nbsp · &nbsp;&nbsp<div class="z-depth-1" style="background-color:' + domains[i].owner.front + '; border:solid 2px ' + domains[i].owner.back + ';border-radius:8px;padding:6px;cursor:pointer;" onclick="showView(\'mapper\'); flyTo(\'' + domains[i].owner.coord + '\');">' + domains[i].owner.icon + '</div></span></div><br/></div></div>');
     
$('#modal1').modal('open'); } 
var lookup = new Wallet();
function addListLookup(address) {  lookup.address = address;

     	$("#domain-info").html('<div style="display:flex;justify-content:space-evenly;align-items:center;width:100%;padding-top:12px;"><div>Deed Lookup</div><div style="display: flex;flex-direction: column;text-align: left;align-items:center;width:100%;margin-top:12px;"><select id="domain-lookup" class="sider" onchange="domainSelect();"><option selected="selected" value="void">Select domain...</option><option value="tactician.us">tactician.us (demo)</option></select></div></div>');
     
$('#modal1').modal('open'); for (let i=0;i<opens.length;i++) { pullAssets(lookup, opens[i].core.slug, false); } } 

function addOpenDeed(i) { $("#somedialog2").css("z-index",1004); var rando = Math.floor(Math.random() * (opens[i].count-1+1)); var rand = 0; 
	for (var a = 0; a < domains.length; a++) { if (domains[a].core.collection.slug == opens[i].core.slug) { if (rand == rando) { rand = a; a = domains.length;  } else { rand += 1; } } }
    setDialog("<div style='text-align:center;'><p style='display: flex;justify-content: center;align-items:center;'><img class='z-depth-2' onclick='openInNewTab(\"https://opensea.io/collection/" + opens[i].core.slug + "\");' style='cursor:pointer; margin-right:12px;display:none;border-radius:4px;' onload='adjustSize(this);' src='res/img/icon/key/" + getCollect(opens[i].core.slug) + "' /><span style='font-weight:bold;font-size:16px;'>" + opens[i].core.name + "</span>&nbsp;&nbsp; · &nbsp;&nbsp;<a style='cursor:pointer;color:" + getFront(opens[i].core.slug) + ";' onclick='openInNewTab(\"https://opensea.io/collection/" + opens[i].core.slug + "\");' >" + opens[i].core.slug + "</a></p></div><br/><div style='text-align:center;display:flex;justify-content:center;'><img class='deed-image z-depth-1' style='border-radius:12px; border: solid 2px dimgray;' src='" + opens[i].core.banner_image_url + "' /></div><br/><br/><div style='text-align:center;'>" + renderMd(opens[i].core.description) + "</div><br/><br/><div class='z-depth-1 hoverable mobile-column' style='cursor:pointer; display:flex;justify-content:center;align-items:center; max-width:480px; width: 75%;text-align: center; margin: auto;padding: 12px;border-radius: 12px;border: solid 2px whitesmoke;' onclick='document.elementFromPoint(12, 12).click(); $(\"#deed-pane\").sidenav(\"close\"); showView(\"charter\"); setTimeout(function() { flyDomain(" + rand + "); }, 1000);'><div style='text-align:right;display: flex;justify-content: center;'><img id='dpic' class='z-depth-1' style='width:50%;border-radius:12px;' src='" + domains[rand].core.image_url + "' /></div><div style='justify-content:center;align-items:center;width:100%;'><p id='dcard' style='display:flex;justify-content:center;align-items:center;padding:0px; padding-bottom:12px;'>" + domains[rand].core.name + "<span class='mobile-hide'>&nbsp;&nbsp; · &nbsp;&nbsp;</span><a style='font-weight:16px;' onclick='openInNewTab(\"" + domains[rand].core.external_link + "\");'>" + domains[rand].desc + "</a></p><p style='display:flex;justify-content:center;'><span class='badge z-depth-1' style='background-color:" + getBack(opens[i].core.slug) + ";color:black!important;margin:0px;'>" + opens[i].core.slug + "<span style='font-weight:bold;'> • " + (rando+1).toString() + " of " + opens[i].count + "</span></span></p></div></div><br/><br/>"); //$('.deed-image').fadeOut(0);
    // setTimeout(function() { //$('.deed-image').fadeIn(1000); 
		  } 

function addListDeed(i) {  var fuller; var o; var io = 0;  for (var a = 0; a < opens.length; a++) { if (domains[i].core.collection.slug == opens[a].core.slug) { o = a; } }
	for (var a = 0; a < domains.length; a++) { if (domains[a].core.collection.slug == opens[o].core.slug) { io += 1; } if (domains[a].core.name == domains[i].core.name) { a = domains.length; } }
		var embedDisplay = "<img class='z-depth-1' style='border-radius:12px;max-width:80%;margin:auto;' src='" + domains[i].core.image_url + "' />"; 
		var journal = "No notes recorded.";
			 var search = domains[i].ref.substring(domains[i].ref.lastIndexOf("/")+1, domains[i].ref.length);
 
		$.getJSON("https://en.wikipedia.org/w/api.php?origin=*&format=json&action=query&prop=extracts&exintro&explaintext&redirects=1&titles=" + search, function (data) { fuller = "No historical data found.";
			$.each(data.query.pages, function(key, value) { fuller = value.extract; });
				if (hist == false) { fuller = "Historicals turned off."; }
				var details = "<div style='display:flex; flex-direction:column; justify-content:center;align-items:center; width:480px; max-width:80%;'><div class='holder' style='width:600px; border-radius:8px 8px 0px 0px; display:flex;justify-content:space-between;border: solid 2px darkgrey; background-color:whitesmoke; padding: 8px; align-items: center;'><span class='tabler'>Icon | Keyword</span><span class='mobile-hide'>" + domains[i].img + " | " + domains[i].desc + "</span><a class='waves-effect waves-light red lighten-4 btn toker' onclick='openInNewTab(\"https://ur.land/" + domains[i].desc + "\");' style='display:flex;justify-content:space-between; border-radius:8px; width:160px;' ><span class='mobile-hide'>Open Link</span><span class='edit-device'>🔗</span></a></div><div class='holder' style='width:600px; display:flex;justify-content:space-between;border: solid 2px darkgrey; margin-top:-2px; padding: 8px; align-items: center;'><span class='tabler'>OpenSea ID</span><span class='mobile-hide'>" + domains[i].core.token_id.substring(0, 24) + "...</span><a class='waves-effect waves-light red lighten-2 btn toker' onclick='openInNewTab(\"https://opensea.io/assets/ethereum/0x495f947276749Ce646f68AC8c248420045cb7b5e/" + domains[i].core.token_id + "\");' style='display:flex;justify-content:space-between; border-radius:8px; width:160px;' ><span class='mobile-hide'>View Deed</span><span class='edit-device'>📜</span></a></div><div class='holder' style='width:600px; display:flex;justify-content:space-between;border: solid 2px darkgrey; background-color:whitesmoke; padding: 8px; align-items: center; margin-top: -2px;'><span class='tabler'>Wiki Reference</span><span class='mobile-hide'>" + domains[i].ref.substring(0,24) + "...</span><a class='waves-effect waves-light blue lighten-2 btn toker' onclick='openInNewTab(\"" + domains[i].ref + "\");' style='display:flex;justify-content:space-between; width:160px; border-radius:8px;' ><span class='mobile-hide'>Read Wiki</span><span class='edit-device'>📰</span></a></div><div class='holder' style='width:600px; display:flex;justify-content:space-between;border: solid 2px darkgrey; padding: 8px; align-items: center; margin-top:-2px;'><span class='tabler'>Map Coordinates</span><span class='mobile-hide'>" + domains[i].coord + "</span><a class='waves-effect waves-light blue lighten-2 btn toker' onclick='showView(\"charter\"); setTimeout(function() { flyDomain(" + i + "); }, 1000); dlg2.toggle(dlg2);' style='display:flex;justify-content:space-between; width:160px; border-radius:8px;' ><span class='mobile-hide'>Visit Map</span><span class='edit-device'>🗺️️</span></a></div><div class='holder' style='width:600px; display:flex;justify-content:space-between;border: solid 2px darkgrey; padding: 8px; align-items: center; background-color:whitesmoke; margin-top:-2px;'><span class='tabler'>Owner Profile</span><span class='mobile-hide'>" + domains[i].owner.name + "</span><a class='waves-effect waves-light amber lighten-4 btn toker' onclick='navigator.clipboard.writeText(\"" + domains[i].owner.wallet + "\");M.toast({html: \"Address copied.\"});' style='border-radius:8px; display:flex;justify-content:space-between; width:160px;' ><span class='mobile-hide'>Show Owner</span><span class='edit-device'>🏠</span></a></div><div style='width:600px; display:flex;justify-content:space-between;border: solid 2px darkgrey; padding: 8px; align-items: center; background-color:whitesmoke; margin-top:-2px;border-radius:0px 0px 8px 8px;' class='holder'><span class='tabler'>Wallet Address</span><span class='mobile-hide'>" + domains[i].owner.wallet + "...</span><a class='waves-effect waves-light amber lighten-2 btn toker' onclick='navigator.clipboard.writeText(\"" + domains[i].owner.wallet + "\");M.toast({html: \"Address copied.\"});' style='border-radius:8px; display:flex;justify-content:space-between; width:160px;' ><span class='mobile-hide'>Copy Wallet</span><span class='edit-device'>🪙</span></a></div></div>";
				
				setDialog("<div style='text-align:center;display:flex;justify-content:center;flex-direction:column;'><p style='display:flex;justify-content:center;align-items:center;'>" + domains[i].core.name + "&nbsp;&nbsp; · &nbsp;&nbsp;<a style='font-weight:16px;' onclick='openInNewTab(\"" + domains[i].core.external_link + "\");'>" + domains[i].desc + "</a></p></div><div style='text-align:center;display:flex;justify-content:center;flex-direction:column;align-items:center;'><p onclick='openInNewTab(\"https://opensea.io/collection/" + domains[i].core.collection.slug + "\");' style='cursor:pointer; display:flex;justify-content:center;align-items:center;'><img style='display:flex; cursor:pointer;border-radius:8px;' class='z-depth-1' width='30' height='30' src='res/img/icon/key/" + getCollect(domains[i].core.collection.slug) + "'/>&nbsp;&nbsp;&nbsp;&nbsp;<a style='font-weight:bold;color:" + getFront(domains[i].core.collection.slug) + "'>" + domains[i].core.collection.name + "</a></p><p><span onclick='openInNewTab(\"https://opensea.io/collection/" + domains[i].core.collection.slug + "\");' class='badge z-depth-1' style='cursor:pointer; background-color:" + getBack(domains[i].core.collection.slug) + ";color:black!important;'>" + domains[i].core.collection.slug + "<span style='font-weight:bold;'> • " + io.toString() + " of " + opens[o].count + "</span></span></p></div><br/><div id='emDisp' style='text-align:center;display:flex;justify-content:center;'>" + embedDisplay + "</div></br><br/><div class='postcard-head'><span class='postcard-label z-depth-1'><span>🥚DETAILS</span></span></div><br/><div class='postcard-area postchart' style='margin-left:24px!important; display:flex; justify-content:center;'>" + details + "</div><br/><br/><div class='postcard-head'><span class='postcard-label z-depth-1'><span>🥚 JOURNAL</span></span></div><br/><div class='postcard-area' >" + journal + "</div><br/><div class='postcard-head'><span class='postcard-label z-depth-1'><span>🥚 BACKGROUND</span></span></div><br/><div style='text-align:center; display:flex; justify-content:center;'><img class='z-depth-1' style='max-width:80%; margin:auto; max-height:600px;object-fit:cover;border-radius:8px;' src='" + domains[i].res + "' /></div><br/><div class='postcard-area' >" + fuller + "</div><br/><div style='width:100%; display:flex; justify-content:center; align-items:center;'><div><img src='res/img/seal3.png' style='width:48px;' /></div><div style='margin-left:24px;color:indianred;font-weight:bold;font-size:24px;'>dee*d/omain</div></div></div><br/>");  });  }

function addListNote(i) { 
	var embedOwner = "<div style='display:flex; align-items:center;justify-content:center;'>" + domains[i].profile.name + "&nbsp;&nbsp;·&nbsp;&nbsp;<div onclick='showView(\"mapper\"); flyTo(\"" + domains[i].profile.coord + "\");' class='z-depth-1 hoverable' style='cursor:pointer; display: flex;justify-content: space-evenly;width: 160px;align-items: center; background-color: aliceblue;border: solid 1px lightblue;padding: 12px;border-radius: 12px;'><div class='z-depth-1' style='background-color:" + domains[i].profile.front + "; border:solid 2px " + domains[i].profile.back + ";border-radius:8px;padding:6px;cursor:pointer;width:48px;text-align:center;' >" + domains[i].profile.icon + "</div><div style='font-weight:bold;'>MAP</div></div></div></div><br/><div style='display:flex;justify-content:center;'>" + makeCardOwner(domains[i].owner.wallet) + "</div><br/><div class='postcard-area'>" + renderMd(domains[i].profile.content) + "</div>";
	
	setDialog("<div style='text-align:center;display:flex;justify-content:center;flex-direction:column;'><p style='display:flex;justify-content:center;align-items:center;'>" + domains[i].core.name + "&nbsp;&nbsp; · &nbsp;&nbsp;<a style='font-weight:16px;' onclick='openInNewTab(\"" + domains[i].core.external_link + "\");'>" + domains[i].desc + "</a></p></div><div style='text-align:center;display:flex;justify-content:center;'><p onclick='openInNewTab(\"https://opensea.io/collection/" + domains[i].core.collection.slug + "\");' style='cursor:pointer; display:flex;justify-content:center;align-items:center;'><img style='display:flex; cursor:pointer;border-radius:8px;' class='z-depth-1' width='30' height='30' src='res/img/icon/key/" + getCollect(domains[i].core.collection.slug) + "'/>&nbsp;&nbsp;&nbsp;&nbsp;<a style='font-weight:bold;color:" + getFront(domains[i].core.collection.slug) + "'>" + domains[i].core.collection.name + "</a></p></div><br/><br/><div class='postcard-head'><span class='postcard-label z-depth-1'><span class='blacker'>🥚</span> Owner</span></div><div class='postcard-area'>" + embedOwner + "</div><br/>"); } 

function addLister(i) { 
    		$("#registry-list").append("<a class='collection-item open' style='padding-right:8px;'><div style='display:flex;justify-content:space-between;align-items:center;'><div><img style='display:flex; cursor:pointer;' onclick='addOpenDeed(" + i + ");' class='z-depth-1' width='30' height='30' src='res/img/dralun/key/" + getCollect(opens[i].core.slug) + "'/></div>&nbsp;&nbsp;<div style='display:flex;align-items:center;'><div style='display:flex;cursor:pointer;'><div onclick='addOpenDeed(" + i + ");' style='cursor:pointer; font-size: 14px;margin-bottom:0px;' class='z-depth-1 chip collected hoverable'>" + opens[i].core.slug + "&nbsp;·&nbsp;<span style='font-weight:bold;font-size:13px;'>" + opens[i].count + "</span></div></div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div><label><input type='checkbox' id='check" + i + "' onclick='setOpen(" + i + ");' /><span>&nbsp;</span></label></div></div></div></a>"); }

function getCollect(value) {
    switch(value) {
        case 'librar': return 'tan.png'; case 'patric': return 'orange.png'; case 'clini': return 'pink.png'; case 'sect': return 'green.png'; case 'technic': return 'white.png'; case 'utili': return 'gray.png'; case 'civilia': return 'blue.png'; case 'tact': return 'red.png'; case 'elect': return 'yellow.png'; case 'agrar': return 'brown.png'; case 'logicia': return 'purple.png'; case 'custo': return 'black.png';
        default: return 'default.png'; }}
function getColor(value) {
    switch(value) {
	case 'tact': return 1; case 'patric': return 2; case 'elect': return 3; case 'sect': return 4; case 'civilia': return 5; case 'logicia': return 6; case 'clini': return 7; case 'librar': return 8; case 'agrar': return 9; case 'technic': return 10; case 'utili': return 11; case 'custo': return 12;
        default: return 'blue_swords.png'; }}

function getFront(value) {
    switch(value) {
	case 'tact': return 'firebrick'; case 'patric': return 'orange'; case 'elect': return 'gold'; case 'sect': return 'green'; case 'civilia': return 'steelblue'; case 'logicia': return 'purple'; case 'clini': return 'salmon'; case 'librar': return 'tan'; case 'agrar': return 'brown'; case 'technic': return 'dimgrey'; case 'utili': return 'gray'; case 'custo': return 'darkslategrey';
        default: return 'blue_swords.png'; }}
function getBack(value) {
    switch(value) {
	case 'tact': return 'indianred'; case 'patric': return 'darkorange'; case 'elect': return 'yellow'; case 'sect': return 'darkseagreen'; case 'civilia': return 'dodgerblue'; case 'logicia': return 'magenta'; case 'clini': return 'pink'; case 'librar': return 'antiquewhite'; case 'agrar': return 'sandybrown'; case 'technic': return 'ghostwhite'; case 'utili': return 'darkgrey'; case 'custo': return 'slategrey';
        default: return 'blue_swords.png'; }}

function openAZ(a, b) { if (a.core.name === b.core.name) {  return 0; } else { return (a.core.name < b.core.name) ? -1 : 1; } }
function openZA(a, b) { if (a.core.name === b.core.name) {  return 0; } else { return (a.core.name > b.core.name) ? -1 : 1; } }
function openaz(a, b) { if (getColor(a.core.slug) === getColor(b.core.slug)) {  return 0; } else { return (getColor(a.core.slug) < getColor(b.core.slug)) ? -1 : 1; } }
function openza(a, b) { if (getColor(a.core.slug) === getColor(b.core.slug)) {  return 0; } else { return (getColor(a.core.slug) > getColor(b.core.slug)) ? -1 : 1; } }
function open09(a, b) { if (a.count === b.count) {  return 0; } else { return (a.count < b.count) ? -1 : 1; } }
function open90(a, b) { if (a.count === b.count) {  return 0; } else { return (a.count > b.count) ? -1 : 1; } }

function domainAZ(a, b) { if (a.core.name === b.core.name) {  return 0; } else { return (a.core.name < b.core.name) ? -1 : 1; } }
function domainZA(a, b) { if (a.core.name === b.core.name) {  return 0; } else { return (a.core.name > b.core.name) ? -1 : 1; } }
function domainaz(a, b) { if (a.count === b.count) {  return 0; } else { return (a.count < b.count) ? -1 : 1; } }
function domainza(a, b) { if (a.count === b.count) {  return 0; } else { return (a.count > b.count) ? -1 : 1; } }
function domain09(a, b) { if (a.price === b.price) {  return 0; } else { return (a.price < b.price) ? -1 : 1; } }
function domain90(a, b) { if (a.price === b.price) {  return 0; } else { return (a.price > b.price) ? -1 : 1; } }

function buildCard(i) { var num = 1; for (var a = 0; a < opens.length; a++) { 
	if (domains[i].core.collection.slug == opens[a].core.slug) { for (var b =0; b < domains.length; b++) { if (domains[b].core.name == domains[i].core.name) { a = domains.length;  } else { num += 1; } } } } }

var notes = [];
var renderMd, renderMr, renderMt; // https://regexr.com
renderMd = function (text) { if (text == null) return "No content listed.";
    var mermaidEx = /\[!MERMAID\]\|([^|]*)/gi; matches = mermaidEx.exec(text); // text.match(mermaidEx);
    //var match = myRegexp.exec(myString); //console.log(match[1]); // abc
    if (matches != null) { temp_match = renderMr(matches[1]); text = text.replace(mermaidEx, temp_match); }
    //var mathEx = /\[!MATH\]\|(.*)\|/gi; text = text.replace(mathEx, renderMt('$1'));
    var imageEx = /\[!IMAGE\]\((.*),(.*),(.*)\)/gi; text = text.replace(imageEx, "<div style='text-align:center;'><img src='$1' height='$2' width='$3' /></div>");
    var headEx4 = /#### (.*)/gi; var headEx3 = /### (.*)/gi; var headEx2 = /## (.*)/gi; text = text.replace(headEx4, '<div><h6>$1</h6></div>'); text = text.replace(headEx3, '<div style="text-align:center;"><h5>$1</h5></div>'); text = text.replace(headEx2, '<div><h4>$1</h4></div>');
    var linkEx = /\[([^\]]+)\]\(([^\)]+)\)/gi; text = text.replace(linkEx, "<span style='cursor:pointer;color:blue;' onclick='openInNewTab(\"$2\");'>$1</span>");
    var boldEx = /\*\*([^\*]+)\*\*/gi; text = text.replace(boldEx, "<span style='font-weight:bold;'>$1</span>");
    var italicEx = /\*([^\*]+)\*/gi; text = text.replace(italicEx, "<span style='font-style:italic;'>$1</span>");
    var bulletStart = /\n\n(- .*)/gi; var bulletEx = /- (.*)/gi; var bulletEnd = /(- .*)\n\n/gi; text = text.replace(bulletStart, '<div><ul class="browser-default">$1'); text = text.replace(bulletEnd, '$1</ul></div>\n\n'); text = text.replace(bulletEx, '<li class="browser-default">$1</li>');
    var listStartEnd = /(1\. ((?!\n\n\n).)*)/gis; var listEx = /1\. (((?!\n\n).)*)/gis; text = text.replace(listStartEnd, '<div><ol>$1</ol></div>'); text = text.replace(listEx, '<li>$1</li>');
    var codeEx = /```\n([^`]+)```/gi; text = text.replace(codeEx, "<div class='coder'><code>$1</code></div>");
    var tableStart = /(\|(?:(?!\n\n)[\s\S])*)/;
    var tableRow = /\|(((?!\|\n)[\s\S])*)\|/gi;
    var tableCell = /\|([^\|\n]+)/gi; text = text.replace(tableStart, '<div><table><tr><td>$1</td></tr></table></div>').replaceAll("|", "</td><td>").replaceAll("<td>\n</td>","</tr><tr>").replaceAll("<td>-</td>","").replaceAll("<td></td>",""); text = text.replace(tableRow, '<tr>$1</tr>'); text = text.replace(tableCell, '<td>$1</td><td>$2</td>');
    var lineEx = /\n\n/gi; text = text.replace(lineEx, '<br/><br/>');
    var paragraphEx;
    
    //const string = "something format_abc"; //const regexp = /(?:^|\s)format_(.*?)(?:\s|$)/g; //const matches = string.matchAll(regexp); //for (const match of matches) { console.log(match); console.log(match.index) }
    
    var taskStart = /\n\n(X .*)/gi; var taskEx = /X (.*)/gi; var taskEnd = /(X .*)\n\n/gi; text = text.replace(taskStart, '<br/><div><p><label><input type="checkbox" class="filled-in" /><span>$1</span></label></p>'); text = text.replace(taskEnd, '<p><label><input type="checkbox" class="filled-in" /><span>$1</span></label></p></div><br/>'); text = text.replace(taskEx, '<p><label><input type="checkbox" class="filled-in" /><span>$1</span></label></p>');
    
    $('#dialog-inner2').find('li').addClass('browser-default'); $('#start').find('*').addClass('browser-default');

    return text;}

//random dictionary... 

function switchTime() { //add UTC format...
    	var current = new Date(); // timestamp, milliseconds since 1970 (?) vs. milliseconds (UTC)
    	var yyyy = current.getFullYear(), MM = current.getMonth() + 1; if (MM < 10) { MM = "0" + MM.toString(); }
    	var dd = current.getDate(), hh = current.getHours(), mm = current.getMinutes(), ss = current.getSeconds();
    	var datestamp = yyyy + "." + MM + "." + dd; var timestamp = hh + ":" + mm + ":" + ss; // calendar?
	return datestamp + "@" + timestamp; }

function fillNotes() { for (let a = 0; a < notes.length; a++) {
        $("#registry-note").append("<a class='collection-item'><div style='display:flex;justify-content:space-between;'><div style='display:flex;justify-content:space-between;align-items:center;' onclick='flyMark(1);'>" + notes[a] + "</div><div style='display:flex; justify-content:space-between;align-items:center;'><span style='color:lightgreen' class='green btn waves-effect waves-light lighten-4' onclick='buildLand(1);'><i class='material-icons'>edit</i></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style='display:flex; flex-direction:column;'><label style='display:flex;'><input type='checkbox' onclick='setList(1);' /><span></span></label></div></div></div></a>");  } }
function clearPad() { $("#pad").html(""); }

function showPreview() { setDialog(renderMd($("#pad").html())); }
	

function searcher() {  
var geocoder = new MapboxGeocoder({
accessToken: 'pk.eyJ1IjoibmZudGgiLCJhIjoiY2tweW1rNXlsMGFpYzJwcGt1cHh6dmxzcyJ9.ZJaFrGpPDv5froWZMLXXYQ',
mapboxgl: beforeMap
});
 
document.getElementById('geocoder').appendChild(geocoder.onAdd(beforeMap));
	const elements = document.querySelectorAll('mapbox-address-autofill');
   for (const autofill of elements) { autofill.accessToken = 'pk.eyJ1IjoibmZudGgiLCJhIjoiY2tweW1rNXlsMGFpYzJwcGt1cHh6dmxzcyJ9.ZJaFrGpPDv5froWZMLXXYQ'; autofill.addEventListener('retrieve', (event) => {
     const featureCollection = event.detail; $('#textarea1').val(featureCollection.features[0].properties.full_address); M.textareaAutoResize($('#textarea1')); setTimeout(function() { $("#auto-ad").val(""); }, 500); $("#textarea1").focus();
	$.get('https://api.mapbox.com/geocoding/v5/mapbox.places/'+ featureCollection.features[0].properties.full_address + '.json?access_token=pk.eyJ1IjoibmZudGgiLCJhIjoiY2tweW1rNXlsMGFpYzJwcGt1cHh6dmxzcyJ9.ZJaFrGpPDv5froWZMLXXYQ', function(data) { 
		$("#long").val(data.features[0].center[0]);  $("#lat").val(data.features[0].center[1]); } );}); } $("#auto-ad").focus(); }

var coordinates; var artFlag = false; var tempMark = ""; var tempMap = [];

//mapbox directions...
function address(a) {
	//const form = document.getElementById('addressa'); //const input = form.querySelector('input[type=text]')
   //const valueMap = mapboxsearch.getFormAutofillValues(form, input); //console.log(valueMap);
const searchText = mapboxsearch.getAutofillSearchText(a); //console.log(searchText); // '123 Main St, San Francisco, CA'
}

var popup = []; var pather = false; var beacon = false; var map;
//coord, card, border, background, name, doc, step, button, icon

var flying; var startUp; 
function fly(dest) { const nowhere = [-75.10664162497726, 45.741025518671464]; map.fire('click', { latLng: nowhere, point: map.project(nowhere), originalEvent: {} }); flying = true;
    	map.on('moveend', function(e){ if(flying){ flying = false; startUp(); } }); map.flyTo({ center: dest, zoom: zoom, bearing: 0, speed: 0.8,  curve: 1,  easing: (t) => t, essential: true }); }

var learnArt = [-103.69697959674477, 37.77108807140884];  var learnOwn = [-99.19697959674477, 40.17108807140884]; var learnPath = [-99.79697959674477, 35.47108807140884];
var tutorial = [[[-101.69697959674477, 35.77108807140884],'indianred','indianred','background-image:url("res/img/seal3.png")','Sign Deed','a',true,'red',''],[learnArt,'goldenrod','darkgoldenrod','background-image:url("res/img/icon/coin.jpg")','Build Domain','b',true,'amber',''],[learnOwn,'darkseagreen','darkgreen','background-color:darkseagreen','Trade Note','c',true,'green','🥚'],[learnPath,'cadeblue','darkblue','background-color:cadetblue','Use OCUR','d',false,'blue','🍳']];
function showTutorial() { map = beforeMap; startTutorial(0); }
function startTutorial(item) {  
	if (item == 1) { startPoint = base; endPoint = learnArt; showPath('indianred'); pather = true;  } 
	else if (item == 2) { clearDraw(); startPoint = learnArt; endPoint = learnOwn; showPath('goldenrod'); pather = true; } 
	else if (item == 3) { addBeacon(learnPath); beacon = true; }
	
	var mari = 'marker'+item.toString(); var marv = document.createElement('div'); 
	marv.id = mari; popup.push(new mapboxgl.Marker(marv).setLngLat(tutorial[item][0]).addTo(map)); $('#'+mari).addClass('markre'); $('#'+mari).addClass('z-depth-3'); $('#'+mari).addClass('triangle-up');  $('#'+mari).html(tutorial[item][8]);
	var style = $('#'+mari).attr('style'); style += ";" + tutorial[item][3] + ";background-size:cover;font-size: 18px; align-items: center; display: flex;justify-content: center;border:solid 2px " + tutorial[item][2] + ";border-radius:50%;"; $('#'+mari).attr('style',style); 
	if (tutorial[item][6]) { ending = '<a id="but' + item.toString() + '" class="waves-effect waves-light btn ' + tutorial[item][7] + ' lighten-2" onclick="popup['+item +'].togglePopup(); startTutorial(' + (item+1).toString() + '); $(\'#but' + item.toString() + '\').addClass(\'disabled\');"><i class="material-icons right">arrow_forward</i>Next</a>'; } 
	else { ending = '<a id="butPath" class="waves-effect waves-light btn blue lighten-2" onclick="clearTutorial(); startTutorial(0);"><i class="material-icons right">restart_alt</i>Reset</a>'; }
	var markup = '<div style="display:flex;flex-direction:column;align-items:center">' + makeCard(tutorial[item][1], 'showDoc(\'tact/' + tutorial[item][5] + '\');') + '</div><div style="margin-top:16px; font-size:16px;"><span onclick="showDoc(\'tact/' + tutorial[item][5] + '\');" style="cursor:pointer;">' + tutorial[item][4] + '</span><br/><br/>' + ending + '</div></div>';

	popup[item].setPopup(new AnimatedPopup({ offset: 25, openingAnimation: {duration: 1000, easing: 'easeOutElastic'}, closingAnimation: { duration: 200, easing: 'easeInBack' } }).setHTML(markup)); startUp = function() { popup[item].togglePopup(); }; fly(base);  }
function clearTutorial() { for(var a = 0; a < popup.length; a++) { popup[a].remove(); } popup = []; clearDraw();  }
function clearDraw() { if (typeof nomadPath !== 'undefined') cancelAnimationFrame(nomadPath); if (pather) { removeLine(); } if (beacon) { removeBeacon(); } pather = false; beacon = false; }

var house = [-122.1661845434948, 47.76905286802228];
function showHouse() { clearMap(); document.getElementById('booker').click(); $('#deed-pane').sidenav('close');  $('#deed-pane').sidenav({ edge: 'left' }); map = beforeMap;
	var marv = document.createElement('div'); marv.id = 'markerh'; popHouse = new mapboxgl.Marker(marv).setLngLat(house).addTo(map); $('#markerh').addClass('markre'); $('#markerd').addClass('z-depth-3'); 
	var style = $('#markerh').attr('style'); style += ";background-image:url('res/img/seal3.png');background-size:cover; border:solid 2px indianred;border-radius:50%;"; $('#markerh').attr('style',style);
	var markup = '<div style="    display: flex;flex-direction: column;align-items: center;">' + makeJoker('indianred') + '</div><div style="margin-top:16px; font-size:16px;"><span onclick="showDoc(\'PLANME\');" style="cursor:pointer;">About NfNth</span><br/><br/><a id="butPath" class="waves-effect waves-light btn red lighten-2" onclick="startTrade();">Contact&nbsp;&nbsp;🏪</a></div></div>';

	popHouse.setPopup(new AnimatedPopup({ offset: 25, openingAnimation: {duration: 1000, easing: 'easeOutElastic'}, closingAnimation: { duration: 200, easing: 'easeInBack' } }).setHTML(markup)); startUp = function() { popHouse.togglePopup(); }; fly(house); }

var outpost = [-90.1661845434948, 30.76905286802228];
function showPost() { map = beforeMap; clearMap(); document.getElementById('booker').click(); $('#deed-pane').sidenav('close'); $('#deed-pane').sidenav({ edge: 'left' });
	var marv = document.createElement('div'); marv.id = 'markerh'; popOut= new mapboxgl.Marker(marv).setLngLat(outpost).addTo(map); $('#markerh').addClass('markre'); $('#markerd').addClass('z-depth-3'); 
	var style = $('#markerh').attr('style'); style += ";background-image:url('res/img/seal3.png');background-size:cover; border:solid 2px indianred;border-radius:50%;"; $('#markerh').attr('style',style);
	var markup = '<div style="    display: flex;flex-direction: column;align-items: center;">' + makeJoker('indianred') + '</div><div style="margin-top:16px; font-size:16px;"><span onclick="showDoc(\'PLANME\');" style="cursor:pointer;">About NfNth</span><br/><br/><a id="butPath" class="waves-effect waves-light btn red lighten-2" onclick="startTrade();">Contact&nbsp;&nbsp;📦</a></div></div>';
	popHouse.setPopup(new AnimatedPopup({ offset: 25, openingAnimation: {duration: 1000, easing: 'easeOutElastic'}, closingAnimation: { duration: 200, easing: 'easeInBack' } }).setHTML(markup)); startUp = function() { popHouse.togglePopup(); }; fly(house); }

class Pin { id = ""; mark = ""; }
var pins = [];
function showMark(i) { map = beforeMap;
	var marv = document.createElement('div'); marv.id = 'marker' + i;  var marp = new mapboxgl.Marker(marv).setLngLat(converter(domains[i].coord)).addTo(map);
	var symbol = domains[i].img; var name = domains[i].core.name.replace(symbol,"").replace(" ",""); var mare = $('#marker'+i);
	
	mare.addClass('markre'); mare.addClass('z-depth-3'); //color?
	var front = getFront(domains[i].core.collection.slug); var back = getBack(domains[i].core.collection.slug);
	var style=mare.attr('style'); style += ";align-items: center;justify-content: center;display: flex;background-color: " + back + ";border: 2px solid " + front + ";font-size: 16px;"; mare.attr('style',style);  mare.html(domains[i].img);
	var markup = '<div><div style="display:flex; justify-content:center; flex-direction:column; align-items:center;" ><div style="width:64px;height:64px;display:flex;margin-top:6px;border-radius:8px;cursor:pointer;" class="z-depth-1" onclick="buildDoc(\'' + i+ '\');"><img style="border-radius:8px;width:64px;height:64px;" src="' + domains[i].core.image_url + '" /></div><div style="margin-top:16px; margin-bottom:12px; font-size:16px;"><span style="font-weight:bold;">' + name + '</span></div><div class="editMark" style="width:100%; display:flex;justify-content:center;margin-left:8px;margin-right:8px;"><a class="red lighten-5 z-depth-1 waves-effect waves-light btn" style="border-radius:8px 0px 0px 8px;"  onclick="addListDetail(' + i + ');">📄</a><a class="amber lighten-5 z-depth-1 waves-effect waves-light btn" style="border-radius:0px 8px 8px 0px;" onclick="startTrade();">💼</a>';

	marp.setPopup(new AnimatedPopup({ offset: 25, openingAnimation: {duration: 1000, easing: 'easeOutElastic'}, closingAnimation: { duration: 200, easing: 'easeInBack' } }).setHTML(markup)); //pullOwner(id);
	
	//startUp = function() { marp.togglePopup(); }
	//fly(converter(obj.coord));
	
	var tmp_pin = new Pin(); tmp_pin.id = i; tmp_pin.mark = marp; pins.push(tmp_pin); } 

function convertMarker(coord) { //if (coord.indexOf('LngLat') == -1) { return coord; }
	var raw = coord.replace('LngLat(','').replace(')','').replace(' ','').replace('[','').replace(']','');
	return [raw.substring(0, raw.indexOf(',')), raw.substring(raw.indexOf(',')+1, raw.length)];}
function converter(coord) { //66°32′56″N 152°50′41″W  Degrees + ((Minutes / 60) + (Seconds / 3600)) 40°41′34″N 73°59′25″W
	if (!(coord.includes('°'))) return convertMarker(coord);
	var raw = coord; var lat, long; var add, add2; var sub, sub2; var final, final2;
	if (raw.includes("N")) { lat = raw.substring(0, raw.indexOf('N')); add = lat.substring(lat.indexOf('°')+1, lat.indexOf('′')); add2 = lat.substring(lat.indexOf('′')+1, lat.indexOf('″')); lat = lat.substring(0, lat.indexOf('°')); }
	else { lat = raw.substring(0, raw.indexOf('S')); add = lat.substring(lat.indexOf('°')+1, lat.indexOf('′')); add2 = lat.substring(lat.indexOf('′')+1, lat.indexOf('″')); lat = lat.substring(0, lat.indexOf('°')); lat = "-" + lat; }

	if (raw.includes("E")) {  long = raw.substring(raw.indexOf(' ')+1, raw.indexOf('E')); sub = long.substring(long.indexOf('°')+1, long.indexOf('′')); sub2 = long.substring(long.indexOf('′')+1, long.indexOf('″')); long = long.substring(0, long.indexOf('°')); }
	else { long = raw.substring(raw.indexOf(' ')+1, raw.indexOf('W')); sub = long.substring(long.indexOf('°')+1, long.indexOf('′')); sub2 = long.substring(long.indexOf('′')+1, long.indexOf('″')); long = long.substring(0, long.indexOf('°')); long = "-" + long; }
	
	if (isNaN(long) || isNaN(sub) || isNaN(sub2)) { if (isNaN(long)) { final = 0; } else { final = parseInt(long); } } else { final = parseInt(long) + (parseInt(sub)/60) + (parseInt(sub2)/3600); }
	if (isNaN(lat) || isNaN(add) || isNaN(add2)) { if (isNaN(lat)) { final2 = 0; } else { final2 = parseInt(lat); } } else { final2 = parseInt(lat)  + (parseInt(add)/60) + (parseInt(add2)/3600); }  return [final, final2]; }
	
function flyDomain(i) { clearMap(); charter.setSlider(width-100); slida = width - 100; afterMap = 'light'; setMap();
	showDomain(i); startUp = function() { for (let a = 0; a < pins.length; a++) { if (pins[a].id == i) pins[a].mark.togglePopup(); } //domains[i].map.togglePopup(); 
	}; fly(converter(domains[i].coord)); }

function showDomain(i) { showMark(i); }
function hideDomain(i) { for (let a = 0; a < pins.length; a++) { if (pins[a].id == i) { pins[a].mark.remove(); pins.splice(a,1); return 1; } } return 0; } //if (domains[i].map != "") { domains[i].map.remove(); }  }

function deedMap() { var introRemove = false; for (let i=0;i<domains.length;i++) { if (domains[i].checked) { showDomain(i); introRemove = true; } else { hideDomain(i); } }  
		   if (introRemove) { clearMap(); clearLearn(); } }
//function domainMap() { showMark(convertMark(domainMd.location), domainMd.color, 'res/img/dralun/shield.png', 'temp.com', domainMd.name, 'x', 'deed'); }
//function artMap() {  for (let i=0;i<artifacts.length;i++) { if (artifacts[i].checked) { showArt(i); } }  }



function addArt() { showEdit(); tempMark.togglePopup(); 
	//var survive = Math.floor(Math.random() * (50 - 1 + 1)) + 1;  $("#thumb").attr("src","res/img/icon/default/"+survive+".png"); $("#titler").html("My Item 🥚"); $("#pricer").html("0.1"); board.profile = "res/img/icon/default/"+survive+".png";
	//afterMap = 'dark'; setMap(); charter
		  // editMd.location = coordinates.toString(); // startPoint = mapSpot; endPoint = coordinates.toString(); showPath('green'); pather = true;	   
	//$(".switch.shape").find("input[type=checkbox]").on("change",function() { var status = $(this).prop('checked'); setShape(status); });
		   coordinates.lat -= 6;  map.flyTo({ center: coordinates, zoom: zoom, bearing: 0, speed: 0.8,  curve: 1,  easing: (t) => t, essential: true }); }

var picker; var trigger;
function mapAdd() { M.toast({html: 'Select location...'}); rightMap = 'dark';  setMap(); charter.setSlider(48); slida = 48; artFlag = true; } 
function markEdit() {  // coordinates = [$("#long").val(), $("#lat").val()]; // coordinates.lat += 6;
	showEdit(); }
function showEdit() { if (tempMark != "") { tempMark.remove(); tempMark = ""; } map = afterMap; 
	var marv = document.createElement('div'); marv.id = 'markery';// coordinates.lat += 6;
	tempMark = new mapboxgl.Marker(marv).setLngLat(coordinates).addTo(map); board.coord = coordinates;
    	$('#markery').addClass('markre'); $('#markerx').addClass('z-depth-3'); var style=$('#markery').attr('style'); $("#markery").html("🍳");
		     //var front = getFront(domains[myDomain].core.collection.slug); var back = getBack(domains[myDomain].core.collection.slug);  //random?
		     front = "indianred"; back = "darkred";
    	style += ";background-color:" + front + ";border:solid 2px " + back + ";display: flex;align-items: center;justify-content: center;font-size: 18px;border-radius:50%;"; $('#markery').attr('style',style);
    	//style += "background-size:contain; background-image:url('res/img/map/DECAL_" + String(decal).padStart(3, '0') +".png');";  
	tempMark.setPopup(new AnimatedPopup({ offset: 25, openingAnimation: {duration: 1000, easing: 'easeOutElastic'}, closingAnimation: { duration: 200, easing: 'easeInBack' } }).setHTML(editContent));  
	map.flyTo({ center: coordinates, zoom: zoom, bearing: 0, speed: 0.8,  curve: 1,  easing: (t) => t, essential: true }); tempMark.togglePopup(); 
	//startUp = function() { }; fly(converter(coordinates));
	 }

	
//var textInput = '<input id="edit-name" type="text" class="validate" oninput="setText(this);">';
var textInput = '<div class="input-field col s6"><input id="edit-name" type="text" class="validate" onfocus="picName();" ><label id="namer" for="edit-name">Enter OpenSea ID ...</label></div>'
var numInput = '<input id="edit-num" type="number" class="validate" oninput="setText(this);" step=".01">';
var spanInput = '<span>OpenSea Item Title</span>';
// color picker = status selected message with copy color option ...
//var pickIcon = false; var pickName = false; var pickPrice = false; 
var pickLock = true;
//function picReset() { pickIcon = false; pickName = false; pickPrice = false; }
function picLock() { if (pickLock) { pickLock = false; $("#i5").html("🔓"); } else { pickLock = true; $("#i5").html("🔒"); } }
function picText() { pullOwner($("#edit-name").val()); }
function picName() { $("#namer").html("OpenSea ID"); }
//function picText() { $("#inputer").prop('disabled', false); $("#inputer").html(textInput); $("#edit-name").val($("#titler").html()); M.toast({html: 'Edit name...'});picReset(); pickName = true; $("#edit-name").focus();$("#edit-name").click(); toggleInput(2); }
//function picPrice() { $("#inputer").prop('disabled', false); $("#inputer").html(numInput); $("#edit-num").val($("#pricer").html()); M.toast({html: 'Edit price...'});picReset(); pickPrice = true; $("#edit-name").focus();$("#edit-name").click(); toggleInput(3); }

//var mailContent = '';
//<div style="padding:12px; padding-top:0px; padding-bottom:0px; display:flex; justify-content:center;"><div id="inputer" style="margin-top:0px;margin-bottom:0px;" class="input-field col s4"><input id="edit-name" type="text" class="validate" oninput="setText(this);" onblur="disableText();"></div></div>
//onclick="$(\'#preview\').trigger(\'click\');"
var editContent = '<div class="editMark" style="width:100%; height:48px;display:flex;justify-content:center;margin-top:12px;"><a id="i2" class="waves-effect waves-light btn-flat" style="margin-right:12px; border-radius:8px;" onclick="$(\'#modal-emoji\').modal(\'open\');">🥚</a><a id="i3" class=" z-depth-1 waves-effect waves-light btn green lighten-5" onclick="colorStart(this);" style="border-radius:8px 0px 0px 8px;">🎨</a><a id="i4" class=" z-depth-1 waves-effect waves-light btn green lighten-5" onclick="outlineStart(this);" style="border-radius:0px 8px 8px 0px;">🔳</a></div><div>' + textInput + '</div><div style="display:flex;justify-content:space-around; align-items:center;width:210px; height:140px;"><div class="z-depth-1" style="border-radius: 8px;width: 100%; height:100%; display: flex; justify-content: center;"><img id="thumber" src="res/img/seal3.png" style="padding:12px;"/></div></div><input type="color" oninput="setColor();" id="favcolor" name="favcolor" value="#ff0000" style="width:0px; height:0px;opacity:0;" /><input type="color" oninput="setOutline();" id="favcolor2" name="favcolor2" value="#ff0000" style="width:0px; height:0px;opacity:0;" /><div>' + spanInput + '</div><div style="display:flex;justify-content:center;"><a class="waves-effect waves-light btn-flat" onclick="colorStart(this);" style="border-radius:8px;">📄</a><a class="waves-effect waves-light btn-flat" onclick="colorStart(this);" style="border-radius:8px;">🗑️</a><a class=" z-depth-1 waves-effect waves-light btn amber lighten-4" onclick="colorStart(this);" style="border-radius:8px;"><span>Publish</span><span>🪨</span></a></div></div>';


function copyNote(obj) { obj.front = document.getElementById('favcolor').value; obj.back = document.getElementById('favcolor2').value; obj.name = $("#titler").html(); obj.icon = $("#markery").html(); obj.content = $("#pad").html(); }

function showNotes() { getNotes(); for (var a = 0; a < notes.length; a++) {
	var marv = document.createElement('div'); marv.id = 'marker' + a;  var marp = new mapboxgl.Marker(marv).setLngLat(converter(notes[a].coord)).addTo(map); var mare = $('#marker'+a);
	
	mare.addClass('markre'); mare.addClass('z-depth-3'); //color?
	var style=mare.attr('style'); style += ";align-items: center;justify-content: center;display: flex;background-color: " + notes[a].front + ";border: 2px solid " + notes[a].back + ";font-size: 16px;"; mare.attr('style',style);  mare.html(notes[a].icon);
	var markup = '<div><div style="display:flex; justify-content:center; flex-direction:column; align-items:center;" ><div style="width:64px;height:64px;display:flex;margin-top:6px;border-radius:8px;cursor:pointer;" class="z-depth-1" ><img id="img-' + a + '" style="border-radius:8px" src="data:image/png;base64,' + notes[a].image + '"/></div><div style="margin-top:16px; margin-bottom:12px; font-size:16px;"><span style="font-weight:bold;">' + notes[a].name + '</span></div><div class="editMark" style="width:100%; display:flex;justify-content:center;margin-left:8px;margin-right:8px;"><a class="red lighten-4 z-depth-1 waves-effect waves-light btn" style="border-radius:8px 0px 0px 8px;" >📄</a><a class="amber lighten-4 z-depth-1 waves-effect waves-light btn" style="border-radius:0px 8px 8px 0px;" onclick="startTrade();">📦</a>';

	marp.setPopup(new AnimatedPopup({ offset: 25, openingAnimation: {duration: 1000, easing: 'easeOutElastic'}, closingAnimation: { duration: 200, easing: 'easeInBack' } }).setHTML(markup)); //pullOwner(id);
} } 

//var validation = [false,false,false,false,false,false,false];
function toggleInput(i) { $("#i" + i).removeClass("lighten-5"); $("#i"+i).addClass("lighten-3"); }
//	for (let a = 0; a < validation.length; a++) { if (validation[a] == false) return false; } return true; }
//function setSubmit() { $('#post-build').removeClass('disabled'); }

var editMode = false; //$('#preview').trigger('click'); 
function setPreview() { 
	var preview = document.getElementById("preview"); var thumb = document.getElementById("thumb"); const [file] = preview.files
  if (file) { if (file.size > 10000000) { M.toast({html: 'Image size cannot exceed 10MB.'}); } else { thumb.src = URL.createObjectURL(file);   }}}
function setPreviewer() { var preview = document.getElementById("preview"); var thumber = document.getElementById("thumber"); const [file] = preview.files; thumber.src = URL.createObjectURL(file); }

function resetArea() { $('.mapboxgl-popup-content').css('padding', '0');  switchTime(); $("#edit-name").val(domains[myDomain].core.name);  $("#thumb").attr("src", domains[myDomain].core.image_url); }

function colorStart(event) { //event.stopPropagation(); 
	document.getElementById("favcolor").focus(); document.getElementById("favcolor").click(); toggleInput(6); }
function setColor() { $("#markery").css("background-color", document.getElementById('favcolor').value); board.front = document.getElementById('favcolor').value;  }
function outlineStart(event) { //event.stopPropagation(); 
	document.getElementById("favcolor2").focus(); document.getElementById("favcolor2").click(); toggleInput(7); }
function setOutline() { $("#markery").css("border", "solid 2px " + document.getElementById('favcolor2').value); board.back = document.getElementById('favcolor').value;  }

function clearEdit() { if (popEdit) popEdit.remove(); if (picker) picker.close(); $('.modal').modal();  }
function clearMark() { if (tempMark != "") { tempMark.remove(); tempMark = ""; } for (let a=0;a<domains.length;a++){ if (domains[a].map != "") { domains[a].map.remove(); domains[a].map = ""; } } }
function clearMap() { clearDraw(); }

var beforeMap, afterMap, container, charter = ""; var zoom = 5; var base = [-101.69697959674477, 35.77108807140884]; var slida = width - 100; var leftMap = 'satellite'; var rightMap = 'light';
function setMap() { if (charter != "") { base =beforeMap.getCenter(); }
	switch (leftMap) {
		case 'street': beforeStyle = 'mapbox://styles/mapbox/streets-v12'; break;
		case 'outdoor': beforeStyle = 'mapbox://styles/mapbox/outdoors-v12'; break;
		case 'satellite': beforeStyle = 'mapbox://styles/mapbox/satellite-streets-v11'; break;
		case 'light': beforeStyle = 'mapbox://styles/mapbox/light-v10'; break;
		case 'dark': beforeStyle = 'mapbox://styles/mapbox/dark-v10'; break; }
		//case 'terrain': beforeStyle = 'cjaudgl840gn32rnrepcb9b9g'; break; }
	switch (rightMap) {
		case 'light': afterStyle = 'mapbox://styles/mapbox/light-v10'; break;
		case 'dark': afterStyle = 'mapbox://styles/mapbox/dark-v10'; break; }
	
	mapboxgl.accessToken = "pk.eyJ1IjoibmZudGgiLCJhIjoiY2tweW1rNXlsMGFpYzJwcGt1cHh6dmxzcyJ9.ZJaFrGpPDv5froWZMLXXYQ";
	beforeMap = new mapboxgl.Map({ container: 'before', style: beforeStyle, center: base, zoom: zoom }); afterMap = new mapboxgl.Map({ container: 'after', style: afterStyle, center: base, zoom: zoom });
	syncMaps(beforeMap, afterMap); container = '#comparison-container';   
	afterMap.on('load', function (event) { afterMap.on('click', function(e) { coordinates = e.lngLat; if (artFlag) { markEdit(); artFlag = false; } }); }); }
setMap(); charter = new mapboxgl.Compare(beforeMap, afterMap, container, { });

var mapControl = false;
var locControl = new mapboxgl.GeolocateControl({ positionOptions: { enableHighAccuracy: true },trackUserLocation: true,showUserHeading: true}); 
var navControl = new mapboxgl.NavigationControl({ showCompass: true, showZoom: true, visualizePitch: true }); var scaleControl = new mapboxgl.ScaleControl();
function toggleTool() { map = afterMap; if (mapControl) { mapControl = false; map.removeControl(navControl); map.removeControl(locControl); map.removeControl(scaleControl);  } else { mapControl = true; map.addControl(navControl); map.addControl(locControl); map.addControl(scaleControl, 'top-right');  }  }

//map.setLayoutProperty('country-label', 'text-field', ['get', `name_${language}` ]); //ru fr de es
//map.setTerrain({ 'source': 'mapbox-dem', 'exaggeration': 1.5 });
//     map.on('load', function(event) { case 'ocean': map.addSource('10m-bathymetry-81bsvj', {type: 'vector',url: 'mapbox://mapbox.9tm8dx88'}); 
//map.addLayer({'id': '10m-bathymetry-81bsvj','type': 'fill','source': '10m-bathymetry-81bsvj','source-layer': '10m-bathymetry-81bsvj','layout': {},'paint': {'fill-outline-color': 'hsla(337, 82%, 62%, 0)','fill-color': ['interpolate',['cubic-bezier', 0, 0.5, 1, 0.5],['get', 'DEPTH'],200,'#78bced',9000,'#15659f']}},'land-structure-polygon'); break;
//		case 'terrain': map.addSource('dem', {'type': 'raster-dem','url': 'mapbox://mapbox.mapbox-terrain-dem-v1','tileSize': 512,'maxzoom': 14});	map.addLayer({'id': 'hillshading','source': 'dem','type': 'hillshade'},'waterway-river-canal-shadow');	
 
function showMap() { clearMarkers();
	for (let a=0;a<currentContent.length;a++) { addMark(currentContent[a][0],currentContent[a][1],currentContent[a][2],currentContent[a][3],currentContent[a][4],currentContent[a][5],currentContent[a][6]); } currentMarkers[currentToggle].togglePopup(); }

var tempCoord = [0,0];

const geojsonDraw = { "type": "FeatureCollection","features": [{"type": "Feature", "geometry": { "type": "LineString", "coordinates": [] } }] };
var startPoint; var endPoint; var framesPerSecond = 20; var initialOpacity = 1; var opacity = initialOpacity; var initialRadius = 4; var radius = initialRadius; var maxRadius = 15; var speedFactor = 100; var animation; var lineCoordinates=[]; var animationCounter=0;

function addLine(color) {
    	var diffX = endPoint[0] - startPoint[0];  var diffY = endPoint[1] - startPoint[1]; var sfX = diffX / speedFactor; var sfY = diffY / speedFactor; var i=0; var j=0;
    	while (Math.abs(i) < Math.abs(diffX) || Math.abs(j) < Math.abs(diffY)) { lineCoordinates.push([startPoint[0] + i, startPoint[1] + j]); if (Math.abs(i) < Math.abs(diffX)) {i += sfX; } if (Math.abs(j) < Math.abs(diffY)) { j += sfY; } }
    	map.addSource('point1', {"type": "geojson", "data": { "type": "Point", "coordinates": [ startPoint[0], startPoint[1] ]  } });
    	map.addLayer({ "id": "circle1", "source": "point1", "type": "circle", "paint": {"circle-radius": initialRadius, "circle-radius-transition": { duration: 0 }, "circle-opacity-transition": {   duration: 0}, "circle-color": 'black' } });
    	map.addLayer({"id": "point1", "source": "point1","type": "circle","paint": {   "circle-radius": initialRadius, "circle-color": 'black' } });
    	map.addSource('point2', {"type": "geojson", "data": { "type": "Point", "coordinates": [ endPoint[0], endPoint[1] ]  } });
    	map.addLayer({"id": "circle2", "source": "point2", "type": "circle", "paint": {  "circle-radius": initialRadius,"circle-radius-transition": {  duration: 0}, "circle-opacity-transition": {   duration: 0 }, "circle-color": 'black' } });
    	map.addLayer({ "id": "point2", "source": "point2","type": "circle", "paint": { "circle-radius": initialRadius, "circle-color": 'black' }  });
    	map.addLayer({'id': 'line-draw','type': 'line', 'source': { 'type': 'geojson', 'data': geojsonDraw },'layout': { 'line-cap': 'round', 'line-join': 'round' }, 'paint': {'line-color': color,'line-width': 2, 'line-dasharray': [2, 1]} });  }
function drawLine(i) {
	if (animationCounter < lineCoordinates.length) { geojsonDraw.features[0].geometry.coordinates.push(lineCoordinates[animationCounter]); map.getSource('line-draw').setData(geojsonDraw); nomadPath = requestAnimationFrame(drawLine); animationCounter++;}
    else { var coord = geojsonDraw.features[0].geometry.coordinates; if (coord.length > 0) { geojsonDraw.features[0].geometry.coordinates = coord; map.getSource('line-draw').setData(geojsonDraw); nomadPath = requestAnimationFrame(drawLine); }} }
function removeLine() { map.removeLayer('line-draw'); map.removeLayer('point2'); map.removeLayer('circle2');map.removeLayer('point1'); map.removeLayer('circle1'); map.removeSource('point2'); map.removeSource('point1');  map.removeSource('line-draw');
    	geojsonDraw.features[0].geometry.coordinates = []; }
function showPath(color) { addLine(color); nomadPath = requestAnimationFrame(drawLine); }

const size = 200;
const pulsingDot = { width: size, height: size, data: new Uint8Array(size * size * 4),
    	onAdd: function () { const canvas = document.createElement('canvas'); canvas.width = this.width; canvas.height = this.height; this.context = canvas.getContext('2d'); },
    	render: function () { const duration = 1000; const t = (performance.now() % duration) / duration; const radius = (size / 2) * 0.3; 
		const outerRadius = (size / 2) * 0.7 * t + radius; const context = this.context;
        	context.clearRect(0, 0, this.width, this.height); context.beginPath(); context.arc( this.width / 2, this.height / 2, outerRadius, 0, Math.PI * 2 ); context.fillStyle = `rgba(3, 111, 252, ${1 - t})`; context.fill();
        	context.beginPath(); context.arc( this.width / 2, this.height / 2, radius, 0, Math.PI * 2 ); context.fillStyle = 'rgba(68, 140, 235, 1)'; context.strokeStyle = 'white'; context.lineWidth = 2 + 4 * (1 - t); context.fill(); context.stroke();
        	this.data = context.getImageData( 0, 0, this.width, this.height).data; map.triggerRepaint(); return true; } };
function addBeacon(place) { map.addImage('pulsing-dot', pulsingDot, { pixelRatio: 2 }); map.addSource('dot-point', { 'type': 'geojson', 'data': { 'type': 'FeatureCollection', 'features': [ { 'type': 'Feature', 'geometry': { 'type': 'Point', 'coordinates': place } } ] } });
    	map.addLayer({'id': 'layer-with-pulsing-dot', 'type': 'symbol', 'source': 'dot-point', 'layout': { 'icon-image': 'pulsing-dot' }  }); }
function removeBeacon() { map.removeLayer('layer-with-pulsing-dot');map.removeSource('dot-point');map.removeImage('pulsing-dot'); }

function takeSnap(){ var canvas = document.getElementsByClassName("mapboxgl-canvas")[0]; var img = new Image(); img.src = canvas.toDataURL(); 
    document.body.appendChild(img); document.getElementById("downloader").src = map.getCanvas().toDataURL(); document.getElementById("downloader").click(); }

$("#search").on("input", function() { $("#resulter").html($(this).val()); });
function clearSearch() { $("#search").val(""); $("#resulter").html("No search results."); }
$("input").keydown(function(event) { if (event.keyCode == 13) { event.preventDefault(); } });
document.querySelector('emoji-picker').addEventListener('emoji-click', event => $("#resulter").html(event.detail.emoji.annotation) );
// { "emoji": { "annotation": "grinning face", "group": 0, "order": 1, "shortcodes": [ "grinning_face", "grinning" ], "tags": [ "face", "grin" ], "unicode": "😀", "version": 1, "emoticon": ":D" }, "skinTone": 0, "unicode": "😀" }

function moveToMapPosition (master, clones) { var center = master.getCenter(); var zoom = master.getZoom(); var bearing = master.getBearing(); var pitch = master.getPitch();
  clones.forEach(function (clone) { clone.jumpTo({ center: center, zoom: zoom, bearing: bearing, pitch: pitch }); }); }
function syncMaps () { var maps; var argLen = arguments.length; if (argLen === 1) { maps = arguments[0]; } else { maps = []; for (var i = 0; i < argLen; i++) { maps.push(arguments[i]); } }
  var fns = []; maps.forEach(function (map, index) { fns[index] = sync.bind(null, map, maps.filter(function (o, i) { return i !== index; })); });
function on () { maps.forEach(function (map, index) { map.on('move', fns[index]); }); }
function off () { maps.forEach(function (map, index) { map.off('move', fns[index]); }); }
function sync (master, clones) { off(); moveToMapPosition(master, clones); on(); }
on(); return function(){  off(); fns = []; maps = []; }; }




var slideCode = '<div id="flipXXX" class="block flip-card flip-card-inner" style="display:flex;align-items:center;cursor:pointer;"><div class="flip-card-fronty backer card-wrap" style="height:120px;width:100%;background-color:whitesmoke;color:black;opacity:0.75;transition:all 0.5s!important;"><span class="circleLight"></span><div class="text" style="display:flex; flex-direction:column;align-items:center;"><div style="display:flex;align-items:center;"><img src="res/img/seal3.png" style="width:48px; height:48px;" /><span style="margin-top:12px;margin-left:12px;color:indianred;font-weight:bold;font-size:16px;">OCUR</span><span style="margin-top:12px;margin-left:12px;font-weight:bold;">dee.d/omain</span></div><p  id="card-nameXXXX" style="display:flex; align-items:center;">I`m cool card</p></div></div></div>';

var mouse = {X   : 0,Y   : 0,CX  : 0,CY  : 0 }, block = {X   : mouse.X,Y   : mouse.Y,CX  : mouse.CX,CY  : mouse.CY}, vmags = [ '', ''],fmags = [ '', ''],bmags = [ '', ''],imags = ['','','','',],cmags = ['green','blue']; amags = [0,0];
$('.block').on('mousemove', function(e) {mouse.X   = (e.pageX - $(this).offset().left) - $('.block').width() / 2;mouse.Y   = (e.pageY - $(this).offset().top) - $('.block').height() / 2;}); $('.block').on('mouseleave', function(e) {mouse.X   = mouse.CX;mouse.Y   = mouse.CY;});
var shiner = setInterval(function(){ block.CY   += (mouse.Y - block.CY) / 12;block.CX   += (mouse.X - block.CX) / 12; $('.block .circleLight').css('background', 'radial-gradient(circle at ' + mouse.X + 'px ' + mouse.Y + 'px, #fff, transparent)');
  $('.block').css({ transform : 'scale(1.03) translate(' + (block.CX * 0.05) + 'px, ' + (block.CY * 0.05) + 'px) rotateX(' + (block.CY * 0.05) + 'deg) rotateY(' + (block.CX * 0.05) + 'deg)'}) }, 20);

var oldCard; var prevCard = false; var nextCard = false; var switcher = false;
function shakeCard(i) { var dCard = Math.floor(Math.random() * (domains.length-1+1)); 
	 imags[i] = domains[dCard].core.image_url; $("#card-name"+i).html("<div><img style='display:flex;border-radius:8px; cursor:pointer;' class='z-depth-1' width='30' height='30' src='res/img/icon/key/" + getCollect(domains[dCard].core.collection.slug) + "'/></div>&nbsp;&nbsp;&nbsp;&nbsp;" + domains[dCard].core.name); 
	 vmags[i] = domains[dCard].core.image_url; cmags[i] = getCollect(domains[dCard].core.collection.slug).replace(".png",""); prevCard = false; nextCard = false; amags[i] = dCard;
	fmags[i] = domains[dCard].core.permalink; $("#flip"+i).click(function(){  addListDeed(dCard); }); bmags[i] = getBack(domains[dCard].core.collection.slug); } 
function setCards() { shakeCard(0); shakeCard(1); 
	$('.slider .item').each(function(i) { 
		if (i == 0) { $(this).addClass('active'); $(this).next().addClass('next'); $(this).prev().addClass('prev'); }
	$(this).attr('id', 'slide-'+i);
	$(this).prepend($('<div>', {class: 'blur', style: 'background-image: url(' + imags[i] + ');' }), $('<div>', {class: 'bg', style: 'background-image: url (' + imags[i] + ');'}))
    if (vmags[i] != null) $(this).find('.block').css('background-image', 'url(' + vmags[i] + ')'); else $(this).find('.block').css('background-image', 'url(' + imags[i] + ')'); } ) }
function setCard(id) { $("#slide-"+id).html(slideCode.replace("XXXX",id).replace("XXX",id)); shakeCard(id); $('.slider .item').each(function(i){ if (i == id) { $(this).attr('id', 'slide-'+i);
		$(this).prepend($('<div>', {class: 'blur', style: 'background-image: url(' + imags[i] + ');'}), $('<div>', {class: 'bg', style: 'background-image: url (' + imags[i] + ');'}))
		if (vmags[i] != null) $(this).find('.block').css('background-image', 'url(' + vmags[i] + ')'); else $(this).find('.block').css('background-image', 'url(' + imags[i] + ')'); }}); }		
function changeCard() { 
	stationary = true; $('.flip-card-inner').css("transform",""); $('.flip-card-front').css("transform",""); $('.text').addClass("backer"); $('.flip-card-inner').removeClass("card-background"); $(".card-wrap").css("margin-top","0px");
	setTimeout(function () {
		$('.block').on('mousemove', function(e) {mouse.X   = (e.pageX - $(this).offset().left) - $('.block').width() / 2; mouse.Y   = (e.pageY - $(this).offset().top) - $('.block').height() / 2;}); $('.block').on('mouseleave', function(e) {mouse.X   = mouse.CX;mouse.Y   = mouse.CY;})
	shiner = setInterval(function(){
	if (stationary) { block.CY   += (mouse.Y - block.CY) / 12;block.CX   += (mouse.X - block.CX) / 12;
  $('.block .circleLight').css('background', 'radial-gradient(circle at ' + mouse.X + 'px ' + mouse.Y + 'px, #fff, transparent)')
  $('.block').css({ transform : 'scale(1.03) translate(' + (block.CX * 0.05) + 'px, ' + (block.CY * 0.05) + 'px) rotateX(' + (block.CY * 0.05) + 'deg) rotateY(' + (block.CX * 0.05) + 'deg)'}) } else { 
		$('.flip-card-inner').addClass("card-background"); $("#card-wrap").css("margin-top","64px"); clearInterval(shiner); } }, 20); }, 1000); $('.slider .item').removeClass('active prev next');
	if (switcher) { var cSlide = $('.slider #slide-0'); switcher = false; 
      cSlide.addClass('active');cSlide.next().addClass('next');cSlide.prev().addClass('prev');  setTimeout(function() { setCard(1); }, 1000); } else { var cSlide = $('.slider #slide-1'); switcher = true; 
      cSlide.addClass('active');cSlide.next().addClass('next');cSlide.prev().addClass('prev');  setTimeout(function() {  setCard(0);  }, 1000); } }



var suit = ['heart','diamond','club','spade']; var num = ['2','3','4','5','6','7','8','9','10','J','Q','K','A']; class Card { suiter = 0; nummer = 0 } class Deck { carder = []; } var myDeck;

function makeDeck() { myDeck = new Deck(); for (let a = 0; a < suit.length; a++) {  for (let b = 0; b < num.length; b++) { var newCard = new Card(); newCard.suiter = a; newCard.nummer = b; myDeck.carder.push(newCard);  } }
		  shuffle(myDeck.carder);   leftDeck = new Deck(); rightDeck = new Deck(); leftDeck.carder = myDeck.carder.slice(0,26); rightDeck.carder = myDeck.carder.slice(27);  } 

makeDeck(); 
function shuffle(array) { let currentIndex = array.length,  randomIndex; while (currentIndex != 0) { randomIndex = Math.floor(Math.random() * currentIndex); currentIndex--; [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];}
  return array;}

var leftDeck, rightDeck; 

function playHand() { var eAction = Math.floor(Math.random() * (2 - 1)); eAct = gactions[eAction]; 
	if (leftDeck.carder[0].nummer == rightDeck.carder[0].nummer) { alert('war'); }
	else if (leftDeck.carder[0].nummer > rightDeck.carder[0].nummer) { resolveConflict(true);
		leftDeck.carder.push(leftDeck.carder.shift()); leftDeck.carder.push(rightDeck.carder.shift()); }
	else {resolveConflict(false); rightDeck.carder.push(rightDeck.carder.shift()); rightDeck.carder.push(leftDeck.carder.shift()); } }

var cardSwitch = false;

var cardCode = '<div class="flip-card cardy"><div class="flip-card-inner z-depth-1" style="cursor:pointer;border-radius:12px;"><div class="flip-card-front" onclick="flipCarder();" style="z-index:1;border-radius:12px;border:solid 1px YYYY!important;"><img src="XXXX" style="position:absolute; width:48px;height:48px;" /></div><div class="flip-card-back" onclick="ZZZZ" style="transform: rotateY(180deg);border-radius:12px;"><div id="tactb" style="opacity:0.75; display: flex; flex-direction:column; align-items: center;position: absolute;top: 4px;left: 4px;"><span id="tact1" style="font-size: 20px;font-weight: bold;"></span><img style="cursor:pointer;margin-top:2px;" id="tacta" width="16" height="16" /></div><div style="display:flex;"><img id="leafer" style="width:36px;height:36px;"></div><div id="tact2" style="opacity:0.95; display: flex; flex-direction:column; align-items: center;position: absolute;bottom: 4px;right: 4px;"><img style="cursor:pointer;margin-top:2px;" id="tactc" width="16" height="16" /><span id="tact3" style="font-size: 20px;font-weight: bold;"></span></div></div></div>';

var cardOwn = '<div class="flip-card cardy" onclick="flipQR(YYYY);"><div class="flip-card-inner z-depth-1" style="cursor:pointer;border-radius:12px;"><div class="flip-card-front"  style="z-index:1;border-radius:12px;border:none!important;"><img  src="https://ocur.io/wallet/XXXX/profile" style="width:100%;height:100%;border-radius:8px;"></div><div class="flip-card-back" style="transform: rotateY(180deg);border-radius:12px;"><div id="tactb" style="opacity:0.75; display: flex;align-items: center;"><span id="tactx" style="display:flex; font-size: 24px;font-weight: bold;"></span></div><div id="tact2" style="opacity:0.75; display: flex;align-items: center;position: absolute;bottom: 4px;right: 4px;"></div></div></div></div>';

var cardArt = '<div class="flip-card cardy" onclick="flipArt(YYYY);"><div id="arter" class="flip-card-inner z-depth-1" style="cursor:pointer;border-radius:12px;"><div class="flip-card-front"  style="z-index:1;border-radius:12px;border:none!important;"><img  src="https://ocur.io/domain/XXXX/profile" style="width:100%;height:100%;border-radius:8px;"></div><div class="flip-card-back" style="transform: rotateY(180deg);border-radius:12px;"><div id="tactb" style="opacity:0.75; display: flex;align-items: center;"><span id="tactx" style="display:flex; font-size: 24px;font-weight: bold;"></span></div><div id="tact2" style="opacity:0.75; display: flex;align-items: center;position: absolute;bottom: 4px;right: 4px;"></div></div></div></div>';

var jokerCode = '<div class="flip-card cardy"><div class="flip-card-inner z-depth-1" style="cursor:pointer;border-radius:12px;"><div class="flip-card-front" onclick="flipJoker();" style="z-index:1;border-radius:12px;border:solid 1px YYYY!important;"><img src="XXXX" style="position:absolute; width:48px;height:48px;" /></div><div class="flip-card-back" style="transform: rotateY(180deg);border-radius:12px;"><div id="tactb" style="opacity:0.75; display: flex; flex-direction:column; align-items: center;position: absolute;top: 4px;left: 4px;"><span id="tact1" style="font-size: 16px;font-weight: bold;"></span></div><div><img onclick="showDoc(\'PLANME\');" src="res/img/dralun/joker.png" style="width:70px;height:80px;cursor:pointer;"></div><div id="tact2" style="opacity:0.75; display: flex; flex-direction:column; align-items: center;position: absolute;bottom: 4px;right: 4px;"><span id="tact3" style="font-size: 16px;font-weight: bold;"></span></div></div></div>';

function flipCarder(action) { 
	var mySuit = Math.floor(Math.random() * (4 - 1 + 1)); var myNum = Math.floor(Math.random() * (13 - 1 + 1)); var myLeaf = Math.floor(Math.random() * (10 - 1) + 1); 
	$("#tacta").attr("src","res/img/icon/card/" + suit[mySuit] + ".png");$("#tact1").html(num[myNum]); $("#leafer").attr("src","res/img/dralun/anim/leaf/"+myLeaf.toString()+".gif");
		     $("#tactc").attr("src","res/img/icon/card/" + suit[mySuit] + ".png");$("#tact3").html(num[myNum]);
		     if (mySuit > 1) { $("#tact1").css("color","black"); $("#tact3").css("color","black");  } else { $("#tact1").css("color","red"); $("#tact3").css("color","red"); } 
			    $('.flip-card-inner').css("transform","rotateY(180deg)"); 
		     $("#tact3").css("transform","scale(-1, -1)"); $("#tactc").css("transform","scale(-1, -1)");  }
		    
function flipJoker() { $("#tact1").html("🃏"); $("#tact3").html("🃏"); $("#tact1").css("color","green"); $("#tact3").css("color","blue");  $('.flip-card-inner').css("transform","rotateY(180deg)");  $("#tact3").css("transform","scale(-1, -1)");  }

var leftFlip = false; var rightFlip = false;
function flipCard(role) { if (leftFlip && rightFlip) { $('#myFlipleft').css("transform","none"); $('#myFlipright').css("transform","none");  playHand(); leftFlip = false; rightFlip = false; return true; }
	var mySuit = Math.floor(Math.random() * (4 - 1 + 1)); var myNum = Math.floor(Math.random() * (13 - 1 + 1)); 
			 if (role == 'left') { mySuit = leftDeck.carder[0].suiter; myNum = leftDeck.carder[0].nummer; } else  { mySuit = rightDeck.carder[0].suiter; myNum = rightDeck.carder[0].nummer; }
	$("#tacta"+role).attr("src","res/img/dralun/card/" + suit[mySuit] + ".png");$("#tact1"+role).html(num[myNum]);
		     $("#tactc"+role).attr("src","res/img/dralun/card/" + suit[mySuit] + ".png");$("#tact3"+role).html(num[myNum]);
		     if (mySuit > 1) { $("#tact1"+role).css("color","black"); $("#tact3"+role).css("color","black");  } else { $("#tact1"+role).css("color","red"); $("#tact3"+role).css("color","red"); } 
			    $('#myFlip'+role).css("transform","rotateY(180deg)");  $("#tact3"+role).css("transform","scale(-1, -1)"); $("#tactc"+role).css("transform","scale(-1, -1)");
	if (role == 'left') { leftFlip = true; } if (role == 'right') { rightFlip = true; }  }

var qrSwitch = false;
function flipQR(i) { //pullHolder(i); //make picture out of icon...
	if (qrSwitch) { $('.flip-card-inner').css("transform","none"); qrSwitch = false; } else { var options = { text: i, height: 90, width: 90, //logo: 'res/img/seal3.png', logoWidth: 32, logoHeight: 32,
	}; $("#tactx").html(""); new QRCode(document.getElementById("tactx"), options); $('.flip-card-inner').css("transform","rotateY(180deg)"); qrSwitch = true; } }

function makeQR(i) { pullHolder(i);  var options = { text: domains[i].owner.wallet, height: 90, width: 90, //logo: 'res/img/seal3.png', logoWidth: 32, logoHeight: 32,
	}; $("#docy").html(""); new QRCode(document.getElementById("docy"), options); }

function flipArt(i) { $("#tactx").html(domains[i].owner.price); $('#arter').css("transform","rotateY(180deg)");  }

function makeCard(color) { var leaf = Math.floor(Math.random() * (16 - 1 + 1)) + 1; var leafSrc = "res/img/icon/leaf/leaf" + leaf.toString() + ".png";  return cardCode.replace('XXXX',leafSrc).replace('YYYY','whitesmoke'); }
                   
function makeCard(color,action) { var leaf = Math.floor(Math.random() * (16 - 1 + 1)) + 1; var leafSrc = "res/img/icon/leaf/leaf" + leaf.toString() + ".png";  return cardCode.replace('XXXX',leafSrc).replace('YYYY','whitesmoke').replace('ZZZZ',action); }

function makeCardOwner(i) {  return cardOwn.replace('XXXX',i).replace('YYYY',i); }
function makeCardArt(i) { return cardArt.replace('XXXX',domains[i].desc).replace('YYYY',i); }
                   
 function makeJoker(color) { var leaf = Math.floor(Math.random() * (16 - 1 + 1)) + 1; var leafSrc = "res/img/icon/leaf/leaf" + leaf.toString() + ".png";  return jokerCode.replace('XXXX',leafSrc).replace('YYYY',color); }


(function () { var months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
  function getTime() { var date = new Date(), second = date.getSeconds(), minute = date.getMinutes(), hour = date.getHours(), time = date.toLocaleString('en-US', { hour: 'numeric', minute: 'numeric', hour12: true }), day = date.getDay(), month = date.getMonth(), date = date.getDate() + ' . ' + months[month], ds = second * -6, dm = minute * -6, dh = hour * -30;
    $('.second').css('transform', 'rotate(' + ds + 'deg)');$('.minute').css('transform', 'rotate(' + dm + 'deg)');$('.hour').css('transform', 'rotate(' + dh + 'deg)'); $('.time').text(time);$('.day').text(days[day]);$('.date').text(date); }
 function dailer(selector, size) { for (var s = 0; s < 60; s++) { $(selector).append('<span style="transform: rotate(' + 6 * s + 'deg) translateX(' + size + 'px)">' + s + '</span>');}} dailer('.second', 195);dailer('.minute', 145);dailer('.dail', 230);
  for (var s = 1; s < 13; s++) { $('.hour').append('<span style="transform: rotate(' + 30 * s + 'deg) translateX(100px)">' + s + '</span>'); }  setInterval(getTime, 1000); getTime(); })();

var scenario = ['jungle','forest','waterfall','night'];
var animation = ['poor-ax','poor-sickle','poor-hammer','indian-ax','indian-bow','indian-chief','indian-rifle','indian-spear','indian-shaman','rich-two','rich-ranger','rich-dynamite','rich-priest','hero-gun','hero-big','hero-winchester']; //,'rich-blue','rich-skel','rich-brute'
var walka;

var animal = ['cow/basic.gif','cow/hair.gif','deer/run.gif','lion/run.gif','tiger/run.gif','hyena/walk.gif','hyena/awalk.gif'];
function setAnim() { var anim = Math.floor(Math.random() * (animal.length - 1 + 1)); return 'res/img/dralun/anim/animal/' + animal[anim]; }
//lion/jump.gif ...tiger

var unit = ['poor/hammer','poor/sickle','poor/ax','indian/ax','indian/bow','indian/spear','indian/rifle','indian/shaman','indian/chief'];
var squad = ['rich/blue','rich/two','rich/priest','rich/dynamite','rich/brute','rich/two','rich/ranger','rich/skel','cowboy/gun','cowboy/big','cowboy/winchester'];
	
var ga = true; var ro = ['000','045','090','135','180','225','270','315'];var rot = Math.floor(Math.random() * (8-1+1)); 
	 var animal = ['bird','birds','cow','croc','deer','hawk','hyena','lion','shark','tiger','turtle'];

//var myMove = setInterval(mover,1000);
//$("#ax-stand").show();
function ax(action) { var angry = true;
	if (action == 'look') { $("#ax-stand").hide(); $("#ax-look").show(); $("#ax-stand2").hide(); $("#ax-look2").show(); setTimeout(function() { if (angry) { $("#ax-look").hide(); $("#ax-hit").show(); $("#ax-look2").hide(); $("#ax-hit2").show(); } }, 8000); }
		else if (action == 'shoot') { angry = false; $("#ax-look").hide(); $("#ax-shoot").show(); $("#ax-look2").hide(); $("#ax-shoot2").show(); } else if (action == 'shot') { $("#ax-shoot").hide(); $("#ax-hit").hide(); $("#ax-dead-shot").show(); $("#ax-shoot2").hide(); $("#ax-hit2").hide(); $("#ax-dead-shot2").show(); } }

function deader(event) { //clearInterval(myMove); 
	//event.clientX
	$("#badder").css("left", (event.clientX - 48) + "px");
$("#badder").css("animation","none");
	$("#badder").attr("src", "res/img/dralun/anim/char/poor/ax/dead/000.gif"); }
	
var events = new Events();
events.add = function(obj) {
  obj.events = { };
}
events.implement = function(fn) {
  fn.prototype = Object.create(Events.prototype);
}

function Events() {
  this.events = { };
}
Events.prototype.on = function(name, fn) {
  var events = this.events[name];
  if (events == undefined) {
    this.events[name] = [ fn ];
    this.emit('event:on', fn);
  } else {
    if (events.indexOf(fn) == -1) {
      events.push(fn);
      this.emit('event:on', fn);
    }
  }
  return this;
}
Events.prototype.once = function(name, fn) {
  var events = this.events[name];
  fn.once = true;
  if (!events) {
    this.events[name] = [ fn ];
    this.emit('event:once', fn);
  } else {
    if (events.indexOf(fn) == -1) {
      events.push(fn);
      this.emit('event:once', fn);
    }
  }
  return this;
}
Events.prototype.emit = function(name, args) {
  var events = this.events[name];
  if (events) {
    var i = events.length;
    while(i--) {
      if (events[i]) {
        events[i].call(this, args);
        if (events[i].once) {
          delete events[i];
        }
      }
    }
  }
  return this;
}
Events.prototype.unbind = function(name, fn) {
  if (name) {
    var events = this.events[name];
    if (events) {
      if (fn) {
        var i = events.indexOf(fn);
        if (i != -1) {
          delete events[i];
        }
      } else {
        delete this.events[name];
      }
    }
  } else {
    delete this.events;
    this.events = { };
  }
  return this;
}

var userPrefix;

var prefix = (function () {
  var styles = window.getComputedStyle(document.documentElement, ''),
    pre = (Array.prototype.slice
      .call(styles)
      .join('') 
      .match(/-(moz|webkit|ms)-/) || (styles.OLink === '' && ['', 'o'])
    )[1],
    dom = ('WebKit|Moz|MS|O').match(new RegExp('(' + pre + ')', 'i'))[1];
  userPrefix = {
    dom: dom,
    lowercase: pre,
    css: '-' + pre + '-',
    js: pre[0].toUpperCase() + pre.substr(1)
  };
})();

function bindEvent(element, type, handler) {
  if(element.addEventListener) {
    element.addEventListener(type, handler, false);
  } else {
    element.attachEvent('on' + type, handler);
  }
}

function Viewport(data) {
  events.add(this);

  var self = this;

  this.element = data.element;
  this.fps = data.fps;
  this.sensivity = data.sensivity;
  this.sensivityFade = data.sensivityFade;
  this.touchSensivity = data.touchSensivity;
  this.speed = data.speed;

  this.lastX = 0;
  this.lastY = 0;
  this.mouseX = 0;
  this.mouseY = 0;
  this.distanceX = 0;
  this.distanceY = 0;
  this.positionX = 1122;
  this.positionY = 136;
  this.torqueX = 0;
  this.torqueY = 0;

  this.down = false;
  this.upsideDown = false;

  this.previousPositionX = 0;
  this.previousPositionY = 0;

  this.currentSide = 0;
  this.calculatedSide = 0;


  bindEvent(document, 'mousedown', function() {
    self.down = true;
  });

  bindEvent(document, 'mouseup', function() {
    self.down = false;
  });
  
  bindEvent(document, 'keyup', function() {
    self.down = false;
  });

  bindEvent(document, 'mousemove', function(e) {
    self.mouseX = e.pageX;
    self.mouseY = e.pageY;
  });

  bindEvent(document, 'touchstart', function(e) {

    self.down = true;
    e.touches ? e = e.touches[0] : null;
    self.mouseX = e.pageX / self.touchSensivity;
    self.mouseY = e.pageY / self.touchSensivity;
    self.lastX  = self.mouseX;
    self.lastY  = self.mouseY;
  });

  bindEvent(document, 'touchmove', function(e) {
    if(e.preventDefault) { 
      e.preventDefault();
    }

    if(e.touches.length == 1) {

      e.touches ? e = e.touches[0] : null;

      self.mouseX = e.pageX / self.touchSensivity;
      self.mouseY = e.pageY / self.touchSensivity;

    }
  });

  bindEvent(document, 'touchend', function(e) {
    self.down = false;
  });  

  setInterval(this.animate.bind(this), this.fps);

}
events.implement(Viewport);
Viewport.prototype.animate = function() {

  this.distanceX = (this.mouseX - this.lastX);
  this.distanceY = (this.mouseY - this.lastY);

  this.lastX = this.mouseX;
  this.lastY = this.mouseY;

  if(this.down) {
    this.torqueX = this.torqueX * this.sensivityFade + (this.distanceX * this.speed - this.torqueX) * this.sensivity;
    this.torqueY = this.torqueY * this.sensivityFade + (this.distanceY * this.speed - this.torqueY) * this.sensivity;
  }

  if(Math.abs(this.torqueX) > 1.0 || Math.abs(this.torqueY) > 1.0) {
    if(!this.down) {
      this.torqueX *= this.sensivityFade;
      this.torqueY *= this.sensivityFade;
    }

    this.positionY -= this.torqueY;

    if(this.positionY > 360) {
      this.positionY -= 360;
    } else if(this.positionY < 0) {
      this.positionY += 360;
    }

    if(this.positionY > 90 && this.positionY < 270) {
      this.positionX -= this.torqueX;

      if(!this.upsideDown) {
        this.upsideDown = true;
        this.emit('upsideDown', { upsideDown: this.upsideDown });
      }

    } else {

      this.positionX += this.torqueX;

      if(this.upsideDown) {
        this.upsideDown = false;
        this.emit('upsideDown', { upsideDown: this.upsideDown });
      }
    }

    if(this.positionX > 360) {
      this.positionX -= 360;
    } else if(this.positionX < 0) {
      this.positionX += 360;
    }

    if(!(this.positionY >= 46 && this.positionY <= 130) && !(this.positionY >= 220 && this.positionY <= 308)) {
      if(this.upsideDown) {
        if(this.positionX >= 42 && this.positionX <= 130) {
          this.calculatedSide = 3;
        } else if(this.positionX >= 131 && this.positionX <= 223) {
          this.calculatedSide = 2;
        } else if(this.positionX >= 224 && this.positionX <= 314) {
          this.calculatedSide = 5;
        } else {
          this.calculatedSide = 4;
        }
      } else {
        if(this.positionX >= 42 && this.positionX <= 130) {
          this.calculatedSide = 5;
        } else if(this.positionX >= 131 && this.positionX <= 223) {
          this.calculatedSide = 4;
        } else if(this.positionX >= 224 && this.positionX <= 314) {
          this.calculatedSide = 3;
        } else {
          this.calculatedSide = 2;
        }
      }
    } else {
      if(this.positionY >= 46 && this.positionY <= 130) {
        this.calculatedSide = 6;
      }

      if(this.positionY >= 220 && this.positionY <= 308) {
        this.calculatedSide = 1;
      }
    }

    if(this.calculatedSide !== this.currentSide) {
      this.currentSide = this.calculatedSide;
      this.emit('sideChange');
    }

  }

  this.element.style[userPrefix.js + 'Transform'] = 'rotateX(' + this.positionY + 'deg) rotateY(' + this.positionX + 'deg)';

  if(this.positionY != this.previousPositionY || this.positionX != this.previousPositionX) {
    this.previousPositionY = this.positionY;
    this.previousPositionX = this.positionX;

    this.emit('rotate');

  }

}
var viewport = new Viewport({
  element: document.getElementsByClassName('cube')[0],
  fps: 20,
  sensivity: .1,
  sensivityFade: .93,
  speed: 2,
  touchSensivity: 1.5
});

function Cube(data) {
  var self = this;

  this.element = data.element;
  this.sides = this.element.getElementsByClassName('side');

  this.viewport = data.viewport;
  this.viewport.on('rotate', function() {
    self.rotateSides();
  });
  this.viewport.on('upsideDown', function(obj) {
    self.upsideDown(obj);
  });
  this.viewport.on('sideChange', function() {
    self.sideChange();
  });
}
Cube.prototype.rotateSides = function() {
  var viewport = this.viewport;
  if(viewport.positionY > 90 && viewport.positionY < 270) {
    this.sides[0].getElementsByClassName('cube-image')[0].style[userPrefix.js + 'Transform'] = 'rotate(' + (viewport.positionX + viewport.torqueX) + 'deg)';
    this.sides[5].getElementsByClassName('cube-image')[0].style[userPrefix.js + 'Transform'] = 'rotate(' + -(viewport.positionX + 180 + viewport.torqueX) + 'deg)';
  } else {
    this.sides[0].getElementsByClassName('cube-image')[0].style[userPrefix.js + 'Transform'] = 'rotate(' + (viewport.positionX - viewport.torqueX) + 'deg)';
    this.sides[5].getElementsByClassName('cube-image')[0].style[userPrefix.js + 'Transform'] = 'rotate(' + -(viewport.positionX + 180 - viewport.torqueX) + 'deg)';
  }
}
Cube.prototype.upsideDown = function(obj) {

  var deg = (obj.upsideDown == true) ? '180deg' : '0deg';
  var i = 5;

  while(i > 0 && --i) {
    this.sides[i].getElementsByClassName('cube-image')[0].style[userPrefix.js + 'Transform'] = 'rotate(' + deg + ')';
  }

}
Cube.prototype.sideChange = function() {
 for(var i = 0; i < this.sides.length; ++i) {
    this.sides[i].getElementsByClassName('cube-image')[0].className = 'cube-image';   }

  this.sides[this.viewport.currentSide - 1].getElementsByClassName('cube-image')[0].className = 'cube-image active';

}

new Cube({
  viewport: viewport,
  element: document.getElementsByClassName('cube')[0]
});


/*
#cesanta/mongoose, mebjas/html5-qrcode
#jschr/textillate, davatron5000/Lettering.js, animate-css/animate.css, simeydotme/sparticles, lindelof/awesome-web-effect, matteobruni/tsparticles
#MetaMask/metamask-extension, web3/web3.js, wayland-project/weston
#furcan/KioskBoard, hodgef/simple-keyboard

codepen.io/internette/pen/MXWEbq

	//$('#myETH').hide().html('My ETH').fadeIn('slow');  //$("#pinPoint").addClass("disabled");  //$('#myGas').hide().html('').fadeIn('slow'); 
	//document.getElementById("etherScan").onclick = function () {  }; document.getElementById("ocurScan").onclick = function () { }; document.getElementById("locurScan").onclick = function () {  };
	//$('#myURL').hide().html('My OCUR').fadeIn('slow');  //$("#myAdd").hide().html('My Wallet').fadeIn('slow');
	
	//$('#myDomain').hide().html("My OCUR (Local)").fadeIn('slow');
	//$('#myETH').hide().html(badge('eth',ether.toString().substring(0, 7))).fadeIn('slow'); itemPrice = parseInt(ether) / 2; $('#myURL').hide().html(badge('ur',urler.toString())).fadeIn('slow'); //$('#myGas').hide().html(badge('gas',gas)).fadeIn('slow'); 
							 //gasPrice = gas; di = -1;
							 
<!-- <script id="search-js" defer src="https://api.mapbox.com/search-js/v1.0.0-beta.13/web.js"></script> -->

 <a href="#" id="downloader" >Download!</a><img id="downer" />

function snapShot() {	
var canvas = document.getElementById('canvas');     
var video = document.getElementById('video'); canvas.width = video.videoWidth; canvas.height = video.videoHeight; canvas.getContext('2d').drawImage(video, 140, 0, video.videoWidth, video.videoHeight);
var blob = canvas.toBlob(function (blob) {
var anchor = document.createElement('a'); anchor.style.display = 'none'; document.body.appendChild(anchor);
var url = window.URL.createObjectURL(blob); anchor.href = url; anchor.download = 'capture.png'; anchor.click();
window.setTimeout(() => { window.URL.revokeObjectURL(url); document.body.removeChild(anchor); }, 100); }, 'image/png'); }

			 var keys = ['red','orange','yellow','green','blue','purple','tan','brown','white','black','gray'];
var images = [];
function deferLoad() { 
	//res/img/key/purple.png
	for (var a = 0; a < keys.length; a++) {
		//var tmp = new Image().src = 'https://1684282679.rsc.cdn77.org/res/img/key/'+keys[a]+'.png';
		//images.push(tmp);
	}
	 }
	 		//var xhr = new XMLHttpRequest();
		//xhr.open('GET', 'https://res.boxb.io/res/img/key/'+keys[a]+'.png');
		//xhr.send(''); //same for css
		//new Image().src = 'https://ocur.io/res/img/logo.png';
		
        				//$('#myDomain').hide().html(badge('locur',localAmount)).fadeIn('slow');
				//document.getElementById("etherScan").onclick = function () { openInNewTab('https://etherscan.io/address/'+user.address); };
				//document.getElementById("ocurScan").onclick = function () { showDoc('ocur'); };
				//document.getElementById("locurScan").onclick = function () { $('#modal3').modal('open'); $("#locur").html(localAmount);  };
				
				
				//web3 = new Web3(window.ethereum); //await account();
				
function saveImage() { var canvas = document.getElementById('canvas');      var video = document.getElementById('video');
canvas.width = video.videoWidth; canvas.height = video.videoHeight; canvas.getContext('2d').drawImage(video, 140, 0, video.videoWidth, video.videoHeight);
var blob = canvas.toBlob(function (blob) {
var anchor = document.createElement('a'); anchor.style.display = 'none'; document.body.appendChild(anchor);
var url = window.URL.createObjectURL(blob); anchor.href = url; anchor.download = 'capture.png'; anchor.click();
window.setTimeout(() => { window.URL.revokeObjectURL(url); document.body.removeChild(anchor); }, 100); }, 'image/png'); }

async function purchase(amount) { var totalGas = gasPrice * 10000000000; var transactionParameters = {
  		nonce: '0x00', // ignored by MetaMask
  		gasPrice: totalGas.toString(16), //'0x6B1A22F800', //'0x09184e72a000', //gasPrice.toString(16), // customizable by user during MetaMask confirmation.
		gas: '0x2710', // customizable by user during MetaMask confirmation.
		to: '0x8a83fbbacb82030ea17179c0403b04e7bce7ba10', // Required except during contract publications.
		from: user.address, // must match user's active address.
		value: amount.toString(16), //itemPrice.toString(16), //'0x00', // Only required to send ether to the recipient from the initiating external account.
		data: '0x7f7465737432000000000000000000000000000000000000000000000000000000600057', // Optional, but used for defining smart contract creation and interaction.
		chainId: '0x3', }; var txHash = await ethereum.request({ method: 'eth_sendTransaction', params: [transactionParameters], }); }
    
function pullTree(area, ref) { var tmp = new Profile(); 
	$.get('tree/' + area + '/' + ref).done(function(data) { var fields = data.split('|');  obj.name = fields[0]; obj.icon = fields[1]; obj.front = fields[2]; obj.back = fields[3]; obj.coord = fields[4]; obj.content = fields[5]; obj.shape = fields[6];  return tmp; 
		}).fail(function(jqXHR, textStatus, errorThrown) { setOwnerDefault(personal);  return tmp; });  }

*/
</script>

<style>
	#deeder span { margin:2px; } .action-menu { width:140px; display:flex!important; justify-content:space-between; }
mapbox-search-listbox > div:first-child > div:nth-of-type(2) { max-width:75%!important;  min-width:0; }  mapbox-search-listbox > div:first-child > div:nth-of-type(2) > div:last-child { display:none; }
@keyframes fly-ball {100% {transform: translateX(1000px) ;}}@keyframes anim-walk {100% {transform: translateX(2000px) ;}}@keyframes fall {100% {transform: translateY(1500px) ;}}.quick {background-color: beige;border:1px solid whitesmoke;padding: 12px;border-radius: 50%;margin: 12px;width: 24px;height: 24px;display: flex;justify-content: center;align-items: center;}.quick:hover {border:1px solid darkred;opacity:0.75;}.quicker {background-color: darkseagreen!important;border:1px solid green!important;}.quickerr {background-color: indianred!important;border:1px solid darkred!important;}.quickery {background-color: goldenrod!important;border:1px solid darkgoldenrod!important;}
.quickerg {background-color: darkseagreen!important;border:1px solid darkgreen!important;}.quickerb {background-color: cadetblue!important;border:1px solid blue!important;}.quickg {background-color: beige;border:1px solid whitesmoke;padding: 12px;border-radius: 50%;margin: 12px;width: 24px;height: 24px;display: flex;justify-content: center;align-items: center;}.quickg:hover {border:1px solid darkgreen;opacity:0.75;}.quickb {background-color: beige;border:1px solid whitesmoke;padding: 12px;border-radius: 50%;margin: 12px;width: 24px;height: 24px;display: flex;justify-content: center;align-items: center;}.quickb:hover {border:1px solid blue;opacity:0.75;}.quickx {background-color: beige;border:1px solid whitesmoke;padding: 12px;border-radius: 50%;margin: 12px;width: 36px;height: 36px;display: flex;justify-content: center;align-items: center;}.quickx:hover {border:1px solid green;opacity:0.75;}.quicky {background-color: beige;border:1px solid whitesmoke;padding: 12px;border-radius: 50%;margin: 12px;width: 24px;height: 24px;display: flex;justify-content: center;align-items: center;}.quicky:hover {border:1px solid darkgoldenrod;opacity:0.75;}.extra {transition: 0.2s;opacity: 0;background-color: yellowgreen;border-radius: 16px;color:white;font-weight:bold;transform: rotate(0deg)!important;padding-left: 8px;padding-right: 8px;cursor: pointer;border: 1px solid grey;height: 48px;display: flex;align-items: center;}.extra:hover {background-color:forestgreen;border: 1px solid ghostwhite;}.added {opacity: 1!important;}.removed {display:none;}.over-icon {line-height:36px!important;}.card-background {background: lightgray!important;}.slider {width: 100%;height: 100vh;}.slider .items-group {width: 100%;height: 100%;position: relative;}.slider .items-group .item {top: 0px;left: 0px;opacity: 0;width: 100%;height: 100%;display: flex;overflow: hidden;transition: 0.5s;visibility: hidden;position: relative;padding: 50px 20px;position: absolute;align-items: center;justify-content: center;box-sizing: border-box;}.slider .items-group .item:hover .bg {opacity: 0.2;}.slider .items-group .item:hover .block {box-shadow: 0px 0px 50px #333;}.slider .items-group .item.active {opacity: 1;visibility: visible;}.slider .items-group .item .bg {top: 0px;left: 0px;opacity: 1;z-index: -1;width: 100%;height: 100%;transition: 0.5s;position: absolute;transform: scale(1.03);background-size: cover;background-position: center;background-attachment: fixed;}.slider .items-group .item .blur {top: 0px;left: 0px;z-index: -1;width: 100%;height: 100%;transition: 0.5s;filter: blur(5px);position: absolute;transform: scale(1.03);background-size: cover;background-position: center;background-attachment: fixed;}.slider .items-group .item .block {width: 100%;height: 100%;color: #fff;transition: box-shadow 0.5s;max-width: 300px;overflow: hidden;max-height: 450px;border-radius: 10px;transform: scale(1.03);box-sizing: border-box;background-size: cover;background-position: center;background-attachment: fixed;box-shadow: none;}.slider .items-group .item .block .circleLight {top: 0px;left: 0px;opacity: 0;content: &#39;&#39;;width: 100%;height: 100%;display: block;transition: 0.5s;position: absolute;border-radius: 10px;background: radial-gradient(circle at 80px 40px, #fff, transparent);}.slider .items-group .item .block .text {width: 100%;height: 100%;display: flex;text-align: center;flex-direction: column;justify-content: center;background-position: center;background-attachment: fixed;}.slider .items-group .item .block h2 {font-family: &#39;Oswald&#39;, sans-serif;font-size: 130px;margin-bottom: 0px;}.slider .items-group .item .block p {font-family: &#39;Open Sans&#39;, sans-serif;font-size: 15px;}.slider .items-group .item .block:hover {box-shadow: 0px 0px 70px #111;}.slider .items-group .item .block:hover .circleLight {opacity: 0.4;}.slider .navigations {bottom: 36px;width: 100%;position: absolute;}.slider .navigations .dots {height: 50px;text-align: center;}.slider .navigations .dots li {cursor: pointer;transition: 0.3s;background: #fff;border-radius: 50%;display: inline-block;vertical-align: middle;}.slider .navigations .dots li + li {margin-left: 10px;}.slider .navigations .dots li:hover {filter: blur(2px);}.slider .navigations .dots li.active {width: 15px;height: 15px;}.slider .navigations .dots li.active:hover {filter: blur(0px);}html {height:100%;}main {flex: 1 0 auto;}body {height:100%;display: flex;flex-direction: column;-webkit-tap-highlight-color: transparent;margin: 0;top: 0;left: 0;overflow-x: hidden;overflow-y: hidden;padding: 0 0 0 0;font-family: Arial, Helvetica, sans-serif;}.hidden {display:none!important;height: 0;padding: 0!important;}.disappear {visibility: hidden;}.load {opacity: 0;}.gone {width:0;height:0;z-index:-400;position:absolute;top:-9999;left:-9999;}.fade {-webkit-animation-name: fade;-webkit-animation-duration: 1.5s;animation-name: fade;animation-duration: 1.5s;}@-webkit-keyframes fade {from {opacity: .4}to {opacity: 1}}@keyframes fade {from {opacity: .4}to {opacity: 1}}img {-khtml-user-select: none;-o-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}span {-khtml-user-select: none;-o-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}div {-khtml-user-select: none;-o-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}a {cursor:pointer;}a:focus {outline: 0;}*::-webkit-scrollbar, *::-webkit-scrollbar-thumb {width: 0px!important;border-radius: 1px;background-clip: padding-box;border: 10px solid transparent;height: 1px;-webkit-box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.12), 0 1px 5px 0 rgba(0,0,0,0.2);box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.12), 0 1px 5px 0 rgba(0,0,0,0.2);}*::-webkit-scrollbar-thumb {box-shadow: inset 0 0 0 10px;}body {scrollbar-width: none!important;}#menu-logo {opacity:1;transition: opacity .8s linear;}#menu-logo:hover {opacity:0.5;}.stamp-image {margin-left: 64px;width:64px;height:64px;}.stamp-image:hover {opacity:0.5;cursor: pointer;}nav ul a {display: flex!important;align-items: center;width:100%;}.badge {margin-right: 12;border-radius: 12px;color: white!important;padding-right: 12px!important;padding-left: 12px!important;padding-bottom: 10px!important;box-shadow: black 0px 0px 2px!important;height: 24px!important;}.content div, .content span {transition:opacity 0.2s;-webkit-transition: opacity 0.2;}.hide-item {opacity: 0;}.input-field i, .input-field span, .input-field input, .input-field {cursor:pointer!important;}.input-field label {cursor:pointer!important;color:black!important;}.select-dropdown li img {width: 32px;height: 32px;float: right;margin: auto;bottom: 0;top: 0;margin-top: 12px;right: 0;margin-right: 12px;}.select-wrapper {width:45%;max-width:215px;}.hiddenfile {width: 0px;height: 0px;overflow: hidden;}.screen-hide {display:none;}.mobile-hide {margin-right: 8px;}.media-menu {color:darkslategrey;}.mobile-show {display:none;}

@media screen and (max-width: 999px) { #home { height:102%!important; } .mobile-stat { flex-direction:column; }
	#tool { padding-top:24px; margin-top:54px!important; } #gps { width:100px!important; } #dropdown-tool {width:100px!important; } #dropdown-track {width:100px!important; }
	.mobile-column {flex-direction:column!important;}.edit-device {margin-right:8px;margin-left:8px;}.mobile-rearrange{flex-direction:column;align-items:center;height:240px!important;}.gear-image {top:0px!important;}.mobile-width {width:80px!important;}.urland {margin:0px!important;}.liner {margin:0px!important;}#dropdown-template {width:auto!important;}#dropdown-file {width:auto!important;}#edit-back {width:auto!important;}.mobile-hide {display:none;}.mobile-show {display:flex!important;}
	.postchart { max-width:80%; } .loner { display:none; } #searcher { top:56px!important; } #emojier { margin-top:78px!important; } .toker { width:48px!important; justify-content:center!important; } .holder { width:220px!important; }
	#scanner { width:auto!important; } #mapper { width:auto!important; } #dcard { flex-direction:column; } #dpic { width:75%!important; }
	.edit-hide {display:flex!important;}.screen-hide {display:block;}.card {width:101%!important;}#setting-wallet {width:60px;}}

@media screen and (max-height: 450px) {.sidenav {padding-top: 15px;}.sidenav a {font-size: 18px;}}
@media screen and (max-width: 800px) {}
@media print {.breaker{break-after:always;}}
@media print {#quick-button {display:none!important;}}code {white-space: break-spaces;}@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@700&display=swap');#pad:focus {outline:none;}::backdrop{background-color: white;}div.active {opacity: 1;height: auto;}.form-disable {pointer-events: none;opacity:0.5;}.btn {overflow: hidden;}.btn:hover:before {opacity:1;}.btn:before {content: '';opacity: 0.5;background-color: rgba(109, 109, 109, 0.6);position: absolute;width: 100%;height: 100%;left: 0;top: 0;transition: opacity .2s;z-index: -1;}.markre {border: 3px solid ghostwhite;background-size: cover;width: 36px;height: 36px;cursor: pointer;transition: opacity 0.2s, border-radius 0.2s!important;}.mapboxgl-popup {max-width: 200px;}*::-webkit-scrollbar-track {-webkit-box-shadow: inset 0 0 0px rgba(0, 0, 0, 0.0);background-color: transparent;}*::-webkit-scrollbar {width: 6px;background-color: transparent;}*::-webkit-scrollbar-thumb {background-color: #000000;}@media print {body, .print-help {display: block !important;position: relative !important;width: auto !important;height: auto !important;overflow: visible !important;margin-left: 0 !important;}}.image {position: absolute;width: 48px;height: 48px;opacity: 0.95;transition: opacity .2s;}.image:hover {opacity:0.75;}.image-rotate {-webkit-animation:spin 8s linear infinite;-moz-animation:spin 8s linear infinite;animation:spin 8s linear infinite;}@-moz-keyframes spin {100% {-moz-transform: rotate(360deg);}}@-webkit-keyframes spin {100% {-webkit-transform: rotate(360deg);}}@keyframes spin {100% {-webkit-transform: rotate(360deg);transform:rotate(360deg);}}.image-rotate-back {-webkit-animation:spin-back 8s linear infinite;-moz-animation:spin-back 8s linear infinite;animation:spin-back 8s linear infinite;}@-moz-keyframes spin-back {100% {-moz-transform: rotate(-360deg);}}@-webkit-keyframes spin-back {100% {-webkit-transform: rotate(-360deg);}}@keyframes spin-back {100% {-webkit-transform: rotate(=360deg);transform:rotate(-360deg);}}.select-wrapper {width:100%!important;}.positioning-context {width:100%;height:100%;background-color:#CCCCCC;display:inline-block;float:left;position:relative;}.positioning-context img {max-width: 100%;max-height:100%;margin: auto;position:absolute;top:0;left:0;right:0;bottom:0;}.open {cursor:default;}#domain-info {padding:0;}.desk-menu {height:103%;}.desk-link:hover {height:103%;border-bottom: solid 2px darkslategrey!important;}nav ul a {color:darkslategray;}nav ul a:hover {color:darkslategrey;background-color: lightgrey!important;}dropdown-content li>a>i {margin:0 12px 0 0;}.dropdown-content li>a, .dropdown-content li>span {color:darkslategrey!important;}#wallet-icon {color:darkslategrey;}nav ul a:hover #wallet-area:hover {background-color: green!important;}#setting-wallet:hover {background-color: lightgrey!important;color:black!important;}.tabs.deed .tab a{color:black;}.tabs.deed .tab a:hover {background-color:darkred;color:white;}.tabs.deed .tab a.active {background-color:indianred;color:ghostwhite;}.tabs.deed .indicator {background-color:indianred;}.tabs.deed .tab a:focus.active {color:white;background-color: indianred;}#doc li a {background-color:ghostwhite;}.hide-scrollbar {overflow: auto;-ms-overflow-style: none;scrollbar-width: none;}.svg{font: bold 24px Century Gothic, Arial;width : 100%;height : 120px;}text{fill: cornflowerblue;stroke: royalblue;stroke-width: .5px;stroke-linejoin : round;animation: 2s pulsate infinite;}.collection a.collection-item {color:black!important;}.collected:hover {background-color:indianred;color:ghostwhite;}@keyframes pulsate {50%{stroke-width:1px }}[type="checkbox"]:checked + span:not(.lever)::before {border-right: 2px solid black!important;border-bottom: 2px solid black!important;}.mapboxgl-popup-close-button {display:none!important;}.flip-card {background-color: transparent;width: 100px;height: 100px;border-radius:12px;perspective: 1000px;}.flip-card-inner {position: relative;width: 100%;height: 100%;text-align: center;transition: transform 0.8s, opacity 0.2s!important;transform-style: preserve-3d;}.flip-card-front, .flip-card-back {position: absolute;width: 100%;height: 100%;transition: transform 0.8s, opacity 0.2s!important;transform-style: preserve-3d;-webkit-backface-visibility:hidden;backface-visibility: hidden;}.flip-card-front {color: black;display: flex;align-items: center;justify-content: center;border-radius: 12px;border: solid 2px darkseagreen;}.backer {-webkit-backface-visibility: hidden;backface-visibility: hidden;}.flip-card-back {background-color: ghostwhite;color: white;display: flex;align-items: center;justify-content: center;border-radius: 12px;border: solid 1px gainsboro;}.rotate {-webkit-transform: rotateX(180deg) rotateY(180deg);transform: rotateX(180deg) rotateY(180deg);}.flipper {transform: scaleX(-1), scaleY(-1);}[type="checkbox"].filled-in:checked+span:not(.lever):after {border: 2px solid steelblue!important;background-color: steelblue!important;}.video-hold{margin: auto;height: 100px;max-width:95%;overflow: hidden;clip-path: 0 0;transform: translatez(0);}.video-clip {height:100%;width:100%;object-fit:cover;}video::-internal-media-controls-overlay-cast-button {display: none;}.scene {width: 1000px;display: flex;justify-content: space-between;perspective: 800px;}.scene .card {position: relative;width: 240px;height: 300px;color: white;cursor: pointer;transition: 1s ease-in-out;transform-style: preserve-3d;}.scene .card:hover {transform: rotateY(0.5turn);}.scene .card .card__face {position: absolute;top: 0;left: 0;width: 100%;height: 100%;backface-visibility: hidden;transition: 1s ease-in-out;-webkit-box-reflect: below 0 linear-gradient(transparent, transparent, rgba(0, 0, 0, 0.4));}.scene .card .card__face img {width: 240px;height: 300px;object-fit: cover;}.scene .card .card__face--back {transform: rotateY(0.5turn);}h1 {font-weight: 700;font-size: 64px;margin: 20px 0 0 0;padding: 0 20px;}p {font-size: 16px;padding: 0 20px;}em {font-style: normal;color: #ffc400;}a {font-style: normal;text-decoration: none;cursor: pointer;}.sub {margin: 0;}

.setter {cursor: pointer;bottom: 10px;position: relative;display: inline-block;font-size: 20px;line-height: 60px;font-weight: bold;transform: rotate(45deg);transition: all 0.7s cubic-bezier(0.4, 0, 0.2, 1);}
.expand .button {transform: rotate(630deg);transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);}
.containerx {border: solid 1px lightgrey;margin: auto;top: 12px;border-radius: 50%;height: 36px;text-align: center;width:36px;max-width:800px;box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);overflow: hidden;transition: all 0.2s 0.45s, border 0s, height 0.2s cubic-bezier(0.4, 0, 0.2, 1) 0.25s, max-width 0.2s cubic-bezier(0.4, 0, 0.2, 1) 0.35s, width 0.2s cubic-bezier(0.4, 0, 0.2, 1) 0.35s;}.containerx.yellowx {background: rgb(231,188,120);background: linear-gradient(153deg, rgba(231,188,120,1) 35%, rgba(173,149,103,1) 100%);}
.containerx.whitex { background: rgb(94,153,209); background: linear-gradient(167deg, rgba(94,153,209,1) 0%, rgba(127,179,227,1) 35%, rgba(119,177,218,1) 100%);}
/*.shadow { box-shadow:none!important; }*/



.whitex.expand { height: 580px; } .redx.expand { height: 610px; }

.containerx.redx {background: rgb(245,141,141);background: linear-gradient(153deg, rgba(245,141,141,1) 35%, rgba(212,110,94,1) 100%);}.greenx {background: rgb(130,219,130);background: linear-gradient(153deg, rgba(130,219,130,1) 35%, rgba(103,173,109,1) 100%);}.containerx.bluex {background: rgb(113,149,207);background: linear-gradient(153deg, rgba(113,149,207,1) 35%, rgba(74,90,119,1) 100%);}

.redx.expand:hover {border:solid 1px transparent;}.greenx.expand:hover {border:solid 1px transparent;}.bluex:hover {border:solid 1px transparent;}.yellowx.expand:hover {border:solid 1px transparent;} .whitex.expand:hover {border:solid 1px transparent;} 
.redx:hover {border:solid 1px indianred;}.greenx:hover {border:solid 2px darkgreen;}.bluex:hover {border:solid 2px darkblue;}.yellowx:hover {border:solid 1px darkgoldenrod;}.whitex:hover {border:solid 1px darksteelblue;}

/*.whitex.expand {border:solid 2px lightsteelblue!important;} .redx.expand {border:solid 2px indianred!important;}.bluex.expand {border:solid 2px darkblue;}*/

.containerx.expand {box-shadow: 0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.17);border-radius: 0px 0px 8px 8px;width: 80%;max-width:800px;padding: 0;transition: all 0.2s, max-width 0.2s cubic-bezier(0.4, 0, 0.2, 1) 0.1s, height 0.3s ease 0.25s;}.containerx.expand.golden {height:560px!important;border-radius: 0px 0px 8px 8px;}.contentx {transform: translateY(100%);width: 100%;height: 100%;opacity: 0;text-align: left;transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.2s 0.2s;}

.expand .contentx {transform: translateY(0px);opacity: 1;transition: transform 0.7s cubic-bezier(0.4, 0, 0.2, 1) 0.05s, opacity 0s;}.contentx .head {padding: 0 0 20px 0;}.contentx .body {color: #000;color: rgba(0, 0, 0, 0.87);background-color: #fff;width: 100%;height: 100%;box-sizing: border-box;}.action-bar {padding-left: 15px;border-top: 1px solid #e0e0e0;width: 100%;}.action-bar a {text-transform: uppercase;line-height: 52px;color: #ffc400;}.badge-stamp {display: flex!important;align-items: center;justify-content: center;padding-top: 8px!important;}.dropdown-content {max-height:180px;}.select-wrapper {max-width:200px!important;} .popupContainer {z-index:1;}mapbox-search-listbox {z-index:1111!important;}mapbox-search-listbox:first-child:nth-child(2):last-child {display:none!important;}.card-deck {width: 100%;position: absolute;left: 0;top: 0;z-index: 2;}.text {opacity:0.85!important;}.enemy {transform: scaleX(-1);filter: hue-rotate(180deg);}.scrolling-image-container {overflow: hidden;}.scrolling-image1 {background: url('res/img/dralun/l1_background.png') repeat-x;width: 7680px;background-size: contain;background-repeat: repeat-x;animation: slide 10s linear infinite;}.scrolling-image2 {background: url('res/img/dralun/l2_hills.png') repeat-x;width: 7680px;background-size: contain;background-repeat: repeat-x;animation: slide2 10s linear infinite;}.scrolling-image3 {background: url('res/img/dralun/l3_clouds.png') repeat-x;width: 7680px;background-size: contain;background-repeat: repeat-x;animation: slide 9s linear infinite;}.scrolling-image4 {background: url('res/img/dralun/l4_ruin.png') repeat-x;width: 7680px;background-size: contain;background-repeat: repeat-x;animation: slide2 9s linear infinite;}.scrolling-image5 {background: url('res/img/dralun/l5_ground.png') repeat-x;width: 7680px;background-size: contain;background-repeat: repeat-x;animation: slide 8s linear infinite;}.scrolling-image6 {background: url('res/img/dralun/l6_houses.png') repeat-x;width: 7680px;background-size: contain;background-repeat: repeat-x;animation: slide2 8s linear infinite;}.scrolling-image7 {background: url('res/img/dralun/l7_details.png') repeat-x;width: 7680px;background-size: contain;background-repeat: repeat-x;animation: slide 7s linear infinite;}@keyframes slide {0% {transform: translate(0);}100% {transform: translate(-3840px);}}@keyframes slide2 {0% {transform: translate(0);}100% {transform: translate(3840px);}}.parax {position:absolute;bottom:0;left:0;height:240px;}.scrolling-image {}.game-image {-webkit-transition: opacity 0.01s ease-out;-moz-transition: opacity 0.01s ease-out;-o-transition: opacity 0.01s ease-out;transition: opacity 0.01s ease-out;position:absolute;}.watercolor-effect {background-image: url(res/img/dralun/gif/jungle.gif);background-size: cover;background-position: center;}@supports (filter: blur(2px)) and (mix-blend-mode: multiply) {.watercolor-effect {position: relative;overflow: hidden;}.watercolor-effect:before, .watercolor-effect:after {display: block;content: "";position: absolute;top: 0;left: 0;right: 0;bottom: 0;background-size: cover;}.watercolor-effect:before {background-image: url(repo/jungle.gif), url(repo/jungle.gif);background-position: calc(50% - 1px) calc(50% - 1px), calc(50% + 1px) calc(50% + 1px);filter: brightness(2) invert(1) grayscale(1);box-shadow: inset 0 0 0 1px black;}.watercolor-effect:after {background-image: url(repo/jungle.gif);background-position: center;filter: brightness(0.9) blur(1.1px) contrast(1.8);}}.liner:hover {color: darkgoldenrod;}.linerb:hover {color: cadetblue;}.news {-webkit-transition: opacity 1s ease-in;-moz-transition: opacity 1s ease-in;-o-transition: opacity 1s ease-in;-ms-transition: opacity 1s ease-in;transition: opacity 1s ease-in;}@import url("https://fonts.googleapis.com/css?family=BenchNine:300,400");*, *:after, *:before {box-sizing: border-box;}html {background: #222;overflow: hidden;font-family: 'BenchNine', sans-serif;}.clock-container {z-index:9;position: absolute;transform: scale(0.5);width: 480px;height: 480px;border-radius: 50%;overflow: hidden;background: #111;box-shadow: 0 0 25px 3px #000, 0 0 10px rgba(0, 0, 0, 0.8) inset;top:-24px;right:48px;}.clock-container .spear {position: absolute;width: 220px;height: 1px;background: red;left: 50%;top: 50%;transform: translateY(-50%);z-index: 200;box-shadow: 0 3px 3px rgba(0, 0, 0, 0.4);}.clock-container .spear:after {content: '';position: absolute;border: 7px solid transparent;border-right-color: red;right: 0;top: -7px;}.clock-container .spear:before {content: '';position: absolute;border: 7px solid transparent;border-left-color: red;left: 2px;top: -7px;}.clock-container .clock-analog {width: 440px;height: 440px;border-radius: 50%;margin: 20px;background: #fff;z-index: 5;position: relative;box-shadow: 0 0 25px 3px #000 inset;}.clock-container .clock-analog .second, .clock-container .clock-analog .minute, .clock-container .clock-analog .hour {width: 20px;height: 20px;position: absolute;left: 0;top: 0;right: 0;bottom: 0;margin: auto;z-index: 100;transition: 0.2s 0.2s ease-in;transform: rotate(90deg);}.clock-container .clock-analog .second span, .clock-container .clock-analog .minute span, .clock-container .clock-analog .hour span {position: absolute;width: 20px;height: 20px;line-height: 20px;text-align: center;transform-origin: 50%;z-index: 5;}.clock-container .clock-analog .second span:after, .clock-container .clock-analog .minute span:after, .clock-container .clock-analog .hour span:after {content: '';width: 4px;height: 1px;background: #000;position: absolute;left: 130%;top: -10%;opacity: 0.3;}.clock-container .clock-analog .second span:nth-child(5n + 2):after, .clock-container .clock-analog .minute span:nth-child(5n + 2):after, .clock-container .clock-analog .hour span:nth-child(5n + 2):after {width: 7px;opacity: 1;left: 110%;}.clock-container .clock-analog .hour {z-index: 150;font-size: 32px;font-weight: 400;}.clock-container .clock-analog .hour span:after {opacity: 1;width: 4px;height: 1px;color: #666;transform: translate(5px, 12px);}.clock-container .clock-analog .hour:after {content: '';background: #fff;position: absolute;left: 50%;top: 50%;transform: translate(-50%, -50%);width: 250px;height: 250px;border-radius: 50%;box-shadow: 0 0 15px 2px rgba(0, 0, 0, 0.6) inset;}.clock-container .clock-analog .minute {color: #fff;font-size: 16px;}.clock-container .clock-analog .minute span:after {background: #fff;transform: translate(10px, -7px) rotate(-9deg);}.clock-container .clock-analog .minute:after {content: '';background: #333;position: absolute;left: 50%;top: 50%;transform: translate(-50%, -50%);width: 350px;height: 350px;border-radius: 50%;box-shadow: 0 0 25px 2px #000 inset;}.clock-container .clock-analog .second {font-size: 12px;}.clock-container .clock-analog .second span:after {transform: translate(5px, -10px);}.clock-container .clock-analog .dail {width: 20px;height: 20px;position: absolute;left: 0;top: 0;right: 0;bottom: 0;margin: auto;z-index: 100;}.clock-container .clock-analog .dail span {width: 20px;height: 20px;line-height: 20px;transform-origin: 50%;text-indent: 1000px;overflow: hidden;position: absolute;}.clock-container .clock-analog .dail span:after {content: '';position: absolute;width: 4px;height: 4px;border-radius: 50%;background-color: #7d7e7d;*zoom: 1;filter: progid:DXImageTransform.Microsoft.gradient(gradientType=1, startColorstr='#FF7D7E7D', endColorstr='#FF0E0E0E');background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4gPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJncmFkIiBncmFkaWVudFVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgeDE9IjAuMCIgeTE9IjAuNSIgeDI9IjEuMCIgeTI9IjAuNSI+PHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzdkN2U3ZCIvPjxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iIzBlMGUwZSIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JhZCkiIC8+PC9zdmc+IA==');background-size: 100%;background-image: linear-gradient(to right, #7d7e7d 0%, #0e0e0e 100%);left: 50%;top: 50%;transform: translate(-50%, -50%);}.clock-container .clock-analog .dail span:nth-child(5n + 1):after {width: 8px;}.clock-container .clock-digital {position: absolute;z-index: 200;height: 444px;width: 224px;background: #090909;left: 18px;top: 18px;border-radius: 220px 0 0 220px;box-shadow: 5px 0 15px #000;}.clock-container .clock-digital:after {content: '';position: absolute;border: 15px solid darkgoldenrod;border-right: none;height: 400px;width: 200px;border-radius: 220px 0 0 220px;left: 25px;top: 25px;}.clock-container .clock-digital .time {background: #111;position: absolute;right: 20px;top: 50%;transform: translateY(-50%);color: #fff;border-radius: 50px;font-size: 24px;padding: 2px 20px;box-shadow: 0 0 15px #000 inset;}.clock-container .clock-digital .day {background: #111;position: absolute;right: 20px;bottom: 100px;color: #fff;border-radius: 20px;box-shadow: 0 0 15px #000 inset;padding: 2px 20px;font-size: 16px;}.clock-container .clock-digital .date {background: #111;position: absolute;right: 20px;top: 100px;color: #fff;border-radius: 20px;font-size: 16px;box-shadow: 0 0 10px #000 inset;padding: 2px 20px;}#reader {border-radius:16px;}#reader > video {border-radius:16px;}#qr-shaded-region {border-radius:16px;}.inv {-webkit-filter: invert(1);filter: invert(1);}.mapboxgl-ctrl-top-right {margin-top:24px;}

.postcard-label {color:dimgrey;background-color: ghostwhite;padding: 4px;border-radius: 4px;margin-right:8px;padding-right:8px;}.postcard-head {font-weight:bold;text-align:left;margin:12px;margin-left:10%; margin-right:10%;}.postcard-area {margin-left:10%; margin-right:10%;}.blacker {color:black;font-weight:bold;}.reder {color:red;font-weight:bold;}.tabler {font-weight:bold;}body {background: #1e6128;}

.menu-head { height: 32px;  display: flex;  align-items: center; }


@keyframes sparkling {0%, 100% {transform: scale3d(0, 0, 1);opacity: 0;}25%, 75% {opacity: 1;}50% {transform: scale3d(1, 1, 1);opacity: 0;}}@keyframes flapping-left {0%, 100% {transform: rotateX(-15deg) rotateY(-45deg);}50% {transform: rotateX(-10deg) rotateY(-20deg);}}@keyframes flapping-right {0%, 100% {transform: rotateX(-15deg) rotateY(45deg);}50% {transform: rotateX(-10deg) rotateY(20deg);}}@keyframes flying {0% {transform: rotate(50deg) translateX(0px) rotate(-50deg) scale(0.85);}50% {transform: rotate(180deg) translateX(80px) rotate(-180deg) scale(1);}100% {transform: rotate(360deg) translateX(0px) rotate(-360deg) scale(0.85);}}

#flower {position:relative;top:-50px;width:100%;text-align: right;}#flower i {display: inline-block;width: 200px;height: 150px;background-image: url('res/img/dralun/anim/flower/1.gif');transform: skew(20deg);border-radius: 5% 40% 70%;box-shadow: inset 0px 0px 1px #222;border: 1px solid #333;z-index: 1;-webkit-animation: falling 5s 0s infinite;}#flower i:nth-of-type(2n) {-webkit-animation: falling2 5s 0s infinite;}#flower i:nth-of-type(3n) {-webkit-animation: falling3 5s 0s infinite;}#flower i:before {position: absolute;content: '';top: 117px;right: 9px;height: 27px;width: 32px;transform: rotate(49deg);border-radius: 0% 15% 15% 0%;border-top: 1px solid #222;border-bottom: 1px solid #222;border-left: 0px solid #222;border-right: 1px solid #222;
	
	background-image: url('res/img/dralun/anim/leaf/2.gif');z-index: 1;}#flower i:after {content: '';height: 125px;width: 10px;
		background-image: url('res/img/dralun/anim/flower/3.gif');display: block;transform: rotate(125deg);position: absolute;left: 85px;border-radius:50%;}#flower i:nth-of-type(n) {height:23px;width:30px;}#flower i:nth-of-type(n):before {width:7px;height:5px;top:17px;right:1px;}#flower i:nth-of-type(n):after {width:2px;height:17px;left: 12px;top:0px;}#flower i:nth-of-type(2n+1) {height:11px;width:16px;}#flower i:nth-of-type(2n+1):before {width:4px;height:3px;top:7px;right:0px;}#flower i:nth-of-type(2n+1):after {width:2px;height:6px;left: 5px;top:1px;}#flower i:nth-of-type(3n+2) {height:17px;width:23px;}#flower i:nth-of-type(3n+2):before {height:4px;width:4px;top:12px;right:1px;}#flower i:nth-of-type(3n+2):after {height:10px;width:2px;top:1px;left:8px;}#flower i:nth-of-type(n) {-webkit-animation-delay: 1.9s;}#flower i:nth-of-type(2n) {-webkit-animation-delay: 3.9s;}#flower i:nth-of-type(3n) {-webkit-animation-delay: 2.3s;}#flower i:nth-of-type(4n) {-webkit-animation-delay: 4.4s;}#flower i:nth-of-type(5n) {-webkit-animation-delay: 5s;}#flower i:nth-of-type(6n) {-webkit-animation-delay: 3.5s;}#flower i:nth-of-type(7n) {-webkit-animation-delay: 2.8s;}#flower i:nth-of-type(8n) {-webkit-animation-delay: 1.5s;}#flower i:nth-of-type(9n) {-webkit-animation-delay: 3.3s;}#flower i:nth-of-type(10n) {-webkit-animation-delay: 2.5s;}#flower i:nth-of-type(11n) {-webkit-animation-delay: 1.2s;}#flower i:nth-of-type(12n) {-webkit-animation-delay: 4.1s;}#flower i:nth-of-type(13n) {-webkit-animation-delay: 1s;}#flower i:nth-of-type(14n) {-webkit-animation-delay: 4.7s;}#flower i:nth-of-type(15n) {-webkit-animation-delay: 3s;}#flower i:nth-of-type(n) {
			
			background-image: url('res/img/dralun/anim/leaf/4.gif');}#flower i:nth-of-type(2n+2) {
				background-image: url('res/img/dralun/anim/flower/5.gif');}#flower i:nth-of-type(4n+1) {
					background-image: url('res/img/dralun/anim/leaf/6.gif');}#flower i:nth-of-type(n) {opacity: .7;}#flower i:nth-of-type(3n+1) {opacity: .5;}#leave i:nth-of-type(3n+2) {opacity: .3;}#flower i:nth-of-type(n) {transform: rotate(180deg);}#flower i:nth-of-type(n) {-webkit-animation-timing-function:ease-in-out;}@-webkit-keyframes falling {0% {-webkit-transform: translate3d(300,0,0) rotate(0deg);}100% {-webkit-transform: translate3d(-350px,700px,0) rotate(90deg);opacity: 0;}}@-webkit-keyframes falling3 {0% {-webkit-transform: translate3d(0,0,0) rotate(-20deg);}100% {-webkit-transform: translate3d(-230px,640px,0) rotate(-70deg);opacity: 0;}}@-webkit-keyframes falling2 {0% {-webkit-transform:translate3d(0,0,0) rotate(90deg);}100% {-webkit-transform:translate3d(-400px,680px,0) rotate(0deg);opacity: 0;}}

#leave {position:relative;top:-50px;width:100%;text-align: right;}#leave i {display: inline-block;width: 200px;height: 150px;background-image: url('res/img/dralun/anim/leaf/1.gif');transform: skew(20deg);border-radius: 5% 40% 70%;box-shadow: inset 0px 0px 1px #222;border: 1px solid #333;z-index: 1;-webkit-animation: falling 5s 0s infinite;}#leave i:nth-of-type(2n) {-webkit-animation: falling2 5s 0s infinite;}#leave i:nth-of-type(3n) {-webkit-animation: falling3 5s 0s infinite;}#leave i:before {position: absolute;content: '';top: 117px;right: 9px;height: 27px;width: 32px;transform: rotate(49deg);border-radius: 0% 15% 15% 0%;border-top: 1px solid #222;border-bottom: 1px solid #222;border-left: 0px solid #222;border-right: 1px solid #222;
	
	background-image: url('res/img/dralun/anim/flower/2.gif');z-index: 1;}#leave i:after {content: '';height: 125px;width: 10px;
		background-image: url('res/img/dralun/anim/leaf/3.gif');display: block;transform: rotate(125deg);position: absolute;left: 85px;border-radius:50%;}#leave i:nth-of-type(n) {height:23px;width:30px;}#leave i:nth-of-type(n):before {width:7px;height:5px;top:17px;right:1px;}#leave i:nth-of-type(n):after {width:2px;height:17px;left: 12px;top:0px;}#leave i:nth-of-type(2n+1) {height:11px;width:16px;}#leave i:nth-of-type(2n+1):before {width:4px;height:3px;top:7px;right:0px;}#leave i:nth-of-type(2n+1):after {width:2px;height:6px;left: 5px;top:1px;}#leave i:nth-of-type(3n+2) {height:17px;width:23px;}#leave i:nth-of-type(3n+2):before {height:4px;width:4px;top:12px;right:1px;}#leave i:nth-of-type(3n+2):after {height:10px;width:2px;top:1px;left:8px;}#leave i:nth-of-type(n) {-webkit-animation-delay: 1.9s;}#leave i:nth-of-type(2n) {-webkit-animation-delay: 3.9s;}#leave i:nth-of-type(3n) {-webkit-animation-delay: 2.3s;}#leave i:nth-of-type(4n) {-webkit-animation-delay: 4.4s;}#leave i:nth-of-type(5n) {-webkit-animation-delay: 5s;}#leave i:nth-of-type(6n) {-webkit-animation-delay: 3.5s;}#leave i:nth-of-type(7n) {-webkit-animation-delay: 2.8s;}#leave i:nth-of-type(8n) {-webkit-animation-delay: 1.5s;}#leave i:nth-of-type(9n) {-webkit-animation-delay: 3.3s;}#leave i:nth-of-type(10n) {-webkit-animation-delay: 2.5s;}#leave i:nth-of-type(11n) {-webkit-animation-delay: 1.2s;}#leave i:nth-of-type(12n) {-webkit-animation-delay: 4.1s;}#leave i:nth-of-type(13n) {-webkit-animation-delay: 1s;}#leave i:nth-of-type(14n) {-webkit-animation-delay: 4.7s;}#leave i:nth-of-type(15n) {-webkit-animation-delay: 3s;}#leave i:nth-of-type(n) {
			
			background-image: url('res/img/dralun/anim/flower/4.gif');}#leave i:nth-of-type(2n+2) {
				background-image: url('res/img/dralun/anim/leaf/5.gif');}#leave i:nth-of-type(4n+1) {
					background-image: url('res/img/dralun/anim/flower/6.gif');}#leave i:nth-of-type(n) {opacity: .7;}#leave i:nth-of-type(3n+1) {opacity: .5;}#leave i:nth-of-type(3n+2) {opacity: .3;}#leave i:nth-of-type(n) {transform: rotate(180deg);}#leave i:nth-of-type(n) {-webkit-animation-timing-function:ease-in-out;}@-webkit-keyframes falling {0% {-webkit-transform: translate3d(300,0,0) rotate(0deg);}100% {-webkit-transform: translate3d(-350px,700px,0) rotate(90deg);opacity: 0;}}@-webkit-keyframes falling3 {0% {-webkit-transform: translate3d(0,0,0) rotate(-20deg);}100% {-webkit-transform: translate3d(-230px,640px,0) rotate(-70deg);opacity: 0;}}@-webkit-keyframes falling2 {0% {-webkit-transform:translate3d(0,0,0) rotate(90deg);}100% {-webkit-transform:translate3d(-400px,680px,0) rotate(0deg);opacity: 0;}}

#leaves {position:relative;top:-50px;width:100%;text-align: right;}#leaves i {display: inline-block;width: 200px;height: 150px;background: linear-gradient(to bottom right, #309900, #005600);transform: skew(20deg);border-radius: 5% 40% 70%;box-shadow: inset 0px 0px 1px #222;border: 1px solid #333;z-index: 1;-webkit-animation: falling 5s 0s infinite;}#leaves i:nth-of-type(2n) {-webkit-animation: falling2 5s 0s infinite;}#leaves i:nth-of-type(3n) {-webkit-animation: falling3 5s 0s infinite;}#leaves i:before {position: absolute;content: '';top: 117px;right: 9px;height: 27px;width: 32px;transform: rotate(49deg);border-radius: 0% 15% 15% 0%;border-top: 1px solid #222;border-bottom: 1px solid #222;border-left: 0px solid #222;border-right: 1px solid #222;background: linear-gradient(to right, rgba(0,100,0,1), #005600);z-index: 1;}#leaves i:after {content: '';height: 125px;width: 10px;background: linear-gradient(to right, rgba(0,0,0,.15), rgba(0,0,0,0));display: block;transform: rotate(125deg);position: absolute;left: 85px;border-radius:50%;}#leaves i:nth-of-type(n) {height:23px;width:30px;}#leaves i:nth-of-type(n):before {width:7px;height:5px;top:17px;right:1px;}#leaves i:nth-of-type(n):after {width:2px;height:17px;left: 12px;top:0px;}#leaves i:nth-of-type(2n+1) {height:11px;width:16px;}#leaves i:nth-of-type(2n+1):before {width:4px;height:3px;top:7px;right:0px;}#leaves i:nth-of-type(2n+1):after {width:2px;height:6px;left: 5px;top:1px;}#leaves i:nth-of-type(3n+2) {height:17px;width:23px;}#leaves i:nth-of-type(3n+2):before {height:4px;width:4px;top:12px;right:1px;}#leaves i:nth-of-type(3n+2):after {height:10px;width:2px;top:1px;left:8px;}#leaves i:nth-of-type(n) {-webkit-animation-delay: 1.9s;}#leaves i:nth-of-type(2n) {-webkit-animation-delay: 3.9s;}#leaves i:nth-of-type(3n) {-webkit-animation-delay: 2.3s;}#leaves i:nth-of-type(4n) {-webkit-animation-delay: 4.4s;}#leaves i:nth-of-type(5n) {-webkit-animation-delay: 5s;}#leaves i:nth-of-type(6n) {-webkit-animation-delay: 3.5s;}#leaves i:nth-of-type(7n) {-webkit-animation-delay: 2.8s;}#leaves i:nth-of-type(8n) {-webkit-animation-delay: 1.5s;}#leaves i:nth-of-type(9n) {-webkit-animation-delay: 3.3s;}#leaves i:nth-of-type(10n) {-webkit-animation-delay: 2.5s;}#leaves i:nth-of-type(11n) {-webkit-animation-delay: 1.2s;}#leaves i:nth-of-type(12n) {-webkit-animation-delay: 4.1s;}#leaves i:nth-of-type(13n) {-webkit-animation-delay: 1s;}#leaves i:nth-of-type(14n) {-webkit-animation-delay: 4.7s;}#leaves i:nth-of-type(15n) {-webkit-animation-delay: 3s;}#leaves i:nth-of-type(n) {background: linear-gradient(to bottom right, #309900, #005600);}#leaves i:nth-of-type(2n+2) {background: linear-gradient(to bottom right, #5e9900, #2b5600);}#leaves i:nth-of-type(4n+1) {background: linear-gradient(to bottom right, #990, #564500);}#leaves i:nth-of-type(n) {opacity: .7;}#leaves i:nth-of-type(3n+1) {opacity: .5;}#leaves i:nth-of-type(3n+2) {opacity: .3;}#leaves i:nth-of-type(n) {transform: rotate(180deg);}#leaves i:nth-of-type(n) {-webkit-animation-timing-function:ease-in-out;}@-webkit-keyframes falling {0% {-webkit-transform: translate3d(300,0,0) rotate(0deg);}100% {-webkit-transform: translate3d(-350px,700px,0) rotate(90deg);opacity: 0;}}@-webkit-keyframes falling3 {0% {-webkit-transform: translate3d(0,0,0) rotate(-20deg);}100% {-webkit-transform: translate3d(-230px,640px,0) rotate(-70deg);opacity: 0;}}@-webkit-keyframes falling2 {0% {-webkit-transform:translate3d(0,0,0) rotate(90deg);}100% {-webkit-transform:translate3d(-400px,680px,0) rotate(0deg);opacity: 0;}}

/*.sparkle {background:#afdbff!important;}*/

.fader { -webkit-transition: opacity 0.5s ease-in-out;
  -moz-transition: opacity 0.5s ease-in-out;
  -ms-transition: opacity 0.5s ease-in-out;
  -o-transition: opacity 0.5s ease-in-out;
  transition: opacity 0.5s ease-in-out; }
.namer { opacity:1; position:absolute; cursor:pointer; } .imager { opacity:0; cursor:pointer; }

.edger {border-left:solid 4px white!important; -webkit-transition: .3s ease-out;
    transition: .3s ease-out; }
.edger:hover {border-left:solid 4px goldenrod!important;}

.booker { border-left:solid 4px white!important; -webkit-transition: .3s ease-out;
    transition: .3s ease-out; }
.booker:hover { border-left:solid 4px indianred!important; }

.helper { border-left:solid 4px white!important; -webkit-transition: .3s ease-out;
    transition: .3s ease-out; }
.helper:hover { border-left:solid 4px lightsteelblue!important; }


.waves-effect.waves-brown .waves-ripple {
   /* The alpha value allows the text and background color
   of the button to still show through. */
    background-color: rgba(121, 85, 72, 0.65);
  }
  
  
  body { margin: 0; padding: 0; }
#map { position: absolute; top: 0; bottom: 0; width: 100%; }

body {
overflow: hidden;
}
 
body * {
-webkit-touch-callout: none;
-webkit-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;
}
 
.map {
position: absolute;
top: 0;
bottom: 0;
width: 100%;
}
.slider { height:98vh!important; }

.gone { display:opacity:0!important; }
.fader { -webkit-transition: .3s ease-out; transition: .3s ease-out; }

.collapsible-header { padding:0!important; }
.goner { display:none; }
#leave i { width:48px!important;height:48px!important; border:none!important; box-shadow:none!important; display:flex!important; background-size:cover!important;}
#flower i { width:48px!important;height:48px!important; border:none!important; box-shadow:none!important; background-size:cover!important; }

#map-globe { overflow:auto!important; position:initial!important; }
#scanner:hover { color:dimgrey; border-bottom: solid 2px dimgrey!important; }

.mapboxgl-compare .compare-swiper-vertical { background-color:indianred!important; top:30%; }


@keyframes hero-walkx
{
    from {
        left: -300px;
    }
    to {
        left: 125%;
    }
}

@keyframes bad_walk
{
    from {
        right: -300px;
    }
    to {
        right: -10px;
    }
}

@keyframes cat-walk { from { left: -300px; } to { left: 1000px; } }

.game-image { opacity: 0;   transition: opacity .25s ease-in-out;
  -moz-transition: opacity .25s ease-in-out;
  -webkit-transition: opacity .25s ease-in-out; width:20%; min-width:120px; bottom:-8px!important; }
  
  .flipper {  transform: scaleX(-1); }
  
  .midland { display: flex; justify-content: center;  align-items: center;  }
  
  .hover-link:hover { opacity:0.75;   filter: sepia(100%) saturate(300%) brightness(70%) hue-rotate(180deg); cursor:pointer; }
  .picker { border-radius:12px!important; }
  
#sprite {
    width: 200px;
    height: 170px;
    background:url('../Images/monkey1small.png') 0 0;

    -webkit-animation-duration:4000ms;
    -webkit-animation-iteration-count:infinite;
    -webkit-animation-timing-function:linear;
    -webkit-animation-name:animate01;
    -webkit-animation-direction:forward;

    -moz-animation-duration:1ms;
    -moz-animation-iteration-count:infinite;
    -moz-animation-timing-function:step-start;
    -moz-animation-name:animate01;
}

@-webkit-keyframes poor-ax-walk { 0% { background-image:url('res/img/dralun/anim/char/poor/ax/walk/000.gif'); left: -125px;  } 50% { background-image:url('res/img/dralun/anim/char/poor/ax/walk/000.gif'); left: 125%;  } 51% { background-image:url('res/img/dralun/anim/char/poor/ax/walk/180.gif');  left: 125%; } 100% { background-image:url('res/img/dralun/anim/char/poor/ax/walk/180.gif');  left:-125px; } }


@-webkit-keyframes poor-sickle-walk { 0% { background-image:url('res/img/dralun/anim/char/poor/sickle/walk/000.gif'); left: -125px;  } 50% { background-image:url('res/img/dralun/anim/char/poor/sickle/walk/000.gif'); left: 125%;  } 51% { background-image:url('res/img/dralun/anim/char/poor/sickle/walk/180.gif');  left: 125%; } 100% { background-image:url('res/img/dralun/anim/char/poor/sickle/walk/180.gif');  left:-125px; } }
@-webkit-keyframes poor-hammer-walk { 0% { background-image:url('res/img/dralun/anim/char/poor/hammer/walk/000.gif'); left: -125px;  } 50% { background-image:url('res/img/dralun/anim/char/poor/hammer/walk/000.gif'); left: 125%;  } 51% { background-image:url('res/img/dralun/anim/char/poor/hammer/walk/180.gif');  left: 125%; } 100% { background-image:url('res/img/dralun/anim/char/poor/hammer/walk/180.gif');  left:-125px; } }
@-webkit-keyframes indian-ax-walk { 0% { background-image:url('res/img/dralun/anim/char/indian/ax/walk/000.gif'); left: -125px;  } 50% { background-image:url('res/img/dralun/anim/char/indian/ax/walk/000.gif'); left: 125%;  } 51% { background-image:url('res/img/dralun/anim/char/indian/ax/walk/180.gif');  left: 125%; } 100% { background-image:url('res/img/dralun/anim/char/indian/ax/walk/180.gif');  left:-125px; } }
@-webkit-keyframes indian-bow-walk { 0% { background-image:url('res/img/dralun/anim/char/indian/bow/walk/000.gif'); left: -125px;  } 50% { background-image:url('res/img/dralun/anim/char/indian/bow/walk/000.gif'); left: 125%;  } 51% { background-image:url('res/img/dralun/anim/char/indian/bow/walk/180.gif');  left: 125%; } 100% { background-image:url('res/img/dralun/anim/char/indian/bow/walk/180.gif');  left:-125px; } }
@-webkit-keyframes indian-chief-walk { 0% { background-image:url('res/img/dralun/anim/char/indian/chief/walk/000.gif'); left: -125px;  } 50% { background-image:url('res/img/dralun/anim/char/indian/chief/walk/000.gif'); left: 125%;  } 51% { background-image:url('res/img/dralun/anim/char/indian/chief/walk/180.gif');  left: 125%; } 100% { background-image:url('res/img/dralun/anim/char/indian/chief/walk/180.gif');  left:-125px; } }
@-webkit-keyframes indian-rifle-walk { 0% { background-image:url('res/img/dralun/anim/char/indian/rifle/walk/000.gif'); left: -125px;  } 50% { background-image:url('res/img/dralun/anim/char/indian/rifle/walk/000.gif'); left: 125%;  } 51% { background-image:url('res/img/dralun/anim/char/indian/rifle/walk/180.gif');  left: 125%; } 100% { background-image:url('res/img/dralun/anim/char/indian/rifle/walk/180.gif');  left:-125px; } }
@-webkit-keyframes indian-shaman-walk { 0% { background-image:url('res/img/dralun/anim/char/indian/shaman/walk/000.gif'); left: -125px;  } 50% { background-image:url('res/img/dralun/anim/char/indian/shaman/walk/000.gif'); left: 125%;  } 51% { background-image:url('res/img/dralun/anim/char/indian/shaman/walk/180.gif');  left: 125%; } 100% { background-image:url('res/img/dralun/anim/char/indian/shaman/walk/180.gif');  left:-125px; } }
@-webkit-keyframes indian-spear-walk { 0% { background-image:url('res/img/dralun/anim/char/indian/spear/walk/000.gif'); left: -125px;  } 50% { background-image:url('res/img/dralun/anim/char/indian/spear/walk/000.gif'); left: 125%;  } 51% { background-image:url('res/img/dralun/anim/char/indian/spear/walk/180.gif');  left: 125%; } 100% { background-image:url('res/img/dralun/anim/char/indian/spear/walk/180.gif');  left:-125px; } }
@-webkit-keyframes rich-blue-walk { 0% { background-image:url('res/img/dralun/anim/char/rich/blue/walk/000.gif'); left: -125px;  } 50% { background-image:url('res/img/dralun/anim/char/rich/blue/walk/000.gif'); left: 125%;  } 51% { background-image:url('res/img/dralun/anim/char/rich/blue/walk/180.gif');  left: 125%; } 100% { background-image:url('res/img/dralun/anim/char/rich/blue/walk/180.gif');  left:-125px; } }
@-webkit-keyframes rich-brute-walk { 0% { background-image:url('res/img/dralun/anim/char/rich/brute/walk/000.gif'); left: -125px;  } 50% { background-image:url('res/img/dralun/anim/char/rich/brute/walk/000.gif'); left: 125%;  } 51% { background-image:url('res/img/dralun/anim/char/rich/brute/walk/180.gif');  left: 125%; } 100% { background-image:url('res/img/dralun/anim/char/rich/brute/walk/180.gif');  left:-125px; } }
@-webkit-keyframes rich-dynamite-walk { 0% { background-image:url('res/img/dralun/anim/char/rich/dynamite/walk/000.gif'); left: -125px;  } 50% { background-image:url('res/img/dralun/anim/char/rich/dynamite/walk/000.gif'); left: 125%;  } 51% { background-image:url('res/img/dralun/anim/char/rich/dynamite/walk/180.gif');  left: 125%; } 100% { background-image:url('res/img/dralun/anim/char/rich/dynamite/walk/180.gif');  left:-125px; } }
@-webkit-keyframes rich-priest-walk { 0% { background-image:url('res/img/dralun/anim/char/rich/priest/walk/000.gif'); left: -125px;  } 50% { background-image:url('res/img/dralun/anim/char/rich/priest/walk/000.gif'); left: 125%;  } 51% { background-image:url('res/img/dralun/anim/char/rich/priest/walk/180.gif');  left: 125%; } 100% { background-image:url('res/img/dralun/anim/char/rich/priest/walk/180.gif');  left:-125px; } }
@-webkit-keyframes rich-ranger-walk { 0% { background-image:url('res/img/dralun/anim/char/rich/ranger/walk/000.gif'); left: -125px;  } 50% { background-image:url('res/img/dralun/anim/char/rich/ranger/walk/000.gif'); left: 125%;  } 51% { background-image:url('res/img/dralun/anim/char/rich/ranger/walk/180.gif');  left: 125%; } 100% { background-image:url('res/img/dralun/anim/char/rich/ranger/walk/180.gif');  left:-125px; } }
@-webkit-keyframes rich-two-walk { 0% { background-image:url('res/img/dralun/anim/char/rich/two/walk/000.gif'); left: -125px;  } 50% { background-image:url('res/img/dralun/anim/char/rich/two/walk/000.gif'); left: 125%;  } 51% { background-image:url('res/img/dralun/anim/char/rich/two/walk/180.gif');  left: 125%; } 100% { background-image:url('res/img/dralun/anim/char/rich/two/walk/180.gif');  left:-125px; } }
@-webkit-keyframes hero-gun-walk { 0% { background-image:url('res/img/dralun/anim/char/cowboy/gun/walk/000.gif'); left: -125px;  } 50% { background-image:url('res/img/dralun/anim/char/cowboy/gun/walk/000.gif'); left: 125%;  } 51% { background-image:url('res/img/dralun/anim/char/cowboy/gun/walk/180.gif');  left: 125%; } 100% { background-image:url('res/img/dralun/anim/char/cowboy/gun/walk/180.gif');  left:-125px; } }
@-webkit-keyframes hero-big-walk { 0% { background-image:url('res/img/dralun/anim/char/cowboy/big/walk/000.gif'); left: -125px;  } 50% { background-image:url('res/img/dralun/anim/char/cowboy/big/walk/000.gif'); left: 125%;  } 51% { background-image:url('res/img/dralun/anim/char/cowboy/big/walk/180.gif');  left: 125%; } 100% { background-image:url('res/img/dralun/anim/char/cowboy/big/walk/180.gif');  left:-125px; } }
@-webkit-keyframes hero-winchester-walk { 0% { background-image:url('res/img/dralun/anim/char/cowboy/winchester/walk/000.gif'); left: -125px;  } 50% { background-image:url('res/img/dralun/anim/char/cowboy/winchester/walk/000.gif'); left: 125%;  } 51% { background-image:url('res/img/dralun/anim/char/cowboy/winchester/walk/180.gif');  left: 125%; } 100% { background-image:url('res/img/dralun/anim/char/cowboy/winchester/walk/180.gif');  left:-125px; } }
@-webkit-keyframes rich-skel-walk { 0% { background-image:url('res/img/dralun/anim/char/rich/skel/walk/000.gif'); left: -125px;  } 50% { background-image:url('res/img/dralun/anim/char/rich/skel/walk/000.gif'); left: 125%;  } 51% { background-image:url('res/img/dralun/anim/char/rich/skel/walk/180.gif');  left: 125%; } 100% { background-image:url('res/img/dralun/anim/char/rich/skel/walk/180.gif');  left:-125px; } }

@-moz-keyframes animate01 {
0%           { background:url('../Images/monkey1small.png') 0 0; }
20%          { background:url('../Images/monkey2small.png') 0 0; }
40%          { background:url('../Images/monkey3small.png') 0 0; }
60%          { background:url('../Images/monkey4small.png') 0 0; }
80%          { background:url('../Images/monkey5small.png') 0 0; }
100%         { background:url('../Images/monkey1small.png') 0 0; }
}

.foot { color:ghostwhite; font-weight:bold; margin:12px; padding:0; } 
.container {
  overflow: hidden;
}

.sliding-background {
  background-image:url('res/img/dralun/gif/jungle.gif');    background-size: contain; background-position-y: center; 
  height: 100%;
width:300%;
  animation: slide 60s linear infinite;
}

@keyframes slide{
  0% {
    transform: translate3d(0, 0, 0);
  }
  100% {
    transform: translate3d(-66%, 0, 0);
  }
}
#badder {
  
  animation: attack 30s linear infinite;
}

@keyframes attack {
  0% {
    transform: translate3d(0, 0, 0);
  }
  100% {
    transform: translate3d(170%, 0, 0);
  }
}

.viewport {
  -webkit-perspective: 800px;
  -moz-perspective: 800px;
  -ms-perspective: 800px;
  -o-perspective: 800px;
  perspective: 800px;
  -webkit-perspective-origin: 50% 200px;
  -moz-perspective-origin: 50% 200px;
  -ms-perspective-origin: 50% 200px;
  -o-perspective-origin: 50% 200px;
  perspective-origin: 50% 200px;
  -webkit-transform: scale(0.8, 0.8);
  -moz-transform: scale(0.8, 0.8);
  -ms-transform: scale(0.8, 0.8);
  -o-transform: scale(0.8, 0.8);
  transform: scale(0.8, 0.8);
  -webkit-box-reflect: below 170px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(0%, transparent), to(rgba(250, 250, 250, 0.1))); }

.cube {
  position: relative;
  margin: 0 auto;
  height: 200px;
  width: 200px;
  -webkit-transform-style: preserve-3d;
  -moz-transform-style: preserve-3d;
  -ms-transform-style: preserve-3d;
  -o-transform-style: preserve-3d;
  transform-style: preserve-3d;
  -webkit-transform: rotateX(136deg) rotateY(1122deg);
  -moz-transform: rotateX(136deg) rotateY(1122deg);
  -ms-transform: rotateX(136deg) rotateY(1122deg);
  -o-transform: rotateX(136deg) rotateY(1122deg);
  transform: rotateX(136deg) rotateY(1122deg); }

.cube > div {
  overflow: hidden;
  position: absolute;
  opacity: 0.9;
  height: 200px;
  width: 200px;
  background-image: url("https://jordizle.com/static/img/codepen/blank.png");
  -webkit-touch-callout: none;
  -moz-touch-callout: none;
  -ms-touch-callout: none;
  -o-touch-callout: none;
  touch-callout: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  -o-user-select: none;
  user-select: none; }

.cube > div > div.cube-image {
  width: 200px;
  height: 200px;
  -webkit-transform: rotate(180deg);
  -moz-transform: rotate(180deg);
  -ms-transform: rotate(180deg);
  -o-transform: rotate(180deg);
  transform: rotate(180deg);
  line-height: 200px;
  font-size: 80px;
  text-align: center;
  color: #1b9bd8;
  -webkit-transition: color 600ms;
  -moz-transition: color 600ms;
  -ms-transition: color 600ms;
  -o-transition: color 600ms;
  transition: color 600ms; }
  .cube > div > div.cube-image.active {
    color: red; }

.cube > div:hover {
  cursor: pointer; }

.cube > div:active {
  cursor: pointer; }

.cube > div:first-child {
  -webkit-transform: rotateX(90deg) translateZ(100px);
  -moz-transform: rotateX(90deg) translateZ(100px);
  -ms-transform: rotateX(90deg) translateZ(100px);
  -o-transform: rotateX(90deg) translateZ(100px);
  transform: rotateX(90deg) translateZ(100px);
  outline: 1px solid transparent; }

.cube > div:nth-child(2) {
  -webkit-transform: translateZ(100px);
  -moz-transform: translateZ(100px);
  -ms-transform: translateZ(100px);
  -o-transform: translateZ(100px);
  transform: translateZ(100px);
  outline: 1px solid transparent; }

.cube > div:nth-child(3) {
  -webkit-transform: rotateY(90deg) translateZ(100px);
  -moz-transform: rotateY(90deg) translateZ(100px);
  -ms-transform: rotateY(90deg) translateZ(100px);
  -o-transform: rotateY(90deg) translateZ(100px);
  transform: rotateY(90deg) translateZ(100px);
  outline: 1px solid transparent; }

.cube > div:nth-child(4) {
  -webkit-transform: rotateY(180deg) translateZ(100px);
  -moz-transform: rotateY(180deg) translateZ(100px);
  -ms-transform: rotateY(180deg) translateZ(100px);
  -o-transform: rotateY(180deg) translateZ(100px);
  transform: rotateY(180deg) translateZ(100px);
  outline: 1px solid transparent; }

.cube > div:nth-child(5) {
  -webkit-transform: rotateY(-90deg) translateZ(100px);
  -moz-transform: rotateY(-90deg) translateZ(100px);
  -ms-transform: rotateY(-90deg) translateZ(100px);
  -o-transform: rotateY(-90deg) translateZ(100px);
  transform: rotateY(-90deg) translateZ(100px);
  outline: 1px solid transparent; }

.cube > div:nth-child(6) {
  -webkit-transform: rotateX(-90deg) rotate(180deg) translateZ(100px);
  -moz-transform: rotateX(-90deg) rotate(180deg) translateZ(100px);
  -ms-transform: rotateX(-90deg) rotate(180deg) translateZ(100px);
  -o-transform: rotateX(-90deg) rotate(180deg) translateZ(100px);
  transform: rotateX(-90deg) rotate(180deg) translateZ(100px);
  outline: 1px solid transparent; }

object {
  opacity: 0.5; }

object:hover {
  opacity: 1; }

@media (max-width: 640px) {
  .viewport {
    -webkit-transform: scale(0.6, 0.6);
    -moz-transform: scale(0.6, 0.6);
    -ms-transform: scale(0.6, 0.6);
    -o-transform: scale(0.6, 0.6);
    transform: scale(0.6, 0.6); } }
</style></body></html>



# mail
import smtplib, base64, ssl
from email.mime.text import MIMEText
from email.mime.multipart import MIMEMultipart

HEADER = "<div style='width:100%;background-color:green;'><img src='https://nfnth.com/res/img/seal3.png' style='width:64px;height:64px;'/></div>"
FOOTER = "<div style='width:100%;background-color:darkgreen;'>Thank you</div>"

CONFIRM = "<div>Please confirm your account <a href='https://nfnth.com/valid?user=####&key=####'>here</a>.</div>"
RESET = "<div>Please reset your account <a href='https://nfnth.com/reset?user=####&key=####'>here</a>.</div>"
RECEIPT = "<div>Thank you for your purchase, view your receipt <a href='https://nfnth.com/receipt?user=####&view=####'>here</a>.</div>"

def mail(to, subject, template, parameters):
    context = ssl.create_default_context()

    with smtplib.SMTP("smtp.titan.email", 465) as server:
        server.starttls(context=context)
        server.login("m@nfnth.com", "Dralun4714!")
        message = MIMEMultipart("alternative")
        message["Subject"] = subject
        message["From"] = "m@nfnth.com"
        message["To"] = to
        message_template = HEADER + template + FOOTER
        for parameter in parameters:
            message_template = message_template.replace('####', parameter)
        part1 = MIMEText(message_template, "plain")
        part2 = MIMEText(message_template, "html")
        message.attach(part1)
        message.attach(part2)
        server.send_message(message)
        
import stripe, json
stripe.api_key = "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"
endpoint_secret = 'whsec_XrMNeFWTRpZcTcQVrmegnoCBvVDdZORS'

async def pay(request):
    intent = stripe.PaymentIntent.create(amount=1099,currency="usd",automatic_payment_methods={"enabled": True},)
    return web.Response(text=intent.client_secret, content_type="text/html")
    #return jsonify(client_secret=intent.client_secret)
    
    
    async def reset(request):
    user = request.match_info.get('user', '')
    async for field in (await request.multipart()):
        if field.name == 'key':
            key = (await field.read()).decode()
            pass
        if field.name == 'password':
            password = (await field.read()).decode()
            pass
    if key == "": # initiate
        tmp = uuid.uuid4().hex
        with open(PRIVATE + user + "/reset", "wt") as fout:
            fout.write(tmp)
            pass
        mail(user, "Reset Email", RESET, [user, tmp])
        return web.Response(text="valid", content_type="text/html")
    else:
        with open(PRIVATE + user + "/reset","r") as fin:
            tmp = fin.readlines()
        if tmp == key:
            if os.path.exists(PRIVATE + user):
                with open(PRIVATE + user + "/key", "wt") as fout:
                    fout.write(password)
                    pass
                return web.Response(text="valid", content_type="text/html")
    return web.Response(text="invalid", content_type="text/html")
